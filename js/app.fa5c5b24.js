(function(e){function t(t){for(var o,n,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},i={app:0},r=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/sispacam-front/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0629":function(e,t,a){},"076b":function(e,t,a){"use strict";a("1143")},"0836":function(e,t,a){"use strict";a("9c33")},"0fb0":function(e,t,a){"use strict";a("b363")},"112b":function(e,t,a){},1143:function(e,t,a){},1428:function(e,t,a){"use strict";a("47c2")},1949:function(e,t,a){"use strict";a("b4df")},"1a1a":function(e,t,a){},2016:function(e,t,a){},"213f":function(e,t,a){},"391c":function(e,t,a){"use strict";a("213f")},4085:function(e,t,a){},4211:function(e,t,a){var o={"./4.0.jpg":"ff18","./4.5.jpg":"d04f","./5.0.jpg":"6ded","./5.5.jpg":"7604","./6.0.jpg":"a53f"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="4211"},"47c2":function(e,t,a){},"47f4":function(e,t,a){},"4cb0":function(e,t,a){"use strict";a("db35")},5276:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("a026"),i=function(){var e=this,t=e._self._c;return t("div",[e.isAuthenticated?t("nav",{staticClass:"navbar navbar-inverse sub-navbar navbar-fixed-top"},[t("div",{staticClass:"container"},[e._m(0),t("div",{staticClass:"collapse navbar-collapse",attrs:{id:"subenlaces"}},[t("ul",{staticClass:"nav navbar-nav navbar-right"},[t("li",{staticClass:"dropdown"},[e._m(1),t("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[t("li",[t("router-link",{attrs:{to:"/asignaciones"}},[e._v(" Asignaciones ")])],1),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("li",[t("a",{attrs:{href:"/altacamino"}},[e._v("Alta")])]):e._e(),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("li",[t("a",{attrs:{href:"/caminos"}},[e._v("Caminos")])]):e._e(),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("li",[t("a",{attrs:{href:"/presupuesto/base/kilometro"}},[e._v("Presupuesto Base por Kilómetro")])]):e._e(),e.$route.params.obraId?t("li",[t("a",{attrs:{href:"/editcamino/"+e.$route.params.obraId}},[e._v(e._s(e.$route.params.obraId))])]):e._e()])]),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("li",{staticClass:"dropdown"},[e._m(2),e._m(3)]):e._e(),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("li",{staticClass:"dropdown"},[e._m(4),e._m(5)]):e._e()])])])]):e._e(),t("div",{staticClass:"container"},[t("div",{staticClass:"row top-buffer"},[t("div",{staticClass:"col-md-8"},[e.getBreadcrumb?t("ol",{staticClass:"breadcrumb"},[e._m(6),e._m(7),t("li",[e._v("DGC - Cabeceras Municipales")]),e._l(e.getBreadcrumb,(function(a,o){return t("li",{key:o,staticClass:"active"},[e._v(" "+e._s(a)+" ")])}))],2):e._e()])]),t("div",{staticClass:"row"},[e._m(8),t("div",{staticClass:"col-md-5"},[e.isAuthenticated?t("div",{staticClass:"usuario"},[t("p",[e._v(" "+e._s(e.getUser))]),t("p",[t("strong",[e._v("Rol:")]),e._v(" "+e._s(e.getRol)+" "),t("a",{staticClass:"pull-right",attrs:{href:"#"},on:{click:e.logout}},[e._v("Cerrar sesión")])])]):e._e()])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("h1",[e._v("Dirección General de Carreteras")]),t("h2",[e._v("Cabeceras Municipales")]),t("h3",[e._v(e._s(e.getBreadcrumb[0]))]),t("h3",[e._v(e._s(e.$route.params.nombre_camino))]),t("hr",{staticClass:"red"})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("router-view")],1)])])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar-header"},[t("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#subenlaces","aria-expanded":"false","aria-controls":"navbar"}},[t("span",{staticClass:"sr-only"},[e._v("Interruptor de Navegación")]),t("span",{staticClass:"icon-bar"}),t("span",{staticClass:"icon-bar"}),t("span",{staticClass:"icon-bar"})]),t("a",{staticClass:"navbar-brand",attrs:{href:"https://www.gob.mx/sct"}},[e._v("Secretaría de Comunicaciones y Transportes")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[e._v("Opciones "),t("span",{staticClass:"caret"})])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[e._v("Financiero "),t("span",{staticClass:"caret"})])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[t("li",[t("a",{attrs:{href:"/financiero"}},[e._v("Consulta Presupuestal")])])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[e._v("Avances Físico "),t("span",{staticClass:"caret"})])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[t("li",[t("a",{attrs:{href:"/avancefinanciero"}},[e._v("Avances Físicos de La Obra")])])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:"https://www.gob.mx"}},[t("i",{staticClass:"icon icon-home"})])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:"https://www.gob.mx/sct"}},[e._v("SCT")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-7",attrs:{id:"logotipo"}},[t("img",{staticClass:"img-responsive",attrs:{src:a("aca7"),alt:"Secretaría de Comunicaciones y Transportes"}})])}],n=a("5530"),s=(a("ac1f"),a("00b4"),a("2f62")),c=(a("d3b7"),a("caad"),a("2532"),a("bc3a")),l=a.n(c),d=a("c7eb"),u=a("1da1"),m=a("ade3");a("b0c0");function p(e){return lc({url:"/token/",method:"post",data:e})}function f(e){return lc({url:"/token/refresh",method:"post",data:e})}var v=a("8c4f"),b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[t("li",{class:"Geo"==e.activeTab?"active":"",attrs:{role:"presentation",id:"tabPersonal"}},[t("a",{attrs:{href:"#datosGeograficos","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-1","aria-expanded":"true"}},[e._v(" Datos Geográficos ")])]),t("li",{class:"Camino"==e.activeTab?"active":"",attrs:{role:"presentation",id:"tabDatosCamino"}},[t("a",{attrs:{href:"#datosCamino","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-2","aria-expanded":"true"}},[e._v(" Datos del Camino ")])])]),t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"datosGeograficos"}},[t("DatosGeograficos",{attrs:{isCanceled:e.isCanceled,camino_id:e.camino_id},on:{"set-icveEdo":e.setCEdo,"show-error":e.showError,"update:camino_id":function(t){e.camino_id=t}}})],1),t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"datosCamino"}},[t("DatosCamino",{attrs:{isCanceled:e.isCanceled,edo:e.cEstado},on:{"show-error":e.showError}})],1)])]),t("div",[e.msgError?t("div",{staticClass:"alert alert-danger"},[e._v(e._s(e.msgError))]):e._e()])])},h=[],g=(a("e9c4"),a("99af"),a("fb6a"),a("498a"),function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Datos del Camino"}})],1),t("table",{staticClass:"tableContenido",attrs:{id:"datosCamino",width:"100%",border:"0"}},[t("tr",[t("td",[t("div",{staticClass:"form-group col-md-12"},[t("label",[e._v("Estrategia Gobierno Federal:")]),t("div",[t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ciit,expression:"ciit"}],attrs:{type:"checkbox",id:"ciit",value:"true",name:"ciit",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.ciit)?e._i(e.ciit,"true")>-1:e.ciit},on:{change:function(t){var a=e.ciit,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="true",n=e._i(a,r);o.checked?n<0&&(e.ciit=a.concat([r])):n>-1&&(e.ciit=a.slice(0,n).concat(a.slice(n+1)))}else e.ciit=i}}}),e._v(" CIIT ")]),t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tren_maya,expression:"tren_maya"}],attrs:{type:"checkbox",id:"trenMaya",value:"trenMaya",name:"trenMaya",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.tren_maya)?e._i(e.tren_maya,"trenMaya")>-1:e.tren_maya},on:{change:function(t){var a=e.tren_maya,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="trenMaya",n=e._i(a,r);o.checked?n<0&&(e.tren_maya=a.concat([r])):n>-1&&(e.tren_maya=a.slice(0,n).concat(a.slice(n+1)))}else e.tren_maya=i}}}),e._v(" Tren Maya ")]),t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.caminosOriginales,expression:"caminosOriginales"}],attrs:{type:"checkbox",id:"caminosOriginales",value:"caminosOriginales",name:"caminosOriginales",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.caminosOriginales)?e._i(e.caminosOriginales,"caminosOriginales")>-1:e.caminosOriginales},on:{change:function(t){var a=e.caminosOriginales,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="caminosOriginales",n=e._i(a,r);o.checked?n<0&&(e.caminosOriginales=a.concat([r])):n>-1&&(e.caminosOriginales=a.slice(0,n).concat(a.slice(n+1)))}else e.caminosOriginales=i}}}),e._v(" Caminos Originales ")])])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"nombrecamino"}},[e._v("Nombre del Camino:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre_camino,expression:"nombre_camino"},{name:"model",rawName:"v-model.trim",value:e.$v.nombre_camino.$model,expression:"$v.nombre_camino.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"form-control-error":e.$v.nombre_camino.$error},attrs:{id:"nombre_camino",name:"nombre_camino",type:"text",placeholder:"Nombre del Camino",disabled:e.isCanceled,value:""},domProps:Object(m["a"])({value:e.nombre_camino},"value",e.$v.nombre_camino.$model),on:{input:[function(t){t.target.composing||e.$set(e.$v.nombre_camino,"$model",t.target.value.trim())},function(t){t.target.composing||(e.nombre_camino=t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.nombre_camino.required&&e.$v.nombre_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])])]),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-4"},[t("label",[e._v("Longitud total(km):")]),t("div",[t("ejs-numerictextbox",{class:{"form-control-error":e.$v.longitud_camino.$error},attrs:{id:"longitud",placeholder:"Longitud total(km)",min:e.min,max:e.max,disabled:e.isCanceled,showSpinButton:!1},model:{value:e.longitud_camino,callback:function(t){e.longitud_camino=t},expression:"longitud_camino"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.longitud_camino.required&&e.$v.longitud_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1)]),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Longitud a pavimentar 2019-2024(km):")]),t("div",[t("ejs-numerictextbox",{class:{"form-control-error":e.$v.longitud_pavimentar.$error},attrs:{id:"longitud_pavimentar",placeholder:"Longitud a pavimentar 2019-2024(km)",min:e.min,max:e.max,disabled:e.isCanceled,showSpinButton:!1},model:{value:e.longitud_pavimentar,callback:function(t){e.longitud_pavimentar=t},expression:"longitud_pavimentar"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.longitud_pavimentar.required&&e.$v.longitud_pavimentar.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1)]),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Ancho del Camino:")]),t("ejs-dropdownlist",{ref:"refAncho",class:{"form-control-error":e.$v.ancho_camino.$error},attrs:{id:"ancho_camino",dataSource:e.anchoCaminoData,change:e.obteneranchocamino,fields:e.anchoCaminoFields,placeholder:"Selecciona el ancho del camino",enabled:!e.isCanceled},model:{value:e.$v.ancho_camino.$model,callback:function(t){e.$set(e.$v.ancho_camino,"$model","string"===typeof t?t.trim():t)},expression:"$v.ancho_camino.$model"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.ancho_camino.required&&e.$v.ancho_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Presupuesto Base por Kilometro:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.Presup,expression:"Presup"}],staticClass:"form-control",attrs:{id:"Presup",type:"text",placeholder:"",value:"",disabled:e.isCanceled},domProps:{value:e.Presup},on:{input:function(t){t.target.composing||(e.Presup=t.target.value)}}})]),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Presupuesto Base de obra total:")]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:e.resul,callback:function(t){e.resul=t},expression:"resul"}})],1)])])])])]),t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Datos Georreferenciales"}}),e._m(0),t("div",{staticClass:"col-md-6"},[e._m(1),t("div",{staticClass:"form-group col-md-6 pt-4"},[t("div",{staticClass:"mt-2"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lat_inicial,expression:"lat_inicial"}],staticClass:"form-control",class:e.$v.lat_inicial.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.lat_inicial},on:{input:function(t){t.target.composing||(e.lat_inicial=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lat_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])])]),t("div",{staticClass:"form-group col-md-6"},[t("div",[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lon_inicial,expression:"lon_inicial"}],staticClass:"form-control",class:e.$v.lon_inicial.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.lon_inicial},on:{input:function(t){t.target.composing||(e.lon_inicial=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lon_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])])])]),t("div",{staticClass:"col-md-6"},[e._m(2),t("div",{staticClass:"form-group col-md-6 pt-4"},[t("div",{staticClass:"mt-2"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lat_final,expression:"lat_final"}],staticClass:"form-control",class:e.$v.lat_final.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.lat_final},on:{input:function(t){t.target.composing||(e.lat_final=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lat_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])])]),t("div",{staticClass:"form-group col-md-6"},[t("div",[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lon_final,expression:"lon_final"}],staticClass:"form-control",class:e.$v.lon_final.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.lon_final},on:{input:function(t){t.target.composing||(e.lon_final=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lon_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])])])])],1),t("table",{attrs:{width:"100%",border:"0"}},[t("tr",[t("td",[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Características actuales del camino:")]),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.caracteristicasCamino,expression:"caracteristicasCamino"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"caracteristicasCamino",name:"caracteristicasCamino",value:"",disabled:e.isCanceled,placeholder:"Ingrese las características actuales del camino"},domProps:{value:e.caracteristicasCamino},on:{input:function(t){t.target.composing||(e.caracteristicasCamino=t.target.value)}}})])])])])])]),t("table",{attrs:{width:"100%",border:"0"}},[t("tr",[t("td",[t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Beneficios del Camino:")]),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.beneficiosCamino,expression:"beneficiosCamino"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"beneficiosCamino",name:"beneficiosCamino",value:"",disabled:e.isCanceled,placeholder:"Ingrese los beneficios del camino"},domProps:{value:e.beneficiosCamino},on:{input:function(t){t.target.composing||(e.beneficiosCamino=t.target.value)}}})])])])])])]),t("div",{staticClass:"form-group"},[e.isCanceled?e._e():t("div",{staticClass:"row"},[t("button",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button","data-toggle":"modal",disabled:e.btnSaveDisabled},on:{click:e.GuardaDatos}},[e._v(" Guardar Datos ")])])]),e._m(3)])}),_=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-10",staticStyle:{"font-size":"16px"}},[t("strong",[e._v(" Valores aceptados ")]),t("br"),t("small",[e._v(" Lat: 14.517000 a 32.754000 ")]),t("br"),t("small",[e._v(" Lon: -117.080000 a -86.363800 ")]),t("br"),t("br")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h4",[e._v("Punto Inicial")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h4",[e._v("Punto Final")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"alertvalnum"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"alert alert-danger"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),t("div",{},[e._v("Ocurrio un error")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("La Longitud a pavimentar no puede ser mayor a la Longitud total ")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[e._v(" Cerrar")])])])])])}],C=(a("5319"),a("5b81"),a("0c8a")),x=a("eda0"),y=a("5c96"),w=a.n(y),P="/caminos/";function O(e){return lc({url:P,method:"get",params:e})}function A(e){return lc({url:P,method:"post",data:e})}function M(e){return lc({url:P+e,method:"get"})}function I(e,t){return lc({url:P+e,method:"patch",data:t})}function k(){return lc({url:"/caminos/estatus/",method:"GET"})}function E(e){return lc({url:"caminos/".concat(e,"/avance-fisico/"),method:"GET"})}var T=a("b5ae"),j=a("f260"),S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-2"},[t("div",{staticClass:"col-md-12"},[t("h2",[e._v(e._s(e.title))]),t("hr",{staticClass:"red"})])])},R=[],D={name:"TituloSeccion",props:{title:String}},N=D,B=a("2877"),L=Object(B["a"])(N,S,R,!1,null,null,null),F=L.exports;o["default"].use(x["a"]),o["default"].use(C["a"]),o["default"].use(j["a"],{symbol:"$",thousandsSeparator:",",fractionCount:4,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!0});var q={components:{TituloSeccion:F},name:"DatosCamino",decimals:5,value:10,props:{edo:{tipo_camino:"",otro_tipo_camino:"",clave_estado:"",clave_mun:"",localidades:"",region:"",ubicacion:""},isCanceled:{required:!0,default:!1}},data:function(){return{idcamino:"",ciit:"",tren_maya:"",caminosOriginales:"",nombre_camino:"",longitud_camino:"",longitud_pavimentar:"",caracteristicasCamino:"",beneficiosCamino:"",lat_inicial:"",lon_inicial:"",lat_final:"",lon_final:"",ancho_camino:"",min:0,max:999999,resul:"",btnSaveDisabled:!1,Presup:"",cons:"true",anchoCaminoFields:{text:"name",value:"id"},anchoCaminoData:[{id:1,name:"4.0"},{id:2,name:"4.5"},{id:3,name:"5.0"},{id:4,name:"5.5"},{id:5,name:"6.0"}]}},validations:{nombre_camino:{required:T["required"]},ancho_camino:{required:T["required"]},longitud_pavimentar:{required:T["required"]},longitud_camino:{required:T["required"]},lat_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}},lat_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}}},methods:{obteneranchocamino:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:1==e.ancho_camino&&(e.Presup="$ 2,700,104.59"),2==e.ancho_camino&&(e.Presup="$ 3,100,198.29"),3==e.ancho_camino&&(e.Presup="$ 3,507,565.95"),4==e.ancho_camino&&(e.Presup="$ 3,929,902.41"),5==e.ancho_camino&&(e.Presup="$ 4,300,019.57"),a=e.Presup.replaceAll("$","").replaceAll(",",""),e.resul=a*e.longitud_pavimentar;case 7:case"end":return t.stop()}}),t)})))()},GuardaDatos:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("show-error",!1),e.$v.$touch(),!e.$v.$invalid){t.next=6;break}e.submitStatus="Error",t.next=33;break;case 6:if(e.btnSaveDisabled=!0,t.prev=7,a={tipo_camino:e.edo.tipo_camino,camino_otro:e.edo.otro_tipo_camino,clave_estado:e.edo.clave_estado,clave_mun:e.edo.clave_mun,localidades:e.edo.localidades,region:e.edo.region,ubicacion:e.edo.ubicacion,nombre_camino:e.nombre_camino,longitud_camino:e.longitud_camino,longitud_pavimentar:e.longitud_pavimentar,caracteristicas:e.caracteristicasCamino,beneficios:e.beneficiosCamino,ciit:""!=e.ciit,tren_maya:""!=e.tren_maya,caminos_originales:""!=e.caminosOriginales,id_ancho_camino:e.ancho_camino,usuarios:1},e.lat_inicial&&(a.lat_inicial=e.lat_inicial),e.lat_final&&(a.lat_final=e.lat_final),e.lon_inicial&&(a.lon_inicial=e.lon_inicial),e.lon_final&&(a.lon_final=e.lon_final),!(e.longitud_pavimentar>e.longitud_camino)){t.next=17;break}return $("#alertvalnum").modal("show"),e.btnSaveDisabled=!1,t.abrupt("return");case 17:return o=y["Loading"].service({fullscreen:!1,lock:!0}),t.next=20,A(a).finally((function(){o.close()}));case 20:i=t.sent,e.idcamino=i,e.$swal("EXITO","Se guardaron correctamente los datos del camino ".concat(e.idcamino),"success"),e.btnSaveDisabled=!1,e.$router.push("/caminos"),t.next=33;break;case 27:t.prev=27,t.t0=t["catch"](7),e.btnSaveDisabled=!1,console.log("error al obtener el Id-Camino"),console.log(t.t0),e.$swal("ERROR","Error al guardar camino por","error");case 33:case"end":return t.stop()}}),t,null,[[7,27]])})))()}},beforeMount:function(){this.cons=this.isCanceled}},U=q,G=(a("1949"),Object(B["a"])(U,g,_,!1,null,null,null)),z=G.exports,V=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Tipo de Camino"}}),t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"tipoCamino"}},[e._v("Tipo de Camino:")]),t("div",{attrs:{id:"tipoCamino"}},[t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.typeOfRoad.tipo_camino,expression:"typeOfRoad.tipo_camino"}],attrs:{type:"radio",id:"cabecera",name:"tipo_camino",value:"C",disabled:e.isCanceled},domProps:{checked:e._q(e.typeOfRoad.tipo_camino,"C")},on:{change:[function(t){return e.$set(e.typeOfRoad,"tipo_camino","C")},e.resetValues]}}),e._v(" Cabecera ")]),t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.typeOfRoad.tipo_camino,expression:"typeOfRoad.tipo_camino"}],attrs:{type:"radio",id:"agencia",name:"tipo_camino",value:"A",disabled:e.isCanceled},domProps:{checked:e._q(e.typeOfRoad.tipo_camino,"A")},on:{change:[function(t){return e.$set(e.typeOfRoad,"tipo_camino","A")},e.resetValues]}}),e._v(" Agencia ")]),t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.typeOfRoad.tipo_camino,expression:"typeOfRoad.tipo_camino"}],attrs:{type:"radio",id:"otro",name:"tipo_camino",value:"O",disabled:e.isCanceled},domProps:{checked:e._q(e.typeOfRoad.tipo_camino,"O")},on:{change:[function(t){return e.$set(e.typeOfRoad,"tipo_camino","O")},e.resetValues]}}),e._v(" Otro ")]),t("label",{staticClass:"radio-inline"},["O"==e.typeOfRoad.tipo_camino?t("input",{directives:[{name:"model",rawName:"v-model",value:e.typeOfRoad.otroTipoCamino,expression:"typeOfRoad.otroTipoCamino"}],attrs:{placeholder:"Especificar otro"},domProps:{value:e.typeOfRoad.otroTipoCamino},on:{input:function(t){t.target.composing||e.$set(e.typeOfRoad,"otroTipoCamino",t.target.value)}}}):e._e()])])])],1),t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Estado, Municipio y Localidad"}}),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"estado"}},[e._v("Estado")]),t("ejs-combobox",{ref:"refEstado",class:{"form-control-error":e.$v.selectedState.$error},attrs:{id:"estado",dataSource:e.states,fields:e.fields,placeholder:"Selecciona un estado",change:e.fetchMunicipalities,enabled:!!e.states.length},model:{value:e.selectedState,callback:function(t){e.selectedState=t},expression:"selectedState"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.selectedState.required&&e.$v.selectedState.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"municipio"}},[e._v("Municipio")]),t("ejs-combobox",{ref:"refMunicipio",class:{"form-control-error":e.$v.selectedMunicipality.$error},attrs:{id:"municipio",dataSource:e.municipalities,fields:e.fields,placeholder:"Selecciona un municipio",change:e.obtenerLocalidades,enabled:!!e.municipalities.length},model:{value:e.selectedMunicipality,callback:function(t){e.selectedMunicipality=t},expression:"selectedMunicipality"}}),!e.$v.selectedMunicipality.required&&e.$v.selectedMunicipality.$error?t("div",{staticClass:"row col-md-10"},[t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]):e._e(),"AO".includes(e.typeOfRoad.tipo_camino)?t("div",[t("label",{staticClass:"control-label"},[e._v("Localidad")]),t("ejs-multiselect",{ref:"localidades",attrs:{id:"localidades",dataSource:e.localities,fields:e.fields,placeholder:"Selecciona una localidad",enabled:!!e.localities.length},model:{value:e.selectedLocalities,callback:function(t){e.selectedLocalities=t},expression:"selectedLocalities"}})],1):e._e()],1)],1),t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Datos a nivel municipal"}}),t("table",{ref:"datosPersonales",staticClass:"tableContenido",attrs:{id:"datosPersonales",width:"100%",border:"0"}},[t("tbody",[t("tr",[t("td",[t("div",{staticClass:"table-responsive",attrs:{id:"datosNivelMunicipal"}},[t("div",{staticClass:"col-md-12 help-block"}),e._m(0),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.region,expression:"region"}],staticClass:"form-control",attrs:{id:"region",placeholder:"Región",maxlength:"40"},domProps:{value:e.region},on:{input:function(t){t.target.composing||(e.region=t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(1),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ubicacion,expression:"ubicacion"}],staticClass:"form-control",attrs:{id:"ubicacion",placeholder:"Ubicación"},domProps:{value:e.ubicacion},on:{input:function(t){t.target.composing||(e.ubicacion=t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(2),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.datosGeograficos.poblacion_indigena,expression:"datosGeograficos.poblacion_indigena"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Población indígena",id:"poblacion_indigena",disabled:""},domProps:{value:e.datosGeograficos.poblacion_indigena},on:{input:function(t){t.target.composing||e.$set(e.datosGeograficos,"poblacion_indigena",t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(3),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.datosGeograficos.marginacion,expression:"datosGeograficos.marginacion"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.datosGeograficos.marginacion},on:{input:function(t){t.target.composing||e.$set(e.datosGeograficos,"marginacion",t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(4),t("div",{staticClass:"col-md-6"},[t("input",{staticClass:"form-control",attrs:{placeholder:"Total de población indígena",disabled:""},domProps:{value:e.datosGeograficos.poblacion_indigena}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(5),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.datosGeograficos.icve_estado_inegi,expression:"datosGeograficos.icve_estado_inegi",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.datosGeograficos.icve_estado_inegi},on:{input:function(t){t.target.composing||e.$set(e.datosGeograficos,"icve_estado_inegi",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(6),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.datosGeograficos.icve_municipio,expression:"datosGeograficos.icve_municipio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"icve_municipio",type:"number",disabled:""},domProps:{value:e.datosGeograficos.icve_municipio},on:{input:function(t){t.target.composing||e.$set(e.datosGeograficos,"icve_municipio",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(7),t("div",{staticClass:"col-md-6"},[t("ejs-numerictextbox",{attrs:{format:"n",showSpinButton:!1,enabled:!1,"aria-disabled":"false",value:e.datosGeograficos.totpoblacion}})],1),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"})]),t("div",{staticClass:"table-responsive"},[t("div",{staticClass:"col-md-12"},[t("table",{staticClass:"table table-responsive"},[t("thead",[t("tr",[e._m(8),t("th",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.datosGeograficos.ilocalidades_municipio,expression:"datosGeograficos.ilocalidades_municipio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"noLocalidadesMun",type:"number",disabled:""},domProps:{value:e.datosGeograficos.ilocalidades_municipio},on:{input:function(t){t.target.composing||e.$set(e.datosGeograficos,"ilocalidades_municipio",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._m(9)]),t("tbody",e._l(e.selectedLocalitiesArray,(function(a){return t("tr",{key:a.id},[t("td",{staticClass:"col-md-6"},[e._v(e._s(a.nombre))]),t("td",{staticClass:"col-md-6"},[e._v(e._s(e.formatNum(a.poblacion)))])])})),0)]),t("div",{staticClass:"table-responsive",attrs:{id:"datosNivelMunicipal"}},[t("div",{staticClass:"form-group"},[e._m(10),t("div",{staticClass:"col-md-6"},[t("ejs-numerictextbox",{attrs:{format:"n",showSpinButton:!1,enabled:!1,value:"0"},model:{value:e.datosGeograficos.ipoblacion_municipio,callback:function(t){e.$set(e.datosGeograficos,"ipoblacion_municipio",e._n(t))},expression:"datosGeograficos.ipoblacion_municipio"}})],1),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"})])])])])]),t("div",{staticClass:"form-group"})]),t("a",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button",href:"#datosCamino","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-1","aria-expanded":"true"},on:{click:function(t){return e.enviarDatos()}}},[e._v(" siguiente ")])])])],1)])},K=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Región:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Ubicación:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Poblacion indígena")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Grado de marginación:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Total de población indígena:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Clave INEGI estado:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Clave INEGI municipio:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Poblacion de municipio:")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"col-md-6"},[t("label",[e._v("Numero de Localidades: ")])])},function(){var e=this,t=e._self._c;return t("tr",[t("th",[e._v("Nombre")]),t("th",[e._v("Población")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Población Total de Localidades:")])])}],H=a("2909"),J=(a("a9e3"),a("13d5"),a("d81d"),a("7db0"),a("4de4"),a("b64b"),a("46f1")),W=a("2af1");function X(){return lc({url:"/estado/",method:"get"})}function Y(e){return lc({url:"/municipio/",method:"get",params:{estado:e}})}function Z(e){return lc({url:"/localidades/",method:"get",params:{municipio:e}})}o["default"].use(C["a"]),o["default"].use(J["a"]),o["default"].use(W["a"]);var Q={components:{TituloSeccion:F},name:"datosGeograficos",props:{camino_id:{type:Number},isCanceled:{required:!0,default:!1}},data:function(){return{states:[],statesFields:{text:"nombre",value:"clave_agee"},selectedState:"",municipalities:[],selectedMunicipality:"",localities:[],fields:{text:"nombre",value:"id"},selectedLocalities:[],typeOfRoad:{tipo_camino:"",otroTipoCamino:null},region:"",ubicacion:"",gradosMarginacion:{"":0,"Muy bajo":1,Bajo:2,Medio:3,Alto:4,"Muy alto":5}}},validations:{selectedState:{required:T["required"]},selectedMunicipality:{required:T["required"]}},methods:{enviarDatos:function(){console.log("ENVIAR DATOS",this.payload),this.$emit("set-icveEdo",{datos:this.payload})},fetchMunicipalities:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.selectedState){t.next=5;break}return t.next=4,Y(e.selectedStateObject.clave_agee);case 4:e.municipalities=t.sent;case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),e.$emit("show-error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerLocalidades:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.selectedMunicipality){t.next=5;break}return t.next=4,Z(e.selectedMunicipalityObject.id);case 4:e.localities=t.sent;case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),e.$emit("show-error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},formatNum:function(e){return(new Intl.NumberFormat).format(e)},resetValues:function(){this.selectedState="",this.selectedMunicipality="",this.selectedLocalities=[]}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X();case 3:e.states=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error("error al obtener estados"),e.$emit("show-error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},computed:{datosGeograficos:function(){return{clave_estado:this.selectedState,clave_mun:this.selectedMunicipality,icve_estado_inegi:this.selectedStateObject.clave_agee,icve_municipio:this.selectedMunicipalityObject.clave_agem,marginacion:this.gradoMarginacion,poblacion_indigena:this.selectedLocalitiesArray.reduce((function(e,t){return e+t.poblacion_indigena}),0),ipoblacion_municipio:this.selectedLocalitiesArray.reduce((function(e,t){return e+t.poblacion}),0),ilocalidades_municipio:this.selectedLocalitiesArray.length}},payload:function(){return{tipo_camino:this.typeOfRoad.tipo_camino,camino_otro:this.typeOfRoad.otroTipoCamino,clave_estado:this.selectedState,clave_mun:this.selectedMunicipality,localidades:this.selectedLocalities.map((function(e){return"".concat(e)})),region:this.region,ubicacion:this.ubicacion}},selectedStateObject:function(){var e=this;return this.states.find((function(t){return t.id===e.selectedState}))||{}},selectedMunicipalityObject:function(){var e=this;return this.municipalities.find((function(t){return t.id===e.selectedMunicipality}))||{}},selectedLocalitiesArray:function(){var e=this;return this.esTipoCabeceraElCamino?this.localities:this.localities.filter((function(t){return e.selectedLocalities.includes(t.id)}))},gradoMarginacion:function(){var e=this,t=this.selectedLocalitiesArray.map((function(t){return e.gradosMarginacion[t.grado_marginacion]})),a=Math.max.apply(Math,Object(H["a"])(t));return Object.keys(this.gradosMarginacion).find((function(t){return e.gradosMarginacion[t]===a}))},esTipoCabeceraElCamino:function(){return"C"===this.typeOfRoad.tipo_camino}},beforeMount:function(){this.typeOfRoad.tipo_camino="C"}},ee=Q,te=(a("0fb0"),Object(B["a"])(ee,V,K,!1,null,null,null)),ae=te.exports,oe={name:"AltaCamino",components:{DatosGeograficos:ae,DatosCamino:z},data:function(){return{isCanceled:!1,camino_id:0,cEstado:"",msgError:null,breadcrumb:["Camino "+this.$route.params.obraId],longitud_pavimentar:"",activeTab:"Geo"}},methods:Object(n["a"])(Object(n["a"])({setCEdo:function(e){var t=JSON.parse(JSON.stringify(e));this.cEstado=t.datos,this.activeTab="Camino"},showError:function(e){console.log("show-error"),this.msgError=e}},Object(s["d"])(["setBreadcrumb"])),{},{getStatus:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,mc(e);case 2:o=a.sent,t.isCanceled="C"==o.estatus,t.longitud_pavimentar=o.longitud_pavimentar;case 5:case"end":return a.stop()}}),a)})))()}}),computed:{getCaminoId:function(){return this.camino_id},getActiveTab:function(){return console.log("this.tabConv"),console.log(this.tabConv),console.log(this.$route.params),this.$route.params.tabConv?"tabConv":"tabDG"}},beforeMount:function(){this.$route.params.obraId&&(this.setBreadcrumb(this.breadcrumb),this.getStatus(this.$route.params.obraId))}},ie=oe,re=Object(B["a"])(ie,b,h,!1,null,null,null),ne=re.exports,se=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px"}},[t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.clave_camino,expression:"params.clave_camino"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ID de la obra"},domProps:{value:e.params.clave_camino},on:{keyup:e.searchCaminos,input:function(t){t.target.composing||e.$set(e.params,"clave_camino",t.target.value)}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.nombre_camino,expression:"params.nombre_camino"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre de la obra"},domProps:{value:e.params.nombre_camino},on:{keyup:e.searchCaminos,input:function(t){t.target.composing||e.$set(e.params,"nombre_camino",t.target.value)}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.nombre_municipio,expression:"params.nombre_municipio"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Municipio"},domProps:{value:e.params.nombre_municipio},on:{keyup:e.searchCaminos,input:function(t){t.target.composing||e.$set(e.params,"nombre_municipio",t.target.value)}}})]),t("div",{staticClass:"col-sm-3"},[t("el-select",{attrs:{multiple:"",placeholder:"Estatus"},on:{change:e.searchCaminos},model:{value:e.params.estatus,callback:function(t){e.$set(e.params,"estatus",t)},expression:"params.estatus"}},e._l(e.roadStatusList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.estatus,value:e.id}})})),1)],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticStyle:{height:"500px","overflow-y":"scroll"}},[t("ejs-grid",{ref:"grid",attrs:{dataSource:e.roadList,gridLines:"Both",allowPaging:!1,allowSorting:!0,pageSettings:e.pageSettings,allowTextWrap:!0,toolbar:"@( new List<object>() {'Add','Edit','Delete','Update','Cancel'})"}},[t("e-columns",[e._l(e.columns,(function(e,a){return t("e-column",{key:a,attrs:{field:e.field,headerText:e.headerText}})})),t("e-column",{attrs:{field:"clave",template:e.editTemplate,headerText:"Ver/Editar Obra",textAlign:"Center",visible:e.flagEdicion}}),t("e-column",{attrs:{field:"clave",template:e.cancelTemplate,headerText:"Cancelar/Reactivar Obra",textAlign:"Center",visible:e.isNormativeRole}})],2)],1)],1)])])])},ce=[],le=(a("a15b"),a("c041")),de=a("e29d"),ue=a("af93"),me=function(){var e=this,t=e._self._c;return t("div",[e.data.isCanceled?e._e():t("button",{staticClass:"btn btn-primary btn-sm editObra",attrs:{type:"button","aria-label":"Editar datos",disabled:e.data.isCanceled,title:1==e.data.isCanceled?"El registro esta cancelado":""},on:{click:e.toEdit}},[t("span",{staticClass:"glyphicon glyphicon-edit",attrs:{"aria-hidden":"true"}})]),e.data.isCanceled?t("button",{staticClass:"btn btn-primary btn-sm editObra",attrs:{type:"button","aria-label":"Ver",disabled:!e.data.isCanceled,title:1==e.data.isCanceled?"Ver Obra":""},on:{click:e.toVer}},[t("span",{staticClass:"glyphicon glyphicon-eye-open",attrs:{"aria-hidden":"true"}})]):e._e()])},pe=[],fe={name:"ButtonGrid",data:function(){return{data:{data:{}}}},methods:{toEdit:function(){this.$store.commit("setStatusCamino",this.data.isCanceled),this.$router.push("/editcamino/"+this.data.clave)},toVer:function(){this.$store.commit("setStatusCamino",this.data.isCanceled),this.$router.push({path:"/editcamino/"+this.data.clave,name:"EditarCamino",params:{isCanceled:!0,obraId:this.data.clave}})}},computed:{cData:function(){return this.data}},created:function(){}},ve=fe,be=Object(B["a"])(ve,me,pe,!1,null,"d2d8b3a4",null),he=be.exports,ge=function(){var e=this,t=e._self._c;return t("div",[t("div",[1===e.data.estatus.id?t("div",{staticClass:"menuDesplegable"},[t("ul",[t("a",[t("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.classMenuDespegable()}}},[t("span",{staticClass:"glyphicon glyphicon-option-horizontal",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"itemList"},[e._l(e.optionsActivo,(function(a){return t("li",{key:a.id,style:e.styledoc},[1===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.suspenderModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e(),2===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.cancelarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e()],1)})),t("li",{style:e.styledoc},[t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.historicoModal=!0,e.historicoEstatus(e.data.clave)}}},[e._v(" Historico ")])],1)],2)])]):e._e(),5===e.data.estatus.id?t("div",{staticClass:"menuDesplegable"},[t("ul",[t("a",[t("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.classMenuDespegable()}}},[t("span",{staticClass:"glyphicon glyphicon-option-horizontal",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"itemList"},[e._l(e.optionsCancelado,(function(a){return t("li",{key:a.id,style:e.styledoc},[1===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.suspenderModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e(),3===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.reactivarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e()],1)})),t("li",{style:e.styledoc},[t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.historicoModal=!0,e.historicoEstatus(e.data.clave)}}},[e._v(" Historico ")])],1)],2)])]):e._e(),4===e.data.estatus.id?t("div",{staticClass:"menuDesplegable"},[t("ul",[t("a",[t("el-button",{staticClass:"btn btn-sm",staticStyle:{background:"#FFFF33"},attrs:{size:"small"},on:{click:function(t){return e.classMenuDespegable()}}},[t("span",{staticClass:"glyphicon glyphicon-option-horizontal",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"itemList"},[e._l(e.optionsSuspendido,(function(a){return t("li",{key:a.id,style:e.styledoc},[4===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.reanudarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e(),2===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.cancelarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e()],1)})),t("li",{style:e.styledoc},[t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.historicoModal=!0,e.historicoEstatus(e.data.clave)}}},[e._v(" Historico ")])],1)],2)])]):e._e(),2===e.data.estatus.id?t("div",{staticClass:"menuDesplegable"},[t("ul",[t("a",[t("el-button",{staticStyle:{background:"linear-gradient(90deg, rgba(0,255,34,1) 0%, rgba(216,239,25,1) 48%, rgba(232,222,15,1) 100%)"},attrs:{size:"small"},on:{click:function(t){return e.classMenuDespegable()}}},[t("span",{staticClass:"glyphicon glyphicon-option-horizontal",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"itemList"},[e._l(e.optionsActivo,(function(a){return t("li",{key:a.id,style:e.styledoc},[1===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.suspenderModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e(),2===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.cancelarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e()],1)})),t("li",{style:e.styledoc},[t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.historicoModal=!0,e.historicoEstatus(e.data.clave)}}},[e._v(" Historico ")])],1)],2)])]):e._e(),3===e.data.estatus.id?t("div",{staticClass:"menuDesplegable"},[t("ul",[t("a",[t("el-button",{staticStyle:{background:"linear-gradient(90deg, rgba(0,255,34,1) 0%, rgba(232,15,15,1) 100%)"},attrs:{size:"small"},on:{click:function(t){return e.classMenuDespegable()}}},[t("span",{staticClass:"glyphicon glyphicon-option-horizontal",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"itemList"},[e._l(e.optionsReactivado,(function(a){return t("li",{key:a.id,style:e.styledoc},[1===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.suspenderModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e(),2===a.value?t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.cancelarModal=!0}}},[e._v(" "+e._s(a.text)+" ")]):e._e()],1)})),t("li",{style:e.styledoc},[t("el-button",{attrs:{type:"",text:"plain",size:"small"},on:{click:function(t){e.historicoModal=!0,e.historicoEstatus(e.data.clave)}}},[e._v(" Historico ")])],1)],2)])]):e._e()]),e.cancelarModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Cancelación de Obra "+e._s(e.data.clave))]),t("div",{attrs:{slot:"body"},slot:"body"},[t("p",[e._v("Escriba el motivo de cancelación")]),t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formCancelacion.motivoCancelacion,expression:"formCancelacion.motivoCancelacion"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoCancelacion",value:"",placeholder:"Ingrese el motivo de la cancelación"},domProps:{value:e.formCancelacion.motivoCancelacion},on:{input:function(t){t.target.composing||e.$set(e.formCancelacion,"motivoCancelacion",t.target.value)}}}),e.$v.formCancelacion.motivoCancelacion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label",attrs:{for:"file-01"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"file-motivo",type:"file",accept:".pdf"},on:{change:e.onFileCancelar}})])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){e.cancelarModal=!1,e.formCancelacion.motivoCancelacion=""}}},[e._v(" Cerrar ")]),t("button",{staticClass:"btn btn-primary active",attrs:{disabled:!e.$v.formCancelacion.motivoCancelacion.required},on:{click:function(t){e.cancelarModal=!1,e.cancelarCamino(e.data)}}},[e._v(" Aceptar ")])])]):e._e(),e.suspenderModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Suspender Obra "+e._s(e.data.clave))]),t("div",{attrs:{slot:"body"},slot:"body"},[t("div",{staticClass:"modal-body text-left"},[t("p",[e._v("Escriba la justificación de suspensión:")]),t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formSuspencion.motivoSuspencion,expression:"formSuspencion.motivoSuspencion"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoReactivacion",value:"",placeholder:"Justificación de suspensión"},domProps:{value:e.formSuspencion.motivoSuspencion},on:{input:function(t){t.target.composing||e.$set(e.formSuspencion,"motivoSuspencion",t.target.value)}}}),e.$v.formSuspencion.motivoSuspencion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]),t("div",{staticClass:"form-group text-left"},[t("label",{staticClass:"control-label",attrs:{for:"reactivacion"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"reactivacion",type:"file",accept:".pdf"},on:{change:e.onFileSuspender}})])])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){e.suspenderModal=!1,e.formSuspencion.motivoSuspencion=""}}},[e._v(" Cerrar ")]),t("button",{staticClass:"btn btn-primary active",attrs:{disabled:!e.$v.formSuspencion.motivoSuspencion.required},on:{click:function(t){e.suspenderModal=!1,e.suspenderCamino(e.data)}}},[e._v(" Aceptar ")])])]):e._e(),e.reactivarModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Reactivar Obra "+e._s(e.data.clave))]),t("div",{attrs:{slot:"body"},slot:"body"},[t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formReactivar.motivoReactivacion,expression:"formReactivar.motivoReactivacion"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoReactivacion",value:"",placeholder:"Justificación de reactivación"},domProps:{value:e.formReactivar.motivoReactivacion},on:{input:function(t){t.target.composing||e.$set(e.formReactivar,"motivoReactivacion",t.target.value)}}}),e.$v.formReactivar.motivoReactivacion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]),t("div",{staticClass:"form-group text-left"},[t("label",{staticClass:"control-label",attrs:{for:"reactivacion"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"reactivacion",type:"file",accept:".pdf"},on:{change:e.onFileReactivacion}})])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){e.reactivarModal=!1,e.formReactivar.motivoReactivacion=""}}},[e._v(" Cerrar ")]),t("button",{staticClass:"btn btn-primary active",attrs:{disabled:!e.$v.formReactivar.motivoReactivacion.required},on:{click:function(t){e.reactivarModal=!1,e.reactivarCamino(e.data)}}},[e._v(" Aceptar ")])])]):e._e(),e.reanudarModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Reanudar de Obra "+e._s(e.data.clave))]),t("div",{attrs:{slot:"body"},slot:"body"},[t("p",[e._v("Escriba el motivo de reanudacion")]),t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formReanudar.motivoReanudar,expression:"formReanudar.motivoReanudar"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoCancelacion",value:"",placeholder:"Ingrese el motivo de la cancelación"},domProps:{value:e.formReanudar.motivoReanudar},on:{input:function(t){t.target.composing||e.$set(e.formReanudar,"motivoReanudar",t.target.value)}}}),e.$v.formReanudar.motivoReanudar.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label",attrs:{for:"file-01"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"file-motivo",type:"file",accept:".pdf"},on:{change:e.onFileReanudar}})])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){e.reanudarModal=!1,e.formReanudar.motivoReanudar=""}}},[e._v(" Cerrar ")]),t("button",{staticClass:"btn btn-primary active",attrs:{disabled:!e.$v.formReanudar.motivoReanudar.required},on:{click:function(t){e.reanudarModal=!1,e.reanudarCamino(e.data)}}},[e._v(" Aceptar ")])])]):e._e(),e.historicoModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Historico de "+e._s(e.data.clave)+" ")]),t("span",{attrs:{slot:"body"},slot:"body"},[t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"timestamp",label:"Fecha",width:"180"}}),t("el-table-column",{attrs:{prop:"estatus_descripcion",label:"Estatus",width:"180"}}),t("el-table-column",{attrs:{prop:"justificacion",label:"Motivo"}})],1)],1)]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){e.historicoModal=!1}}},[e._v(" Cerrar ")]),t("button",{staticClass:"btn btn-primary active",on:{click:function(t){e.historicoModal=!1}}},[e._v(" Aceptar ")])])]):e._e()],1)},_e=[],Ce=a("1dce"),xe=a.n(Ce);function ye(e){return lc({url:"/getCvepres/".concat(e,"/"),method:"get"})}function we(e){return lc({url:"/getSpago/".concat(e,"/"),method:"get"})}function Pe(e,t,a){var o="";a&&(o+="name="+a),t&&(o+=a?"&f_elab="+t:"f_elab="+t);var i="";return i=a||t?"/getMescons/".concat(e,"/").concat(o,"/"):"/getMescons/".concat(e,"/"),lc({url:i,method:"get"})}function Oe(e,t){return lc({url:"/camino/status/"+e+"/",method:"put",data:t,headers:{"Content-Type":"multipart/form-data"}})}function $e(e,t){return lc({url:"/camino/asignar/"+e+"/"+t+"/",method:"delete"})}function Ae(e){return lc({url:"/camino/"+e+"/",method:"get"})}function Me(e){return lc({url:"/camino/assig/"+e+"/",method:"get"})}function Ie(e,t){return lc({url:"/system_group_users/"+e+"/"+t+"/",method:"get"})}function ke(e){return lc({url:"/justificar/",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function Ee(e,t){return lc({url:"/caminos/"+e+"/estatus/",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}function Te(e){return lc({url:"/caminos/"+e+"/estatus/",method:"get"})}var je=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"modal-mask"},[t("div",{staticClass:"modal-wrapper"},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v(" default header ")]}))],2),t("div",{staticClass:"modal-body"},[e._t("body",(function(){return[e._v(" default body ")]}))],2),t("div",{staticClass:"modal-footer"},[e._t("footer")],2)])])])])},Se=[],Re={name:"ModalSCT"},De=Re,Ne=(a("f3d1"),Object(B["a"])(De,je,Se,!1,null,null,null)),Be=Ne.exports;o["default"].use(xe.a);var Le={components:{ModalSCT:Be},name:"CancelaObra",data:function(){return{valueItem:"",idReactivacion:null,motivoCancelacion:"",id:null,actionButonMenu:!1,historicoModal:!1,cancelarModal:!1,suspenderModal:!1,reactivarModal:!1,reanudarModal:!1,styledoc:"",data:{data:{}},formReactivar:{motivoReactivacion:null,file:null},formReanudar:{motivoReanudar:null,file:null},formSuspencion:{motivoSuspencion:null,file:null},formCancelacion:{motivoCancelacion:null,file:null},optionsActivo:[{value:1,text:"Suspender"},{value:2,text:"Cancelar"}],optionsReanudado:[{value:1,text:"Suspender"},{value:2,text:"Cancelar"}],optionsReactivado:[{value:1,text:"Suspender"},{value:2,text:"Cancelar"}],optionsCancelado:[{value:1,text:"Suspender"},{value:3,text:"Reactivar"}],optionsSuspendido:[{value:4,text:"Reanudar"},{value:2,text:"Cancelar"}],tableData:[]}},validations:{formReactivar:{motivoReactivacion:{required:T["required"]}},formCancelacion:{motivoCancelacion:{required:T["required"]}},formReanudar:{motivoReanudar:{required:T["required"]}},formSuspencion:{motivoSuspencion:{required:T["required"]}}},methods:{classMenuDespegable:function(){!1===this.actionButonMenu?(this.styledoc=" display: block;",this.actionButonMenu=!0):(this.styledoc=" display: none;",this.actionButonMenu=!1)},suspenderCamino:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("id_camino",e.id),o.append("id_estatus",4),o.append("justificacion",t.formSuspencion.motivoSuspencion),o.append("archivo",t.formSuspencion.file),console.log("dataEndpoint suspender: ",e.clave,o),a.next=8,Ee(e.clave,o);case 8:t.formSuspencion.motivoSuspencion="",t.$parent.$parent.getRoads();case 10:case"end":return a.stop()}}),a)})))()},cancelarCamino:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("id_camino",e.id),o.append("id_estatus",5),o.append("justificacion",t.formCancelacion.motivoCancelacion),o.append("archivo",t.formCancelacion.file),console.log("dataEndpoint suspender: ",e.clave,o),a.next=8,Ee(e.clave,o);case 8:t.formCancelacion.motivoCancelacion="",t.$parent.$parent.getRoads();case 10:case"end":return a.stop()}}),a)})))()},reactivarCamino:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("id_camino",e.id),o.append("id_estatus",3),o.append("justificacion",t.formReactivar.motivoReactivacion),o.append("archivo",t.formReactivar.file),console.log("dataEndpoint suspender: ",e.clave,o),a.next=8,Ee(e.clave,o);case 8:t.formReactivar.motivoReactivacion="",t.$parent.$parent.getRoads();case 10:case"end":return a.stop()}}),a)})))()},historicoEstatus:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("data:",e),a.next=3,Te(e);case 3:t.tableData=a.sent,console.log("tableData: ",t.tableData);case 5:case"end":return a.stop()}}),a)})))()},reanudarCamino:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("id_camino",e.id),o.append("id_estatus",2),o.append("justificacion",t.formReanudar.motivoReanudar),o.append("archivo",t.formReanudar.file),console.log("dataEndpoint suspender: ",e.clave,o),a.next=8,Ee(e.clave,o);case 8:t.formReanudar.motivoReanudar="",t.$parent.$parent.getRoads();case 10:case"end":return a.stop()}}),a)})))()},onFileCancelar:function(e){this.formCancelacion.file=e.target.files[0]},onFileReactivacion:function(e){this.formReactivar.file=e.target.files[0]},onFileSuspender:function(e){this.formSuspencion.file=e.target.files[0]},onFileReanudar:function(e){this.formReanudar.file=e.target.files[0]}}},Fe=Le,qe=(a("6eb6"),Object(B["a"])(Fe,ge,_e,!1,null,"11369180",null)),Ue=qe.exports,Ge=(a("b680"),function(e){return e.reduce((function(e,t){return Number(e)+Number(t)}),0)}),ze=function(e){var t=new Intl.NumberFormat("es-MX",{style:"currency",minimumFractionDigits:2,currency:"MXN"});return t.format(e)},Ve=function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},Ke={A:"Agencia",C:"Cabecera",O:"Otro"},He=2,Je=function(e){return e.map((function(e){return{id:e.id,assignmentId:e.residente_asignado.id_asignacion,roadName:e.camino.nombre_camino,agreementSection:e.convenio.tramo,initDate:e.residente_asignado.fecha_inicio,endDate:e.residente_asignado.fecha_fin,advanceDate:e.fecha_registro,fortnight:e.quincena,percentageProgress:"".concat(e.avance_quincenal_porcentaje.toFixed(He)," %"),fullPercentage:"".concat(e.avance_acumulado_porcentaje.toFixed(He)," %"),status:e.residente_asignado.estatus?"Activo":"Inactivo",borderColorClass:e.variacion_porcentaje_convenio>=-15?"border-green":e.variacion_porcentaje_convenio>=-25?"border-yellow":"border-red",borderTitle:"Variación del ".concat(-1*e.variacion_porcentaje_convenio.toFixed(He)," %")}}))},We=function(e){return e.map((function(e){return{id:e.id,roadKey:e.camino.clave_camino,roadName:e.camino.nombre_camino,beneficiary:e.beneficiario.municipio.nombre||"",progressPercentage:"".concat(Number(e.ultimo_avance_fisico.avance_acumulado_porcentaje).toFixed(He),"%"),amount:Number(e.convenio.monto).toFixed(He),meta:Number(e.convenio.meta).toFixed(He),agreementSection:e.convenio.tramo,lastDateRoad:e.ultimo_avance_fisico.fecha_registro,status:e.estatus?"Activo":"Inactivo",borderColorClass:e.variacion_porcentaje_convenio>=-15?"border-green":e.variacion_porcentaje_convenio>=-25?"border-yellow":"border-red",borderTitle:"Variación del ".concat(-1*e.variacion_porcentaje_convenio.toFixed(He)," %")}}))},Xe=function(e){return e.map((function(e){return{fullName:"".concat(e.nombre_representante," ").concat(e.primer_a_representante," ").concat(e.segundo_a_representante),rfc:e.rfc,initDate:e.fecha_inicio,endDate:e.fecha_fin}}))},Ye=function(e){return e.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{type:Ke[e.tipo_camino]})}))},Ze=function(e){return e.map((function(e){return{paymentConcept:"".concat(Ve(e.partida.concepto.descripcion.toLowerCase()),": ").concat(Ve(e.partida.descripcion.toLowerCase())),quantityPerKm:e.cantidad,unitMeasurement:e.partida.unidad_medida.descripcion,amountPerKm:ze(e.importe_kilometro),unitPrice:ze(e.importe),totalAmountAgreementFormatter:ze(e.importe_longitud),totalAmountAgreement:e.importe_longitud,totalWeightedPercentageFormatter:"".concat(e.porcentaje_ponderado.toFixed(He),"%"),totalWeightedPercentage:e.porcentaje_ponderado}}))};o["default"].use(le["a"]);var Qe={name:"GridResultObra",data:function(){return{roadStatusList:[],roadList:[],breadcrumb:["Caminos"],pageSettings:{pageCount:5,pageSize:20},isNormativeRole:"NORMATIVO"===this.$store.getters["user/StateRol"],flagEdicion:!0,params:{nombre_municipio:null,nombre_camino:null,clave_camino:null,estatus:[]},columns:[{field:"clave",headerText:"ID de la obra"},{field:"nombre",headerText:"Nombre de la obra"},{field:"nombre_municipio",headerText:"Municipio"},{field:"type",headerText:"Tipo de obra"},{field:"grado_marginacion",headerText:"Grado de marginación"},{field:"tipo_poblacion",headerText:"Tipo de población"}]}},provide:{grid:[de["a"],ue["a"]]},methods:Object(n["a"])({searchCaminos:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(Object(n["a"])(Object(n["a"])({},e.params),{},{estatus:e.roadStatusToString()}));case 3:a=t.sent,e.roadList=Ye(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},editTemplate:function(){return{template:he}},cancelTemplate:function(){return{template:Ue}},getRoads:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O();case 3:a=t.sent,e.roadList=Ye(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getRoadStatus:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k();case 3:e.roadStatusList=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},roadStatusToString:function(){return this.params.estatus.length?this.params.estatus.join():null}},Object(s["d"])(["setBreadcrumb"])),created:function(){this.setBreadcrumb(this.breadcrumb),this.getRoads(),this.getRoadStatus()}},et=Qe,tt=Object(B["a"])(et,se,ce,!1,null,null,null),at=tt.exports,ot=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[t("li",{class:"tabDG"===e.getActiveTab?"active":"",attrs:{role:"presentation",id:"tabDatosCamino"}},[t("a",{attrs:{href:"#datosCamino","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-1","aria-expanded":"true"}},[e._v(" Datos del Camino ")])]),e._e(),e.$route.params.obraId?t("li",{class:"tabConv"===e.getActiveTab?"active":"",attrs:{role:"presentation",id:"tabAsina"}},[t("a",{attrs:{href:"#convenio","aria-controls":"profile",role:"tab","data-toggle":"tab","aria-expanded":"true"}},[e._v(" Programación ")])]):e._e()]),t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane",class:"tabDG"===e.getActiveTab?"active":"",attrs:{role:"tabpanel",id:"datosCamino"}},[t("FormEditarCamino",{attrs:{isCanceled:e.isCanceled}})],1),t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"datosBeneficiario"}},[t("DatosBeneficiario",{attrs:{isCanceled:e.isCanceled}})],1),t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"asignarresidente"}},[t("ListaResidentes",{attrs:{camino_id:e.camino.id}})],1),t("div",{staticClass:"tab-pane",class:"tabConv"===e.getActiveTab?"active":"",attrs:{role:"tabpanel",id:"convenio"}},[void 0!=e.camino.id?t("convenio",{attrs:{camino_id:e.camino.id,isObraCanceled:e.isCanceled,longitud_pavimentar:e.camino.longitud_pavimentar},on:{"show-error":e.showError}}):e._e()],1)]),t("div",[e.msgError?t("div",{staticClass:"alert alert-danger"},[e._v(e._s(e.msgError))]):e._e()])])])},it=[],rt=function(){var e=this,t=e._self._c;return t("div",[e.modalAsignarResidente&&e.getCaminoID?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Asignar Residente")]),t("div",{attrs:{slot:"body"},slot:"body"},[t("asignar-residente",{attrs:{id_camino:e.getCaminoID},on:{closeModal:function(t){e.modalAsignarResidente=!1}}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e(),e.modalEditarResidente&&e.getCaminoID?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Editar Asignación")]),t("div",{attrs:{slot:"body"},slot:"body"},[t("EditarAsignacionResidente",{attrs:{id_camino:e.getCaminoID},on:{closeModal:function(t){e.modalEditarResidente=!1}}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e(),e._m(0),t("button",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"15px"},attrs:{disabled:e.cons,type:"button"},on:{click:e.openModalAddConvenio}},[e._v(" Nuevo Convenio ")]),t("table-base",{attrs:{options:e.featureOptions,headers:e.headers,data:e.convenios}}),t("Modal",{attrs:{title:e.modalTitle,"modal-class":"modal2"},on:{"before-open":e.beforeOpen,"before-close":e.beforeClose},model:{value:e.showAdminModalConvenio,callback:function(t){e.showAdminModalConvenio=t},expression:"showAdminModalConvenio"}},[t("form",{staticClass:"scrollable-content"},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Beneficiario:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.beneficiario_id,expression:"form.beneficiario_id"}],staticClass:"form-control",attrs:{name:"beneficiario",id:"beneficiario",disabled:e.isDisabled},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"beneficiario_id",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar...")]),e._l(e.beneficiarios,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.value)+" ")])}))],2)])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"anio"}},[e._v("Año del Convenio: ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.anio,expression:"form.anio"}],staticClass:"form-control",class:e.$v.form.anio.required?"":"form-control-error",attrs:{disabled:e.isDisabled,id:"anio"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"anio",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Seleccionar...")]),e._l(e.anios,(function(a,o){return t("option",{key:o,domProps:{value:a.anio}},[e._v(e._s(a.anio))])}))],2)]),t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Tramo:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tramo,expression:"form.tramo"}],staticClass:"form-control",attrs:{autocomplete:"off",id:"tramo",disabled:e.isDisabled,type:"text",placeholder:"Ingresar el tramo"},domProps:{value:e.form.tramo},on:{input:function(t){t.target.composing||e.$set(e.form,"tramo",t.target.value)}}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"monto"}},[e._v("Monto(mdp):")]),t("vue-numeric",{staticClass:"form-control avance-mes",attrs:{precision:2,separator:","},model:{value:e.form.monto,callback:function(t){e.$set(e.form,"monto",t)},expression:"form.monto"}})],1),t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"meta"}},[e._v("Meta:")]),t("vue-numeric",{staticClass:"form-control avance-mes",attrs:{precision:2,separator:","},model:{value:e.form.meta,callback:function(t){e.$set(e.form,"meta",t)},expression:"form.meta"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Origen del recurso:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.origen,expression:"form.origen"}],staticClass:"form-control",attrs:{disabled:e.isDisabled,id:"origen"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"origen",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Seleccionar...")]),t("option",{attrs:{value:"PEF"}},[e._v("PEF")]),t("option",{attrs:{value:"INDEP"}},[e._v("INDEP")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Convenio (PDF):")]),t("input",{staticClass:"form-control",attrs:{disabled:e.isDisabled,type:"file",accept:".pdf",name:"myfile",id:"f-convenio"},on:{change:e.onFileSelected}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Longitud a Pavimentar")]),t("input",{staticClass:"form-control",attrs:{type:"number",disabled:"",id:"inpt-longitud"},domProps:{value:e.longitudP}})]),t("div",{staticClass:"form-group col-md-12"},[t("label",{staticClass:"control-label"},[e._v("Longitud por programar")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.getSumMeta,expression:"getSumMeta"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.getSumMeta},on:{input:function(t){t.target.composing||(e.getSumMeta=t.target.value)}}})])]),t("div",{staticClass:"form-row"},[t("div",{staticStyle:{"font-size":"14px"}},[t("strong",[e._v(" Valores aceptados ")]),t("br"),t("small",[e._v(" Lat: 14.517000 a 32.754000 ")]),t("br"),t("small",[e._v(" Lon: -117.080000 a -86.363800 ")]),t("br"),t("br")]),t("p",[e._v("Punto Inicial")]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lon_inicial,expression:"form.lon_inicial"}],staticClass:"form-control",class:e.$v.form.lon_inicial.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.form.lon_inicial},on:{input:function(t){t.target.composing||e.$set(e.form,"lon_inicial",t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.form.lon_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lat_inicial,expression:"form.lat_inicial"}],staticClass:"form-control",class:e.$v.form.lat_inicial.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.form.lat_inicial},on:{input:function(t){t.target.composing||e.$set(e.form,"lat_inicial",t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.form.lat_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])]),t("p",[e._v("Punto Final")]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lon_final,expression:"form.lon_final"}],staticClass:"form-control",class:e.$v.form.lon_final.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.form.lon_final},on:{input:function(t){t.target.composing||e.$set(e.form,"lon_final",t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.form.lon_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lat_final,expression:"form.lat_final"}],staticClass:"form-control",class:e.$v.form.lat_final.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.form.lat_final},on:{input:function(t){t.target.composing||e.$set(e.form,"lat_final",t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.form.lat_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])])]),t("div",e._l(e.convenioErrors,(function(a,o){return t("div",{key:o,staticClass:"col-md-12"},[t("small",{staticClass:"form-text form-text-error",staticStyle:{color:"red!important"}},[e._v(" "+e._s(a.error)+" ")])])})),0),t("div",{staticClass:"form-row col-md-12"},[t("div",{staticClass:"form-group col-md-6"},[t("button",{staticClass:"btn btn-default btn-sm active",attrs:{type:"button",id:"btn-open-calendario",disabled:"delete"===e.mode},on:{click:function(t){return e.openModalCalendarioObra()}}},[e._v(" Calendario de Obra ")])])]),t("div",{staticClass:"form-row"},["edit"==e.mode&&!e.form.es_modificatorio&&0==e.form.modificatorio&&e.isNormativo?t("div",{staticClass:"form-group col-md-12"},[t("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button",id:"btn-modificatorio"},on:{click:e.openModalModificatorio}},[e._v(" Agregar convenio modificatorio ")])]):e._e()]),t("div",{staticClass:"row modal-footer text-right"},[t("div",{staticClass:"col-md-12 text-right"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.closeModal}},[e._v("Cancelar")]),"new"===e.mode?t("button",{staticClass:"btn btn-default",attrs:{disabled:e.btnIsDisabled,id:"btn-save-convenio",type:"button"},on:{click:function(t){return e.saveEditConvenio(!0)}}},[e._v("Agregar Convenio ")]):e._e(),"edit"===e.mode?t("button",{staticClass:"btn btn-default",attrs:{disabled:e.btnIsDisabled,type:"button"},on:{click:function(t){return e.saveEditConvenio(!1)}}},[e._v("Actualizar Convenio ")]):e._e(),"delete"===e.mode?t("button",{staticClass:"btn btn-default",attrs:{disabled:e.btnIsDisabled,type:"button"},on:{click:e.deleteConvenio}},[e._v("Eliminar Convenio ")]):e._e()])])])]),t("Modal",{attrs:{title:"Convenio Modificatorio","modal-class":"modal2 fullscreen-modal","wrapper-class":"modal-wrapper","in-class":"animate__backInDown","bg-class":"animate__animated","bg-in-class":"animate__fadeInUp"},model:{value:e.showAdminModalConvenioMod,callback:function(t){e.showAdminModalConvenioMod=t},expression:"showAdminModalConvenioMod"}},[t("form",[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-gruop com-md-12"},[t("p",[t("small",{staticClass:"label",staticStyle:{"background-color":"grey"}},[e._v(" Al ingresar un nuevo convenio modificatorio, el convenio original estará en modo de consulta. ")])])])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"anio"}},[e._v("Año del Convenio:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formMoficatorio.anio,expression:"formMoficatorio.anio"}],staticClass:"form-control modificatorio",class:e.$v.formMoficatorio.anio.required?"":"form-control-error",attrs:{disabled:!0,id:"anio"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formMoficatorio,"anio",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Seleccionar...")]),e._l(e.anios,(function(a,o){return t("option",{key:o,domProps:{value:a.anio}},[e._v(e._s(a.anio))])}))],2)]),t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Tramo:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formMoficatorio.tramo,expression:"formMoficatorio.tramo"}],staticClass:"form-control modificatorio",attrs:{autocomplete:"off",id:"tramo",disabled:e.isDisabledMod,type:"text",placeholder:"Ingresar el tramo"},domProps:{value:e.formMoficatorio.tramo},on:{input:function(t){t.target.composing||e.$set(e.formMoficatorio,"tramo",t.target.value)}}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"monto"}},[e._v("Monto(mdp):")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formMoficatorio.monto,expression:"formMoficatorio.monto"}],staticClass:"form-control modificatorio",class:e.$v.formMoficatorio.monto.maxValue?"":"form-control-error",attrs:{autocomplete:"off",id:"monto",type:"number",disabled:e.isDisabledMod,placeholder:"Ingresar el monto(mdp)"},domProps:{value:e.formMoficatorio.monto},on:{input:function(t){t.target.composing||e.$set(e.formMoficatorio,"monto",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"meta"}},[e._v("Meta:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta,expression:"form.meta"}],staticClass:"form-control modificatorio",class:e.$v.form.meta.required?"":"form-control-error",attrs:{autocomplete:"off",id:"metaMod",type:"number",disabled:e.isDisabledMod,placeholder:"Ingrese la Meta(km)"},domProps:{value:e.form.meta},on:{input:function(t){t.target.composing||e.$set(e.form,"meta",t.target.value)}}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Origen del recurso:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formMoficatorio.origen,expression:"formMoficatorio.origen"}],staticClass:"form-control modificatorio",attrs:{disabled:e.isDisabledMod,id:"tramo"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formMoficatorio,"origen",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Seleccionar...")]),t("option",{attrs:{value:"PEF"}},[e._v("PEF")]),t("option",{attrs:{value:"INDEP"}},[e._v("INDEP")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Convenio (PDF):")]),t("input",{staticClass:"form-control modificatorio",attrs:{disabled:e.isDisabledMod,id:"fileconvenio",type:"file",accept:".pdf",name:"myfile"},on:{change:e.onFileSelectedModificatorio}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-5"},[t("label",{staticClass:"control-label"},[e._v("Longitud a Pavimentar")]),t("input",{staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.longitudP}})]),t("div",{staticClass:"form-group col-md-5"},[t("label",{staticClass:"control-label"},[e._v("Longitud por programar")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.getSumMeta,expression:"getSumMeta"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.getSumMeta},on:{input:function(t){t.target.composing||(e.getSumMeta=t.target.value)}}})])]),t("div",e._l(e.convenioModificatrioErrors,(function(a,o){return t("div",{key:o,staticClass:"col-md-12"},[t("small",{staticClass:"form-text form-text-error",staticStyle:{color:"red!important"}},[e._v(" "+e._s(a.error)+" ")])])})),0),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("button",{staticClass:"btn btn-default btn-sm modificatorio",attrs:{type:"button",disabled:"delete"===e.mode},on:{click:function(t){e.openModalBeneficiario(),e.btnIsDisabled=!1}}},[e._v(" Beneficiario ")])]),t("div",{staticClass:"form-group col-md-6"},[t("button",{staticClass:"btn btn-default btn-sm modificatorio",attrs:{type:"button",disabled:"delete"===e.mode},on:{click:function(t){e.openModalCalendarioObra(),e.btnIsDisabled=!1}}},[e._v(" Calendario de Obra ")])])]),t("div",{staticClass:"row modal-footer"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.closeModalModificatorio}},[e._v(" Cancelar ")]),t("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"saveCnvModificatorio"},on:{click:e.confirmSaveModificatorio}},[e._v(" Agregar convenio modificatorio ")])])])])])]),t("ModalBeneficiario",{ref:"modalBeneficiario",attrs:{isReadOnly:e.btnIsDisabled,beneficiario_id:e.beneficiario_id,"convenio-id":e.currentAgreementIdSelected}}),t("Modal",{attrs:{title:"Calendario de Obra","modal-class":"scrollable-modal","wrapper-class":"animate__animated","in-class":"animate__backInDown","bg-in-class":"animate__fadeInUp"},model:{value:e.showModalCalendarioObra,callback:function(t){e.showModalCalendarioObra=t},expression:"showModalCalendarioObra"}},[t("div",{staticClass:"scrollable-content"},[t("table",{staticClass:"table table-responsive"},[t("thead",[t("th",[e._v(" Mes ")]),t("th",[e._v(" Avance(Km) ")])]),t("tbody",e._l(e.mesesMetas,(function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.descripcion))]),t("td",[t("vue-numeric",{staticClass:"form-control avance-mes",attrs:{precision:2,separator:",",placeholder:"0.00","read-only":e.btnIsDisabled},model:{value:e.mesesMetas[o].avance,callback:function(t){e.$set(e.mesesMetas[o],"avance",t)},expression:"mesesMetas[key].avance"}})],1)])})),0),t("tfoot",[t("tr",[t("td",[t("strong",[e._v("Total")])]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",",value:e.getTotalAvanceMeta,"read-only":!0}})],1)])])]),t("div",{staticClass:"row modal-footer text-right"},[t("div",{staticClass:"col-md-12 text-right"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.closeModalCalMeta}},[e._v("Cancelar")]),t("button",{staticClass:"btn btn-default",attrs:{disabled:e.btnIsDisabled,type:"button",id:"btn-save-avance-meses"},on:{click:e.saveCalendarioMeta}},[e._v("Aceptar")])])])])]),t("modal",{attrs:{title:"Representantes","modal-class":"scrollable-modal","wrapper-class":"animate__animated","in-class":"animate__backInDown","bg-in-class":"animate__fadeInUp"},model:{value:e.modalRepresentatives,callback:function(t){e.modalRepresentatives=t},expression:"modalRepresentatives"}},[t("button",{staticClass:"btn btn-default",staticStyle:{"margin-bottom":"15px","margin-right":"0px","margin-left":"auto",display:"block"},attrs:{type:"button"},on:{click:function(t){return e.openModalBeneficiario()}}},[e._v(" Agregar representante ")]),t("ejs-grid",{ref:"grid",attrs:{dataSource:e.representativesList,gridLines:"Both",allowPaging:!1,allowSorting:!0,pageSettings:{pageCount:5,pageSize:20},allowTextWrap:!0}},[t("e-columns",[e._l([{field:"fullName",headerText:"Nombre completo"},{field:"rfc",headerText:"RFC"}],(function(e,a){return t("e-column",{key:a,attrs:{field:e.field,headerText:e.headerText}})})),t("e-column",{attrs:{field:"clave",template:e.IconTemplate2,headerText:"Desactivar",textAlign:"Center"}})],2)],1)],1)],1)},nt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12 mx-auto"},[t("div",{staticClass:"row"},[t("h3",[e._v("Programación de Obra ")]),t("hr",{staticClass:"red"})])])}],st=(a("53ca"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("c740"),a("4e82"),a("81b2"),a("0eb6"),a("b7ef"),a("8bd4"),a("ace4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("fa9e"),a("77d9"),a("1276"),a("f001")),ct=(a("5ac0"),function(){var e=this,t=e._self._c;return t("Modal",{attrs:{title:e.modalTitle,"modal-class":"scrollable-modal modal2  modal-xl","wrapper-class":"modal-wrapper"},on:{"before-open":e.beforeOpen,"before-close":e.beforeClose},model:{value:e.showAdminModalBeneficiario,callback:function(t){e.showAdminModalBeneficiario=t},expression:"showAdminModalBeneficiario"}},[t("form",{staticClass:"form-group scrollable-content"},[t("div",{staticClass:"form-row row"},[t("div",{staticClass:"form-group col-md-5"},[t("label",{staticClass:"control-label",attrs:{for:"cuenta"}},[e._v("Clabe Interbancaria")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.cveInterbancaria,expression:"formBeneficiario.cveInterbancaria"}],staticClass:"form-control",class:{"form-control-error":e.$v.formBeneficiario.cveInterbancaria.$error},attrs:{id:"clabe",placeholder:"Clabe Interbancaria",type:"number"},domProps:{value:e.formBeneficiario.cveInterbancaria},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"cveInterbancaria",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-5"},[t("label",{staticClass:"control-label",attrs:{for:"rfc"}},[e._v("RFC")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.rfc,expression:"formBeneficiario.rfc"}],staticClass:"form-control",class:{"form-control-error":e.$v.formBeneficiario.rfc.$error},attrs:{id:"rfc",placeholder:"RFC",type:"text"},domProps:{value:e.formBeneficiario.rfc},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"rfc",t.target.value)}}})])]),t("div",{staticClass:"form-row row"},[t("div",{staticClass:"form-group col-md-12"},[t("label",{staticClass:"form-group-sm",staticStyle:{"font-weight":"bold"}},[e._v(" Presidente Municipal o representante de la comunidad ")])]),t("div",{staticClass:"form-group col-md-4"},[t("label",{attrs:{for:"nom_pm"}},[e._v(" Nombre(s) ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.nombre,expression:"formBeneficiario.nombre"}],staticClass:"form-control",attrs:{name:"nom_pm",id:"nom_pm",type:"text",placeholder:"Nombre(s)"},domProps:{value:e.formBeneficiario.nombre},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"nombre",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{attrs:{for:"nom_pm"}},[e._v(" Primer Apellido ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.papellido,expression:"formBeneficiario.papellido"}],staticClass:"form-control",attrs:{name:"pa_pm",id:"pa_pm",type:"text",placeholder:"Primer Apellido"},domProps:{value:e.formBeneficiario.papellido},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"papellido",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{attrs:{for:"seg_pm"}},[e._v(" Segundo Apellido ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.sapellido,expression:"formBeneficiario.sapellido"}],staticClass:"form-control",attrs:{name:"pa_pm",id:"seg_pm",type:"text",placeholder:"Segundo Apellido"},domProps:{value:e.formBeneficiario.sapellido},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"sapellido",t.target.value)}}})])]),t("div",{staticClass:"form-row row"},[t("div",{staticClass:"form-group col-md-3"},[t("label",{staticClass:"control-label",attrs:{for:"cuenta"}},[e._v("CURP")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.curp,expression:"formBeneficiario.curp"}],staticClass:"form-control",class:{"form-control-error":e.$v.formBeneficiario.curp.$error},attrs:{autocomplete:"off",disabled:e.isReadOnly,id:"curp",placeholder:"CURP"},domProps:{value:e.formBeneficiario.curp},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"curp",t.target.value)}}}),e.$v.formBeneficiario.curp.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Formato no valido ")])]),t("div",{staticClass:"form-group col-md-3"},[t("label",{staticClass:"control-label",attrs:{for:"cuenta"}},[e._v("Cumpleaños")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.edad,expression:"formBeneficiario.edad"}],staticClass:"form-control",class:{"form-control-error":e.$v.formBeneficiario.edad.$error},attrs:{id:"edad",placeholder:"Edad",type:"date"},domProps:{value:e.formBeneficiario.edad},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"edad",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-2"},[t("label",{staticClass:"control-label",attrs:{for:"cuenta"}},[e._v("Género")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.genero,expression:"formBeneficiario.genero"}],staticClass:"form-control",class:{"form-control-error":e.$v.formBeneficiario.genero.$error},attrs:{id:"genero",placeholder:"Género"},domProps:{value:e.formBeneficiario.genero},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"genero",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"control-label",attrs:{for:"calle"}},[e._v("Calle")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.calle,expression:"formBeneficiario.calle"}],staticClass:"form-control",attrs:{autocomplete:"off",disabled:e.isReadOnly,id:"calle",placeholder:"Calle",type:"text"},domProps:{value:e.formBeneficiario.calle},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"calle",t.target.value)}}})])]),t("div",{staticClass:"form-row row"},[t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"control-label",attrs:{for:"numexterior"}},[e._v("Núm. Exterior")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.next,expression:"formBeneficiario.next"}],staticClass:"form-control",attrs:{autocomplete:"off",disabled:e.isReadOnly,id:"next",placeholder:"Núm. Exterior",type:"text"},domProps:{value:e.formBeneficiario.next},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"next",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"control-label",attrs:{for:"colonia"}},[e._v("Colonia")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.colonia,expression:"formBeneficiario.colonia"}],staticClass:"form-control",attrs:{autocomplete:"off",disabled:e.isReadOnly,id:"colonia",placeholder:"Colonia",type:"text"},domProps:{value:e.formBeneficiario.colonia},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"colonia",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"control-label",attrs:{for:"colonia"}},[e._v("C. P.")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formBeneficiario.cp,expression:"formBeneficiario.cp"}],staticClass:"form-control",attrs:{id:"cp",placeholder:"Código Postal",type:"text"},domProps:{value:e.formBeneficiario.cp},on:{input:function(t){t.target.composing||e.$set(e.formBeneficiario,"cp",t.target.value)}}})])]),t("div",{staticClass:"row modal-footer"},[t("div",{staticClass:"col-md-12 text-right"},[t("div",{staticClass:"col-md-10"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.clearData(),e.showAdminModalBeneficiario=!1}}},[e._v(" Cancelar ")])]),t("div",{staticClass:"col-md-2"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:e.isReadOnly},on:{click:function(t){return e.saveBeneficiario()}}},[e._v(" Aceptar ")])])])])])])}),lt=[],dt=(a("466d"),a("159b"),a("d36a"));function ut(e,t){return lc({url:"/convenio/".concat(t,"/update/"),method:"patch",data:e})}function mt(e,t){return console.log("data"),console.log(e.get("avances")),lc({url:"/convenio/".concat(t,"/ "),method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function pt(e){return lc({url:"/convenio/".concat(e,"/list/"),method:"get"})}function ft(e){return lc({url:"/modificatorio/crear",method:"post",data:e,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})}function vt(e){return lc({url:"/convenio/detalles",method:"post",data:{id:e}})}function bt(e){return lc({url:"/convenio/bajar",method:"post",data:{id:e}})}function ht(e){return lc({url:"/beneficiary/search_by_bm/".concat(e,"/"),method:"get"})}function gt(){return lc({url:"/mes/listado",method:"get"})}function _t(e){return lc({url:"/curp/".concat(e,"/"),method:"get"})}function Ct(e){return lc({url:"/convenio/avance",method:"post",data:{id:e}})}function xt(e){return lc({url:"/beneficiary/datails/".concat(e,"/"),method:"get"})}function yt(e){return lc({url:"/convenios/".concat(e,"/"),method:"GET"})}var wt="/caminos/";function Pt(e,t){return lc({url:"".concat(wt).concat(e,"/beneficiarios"),method:"post",data:t})}function Ot(e){return lc({url:"".concat(wt).concat(e,"/beneficiarios"),method:"get"})}function $t(e){return lc({url:"".concat(wt).concat(e,"/metricas"),method:"get"})}function At(e){return lc({url:"".concat(wt).concat(e,"/beneficiarios/dropdown"),method:"get"})}function Mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return lc({url:"representantes/?convenio_id=".concat(e),method:"get"})}function It(e){return lc({url:"representantes/".concat(e.id),method:"PATCH",data:e})}function kt(e){return lc({url:"representantes/",method:"POST",data:e})}function Et(e){return lc({url:"".concat(wt,"beneficiarios/").concat(e,"/"),method:"delete"})}o["default"].use(xe.a),o["default"].use(dt["a"]);var Tt=o["default"].component("itemTemplate",{template:"<span class='r-beneficiario'>{{data.beneficiario}}</span>",data:function(){return{data:{}}}}),jt={name:"ModalBeneficiario",props:{isReadOnly:{type:Boolean,default:!1,readOnly:!0},beneficiario_id:{type:Number,default:0,required:!0},convenioId:{type:Number,default:0}},components:{Modal:st["a"]},data:function(){return{iTemplate:function(e){return{template:Tt}},modalTitle:"Beneficiario",showAdminModalBeneficiario:!1,suggestionCount:5,findRazonSocial:"",formBeneficiario:{id:"",razonSocial:"",rfc:"",cveInterbancaria:"",curp:"",edad:"",genero:"",calle:"",colonia:"",cp:"",next:"",nombre:"",papellido:"",sapellido:"",findRazonSocial:""},dataFields:{text:"beneficiario",value:"idbenef"}}},validations:function(){return{formBeneficiario:{razonSocial:{required:T["required"]},rfc:{required:T["required"]},cveInterbancaria:{required:T["required"]},curp:{required:this.curpValida},edad:{required:T["required"]},genero:{required:T["required"]},calle:{required:T["required"]},colonia:{required:T["required"]}}}},methods:{getBeneficiarios:function(e){return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefaultAction=!0,!(e.text.length<5)){t.next=4;break}return e.cancel=!0,t.abrupt("return");case 4:return a=y["Loading"].service({fullscreen:!1,lock:!0}),t.next=7,ht(e.text).then((function(t){e.updateData(t)})).finally((function(){a.close()}));case 7:case"end":return t.stop()}}),t)})))()},setValues:function(e){this.clearData(),this.formBeneficiario.razonSocial=e["itemData"].beneficiario,this.formBeneficiario.rfc=e["itemData"].rfc_benef,this.formBeneficiario.cveInterbancaria=e["itemData"].clabe,this.formBeneficiario.id=e["itemData"].idbenef,this.formBeneficiario.cp=e["itemData"].cp,this.formBeneficiario.curp=e["itemData"].curp,this.formBeneficiario.edad=e["itemData"].edad,this.formBeneficiario.genero=e["itemData"].genero,this.formBeneficiario.calle=e["itemData"].calle,this.formBeneficiario.next=e["itemData"].next,this.formBeneficiario.colonia=e["itemData"].colonia,this.formBeneficiario.nombre=e["itemData"].nombre_pm,this.formBeneficiario.papellido=e["itemData"].primera_pm,this.formBeneficiario.sapellido=e["itemData"].segundoa_pm},clearData:function(){this.formBeneficiario.id="",this.formBeneficiario.razonSocial="",this.formBeneficiario.rfc="",this.formBeneficiario.cveInterbancaria="",this.formBeneficiario.curp="",this.formBeneficiario.edad="",this.formBeneficiario.genero="",this.formBeneficiario.calle="",this.formBeneficiario.colonia="",this.formBeneficiario.cp="",this.formBeneficiario.findRazonSocial="",this.formBeneficiario.nombre="",this.formBeneficiario.papellido="",this.formBeneficiario.sapellido=""},saveBeneficiario:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!1,lock:!0}),t.prev=1,t.next=4,kt({id_convenio:e.convenioId,nombre_representante:e.formBeneficiario.nombre,primer_a_representante:e.formBeneficiario.papellido,segundo_a_representante:e.formBeneficiario.sapellido,fecha_nacimiento:e.formBeneficiario.edad,fecha_inicio:null,fecha_fin:null,curp:e.formBeneficiario.curp,rfc:e.formBeneficiario.rfc,clabe:e.formBeneficiario.cveInterbancaria,genero:e.formBeneficiario.genero,calle:e.formBeneficiario.calle,num_ext:e.formBeneficiario.next,colonia:e.formBeneficiario.colonia,cp:e.formBeneficiario.cp});case 4:return t.next=6,e.$parent.getRepresentativesByAgreement(e.convenioId);case 6:e.showAdminModalBeneficiario=!1,e.$swal("Representante registrado","Representante registrado satisfactoriamente.","success"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$swal("Validacion de campos",t.t0.detail?t.t0.detail:JSON.stringify(t.t0),"error");case 13:a.close();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},loadbeneficiario:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o,i;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0==e){a.next=20;break}return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.next=4,xt(e);case 4:i=a.sent,t.formBeneficiario.razonSocial=i[0].beneficiario,t.formBeneficiario.rfc=i[0].rfc_benef,t.formBeneficiario.cveInterbancaria=i[0].clabe,t.formBeneficiario.id=i[0].idbenef,t.formBeneficiario.cp=i[0].cp,t.formBeneficiario.curp=i[0].curp,t.formBeneficiario.edad=i[0].edad,t.formBeneficiario.genero=i[0].genero,t.formBeneficiario.calle=i[0].calle,t.formBeneficiario.next=i[0].next,t.formBeneficiario.colonia=i[0].colonia,t.formBeneficiario.nombre=i[0].nombre_pm,t.formBeneficiario.papellido=i[0].primera_pm,t.formBeneficiario.sapellido=i[0].segundoa_pm,o.close();case 20:case"end":return a.stop()}}),a)})))()},onChange:function(e){e||this.clearData()},beforeOpen:function(){},beforeClose:function(){this.clearData()},getEdadAndGenero:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formBeneficiario.edad="",e.formBeneficiario.genero="",a=y["Loading"].service({fullscreen:!1,lock:!0}),t.next=5,_t(e.formBeneficiario.curp).finally((function(){a.close()}));case 5:o=t.sent,o.length>0&&(e.formBeneficiario.edad=o[0].age,e.formBeneficiario.genero=o[0].gender);case 7:case"end":return t.stop()}}),t)})))()},curpValida:function(e){if(this.formBeneficiario.edad="",this.formBeneficiario.genero="","string"===typeof e&&18==e.length){var t=function(e){for(var t="0123456789ABCDEFGHIJKLMNÑOPQRSTUVWXYZ",a=0,o=0,i=0;i<17;i++)a+=t.indexOf(e.charAt(i))*(18-i);return o=10-a%10,10==o?0:o},a=/^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0\d|1[0-2])(?:[0-2]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$/,o=e.match(a);return!!o&&(o[2]==t(o[1])&&(this.getEdadAndGenero(),!0))}return!1}},created:function(){},filters:{upperCased:function(e){var t=[];return e.split(" ").forEach((function(e){t.push(e.toUpperCase())})),t.join(" ")}},watch:{"formBeneficiario.curp":function(e){e&&(this.formBeneficiario.curp=this.$options.filters.upperCased(e))},"formBeneficiario.calle":function(e){e&&(this.formBeneficiario.calle=this.$options.filters.upperCased(e))},"formBeneficiario.colonia":function(e){e&&(this.formBeneficiario.colonia=this.$options.filters.upperCased(e))},deep:!0}},St=jt,Rt=(a("c59c"),Object(B["a"])(St,ct,lt,!1,null,"7b8fe784",null)),Dt=Rt.exports,Nt=new o["default"],Bt=Nt,Lt=a("c3f3"),Ft=a.n(Lt),qt=a("d85e"),Ut=a.n(qt),Gt=(a("a4d3"),a("e01a"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"placeholder-component",style:e.height},[t("h3",[e._v(e._s(e.title))]),t("p",[e._v(e._s(e.description))])])}),zt=[],Vt={name:"PlaceholderComponent",props:{title:String,height:String,description:String}},Kt=Vt,Ht=(a("b435"),Object(B["a"])(Kt,Gt,zt,!1,null,null,null)),Jt=Ht.exports,Wt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"tramo"}},[e._v("*Convenio:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.convenio,expression:"form.convenio"}],staticClass:"form-control",attrs:{name:"convenios",id:"convenio_dropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"convenio",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar...")]),e._l(e.convenios,(function(a,o){return t("option",{key:o,domProps:{value:a}},[e._v(" "+e._s(a.anio)+" ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"tramo"}},[e._v("*Residente a Asignar:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.id_residente,expression:"form.id_residente"}],staticClass:"form-control",attrs:{name:"residentes",id:"residente_dropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"id_residente",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar...")]),e._l(e.residentes,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.nombre)+" "+e._s(a.a_paterno)+" "+e._s(a.a_materno)+" | "+e._s(a.centro_sict)+" ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("*Fecha de Inicio:")]),t("div",{staticClass:"col-md_12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fecha_inicio,expression:"form.fecha_inicio"}],staticClass:"form-control",attrs:{type:"date",name:"f-oficio",id:"f-oficio"},domProps:{value:e.form.fecha_inicio},on:{input:function(t){t.target.composing||e.$set(e.form,"fecha_inicio",t.target.value)}}})])]),t("div",{staticClass:"col-md-6"},[t("label",{attrs:{for:"tramo"}},[e._v("Fecha de Fin:")]),t("div",{staticClass:"col-md_12"},[t("input",{staticClass:"form-control",attrs:{type:"date",name:"f-oficio",id:"f-oficio",disabled:""},domProps:{value:e.dateEnd}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 float-right"},[t("button",{staticClass:"btn btn-danger",on:{click:e.closeModal}},[e._v("Cerrar")]),e.ValidForm?t("button",{staticClass:"btn btn-primary active",on:{click:e.postResidente}},[e._v(" Aceptar ")]):e._e(),e.ValidForm?e._e():t("button",{staticClass:"btn btn-primary disabled"},[e._v(" Aceptar ")])])])])},Xt=[],Yt="/residentes/",Zt="/convenios/";function Qt(){return lc({url:Yt,method:"get"})}function ea(){return lc({url:Yt+"dropdown/",method:"get"})}function ta(e){return lc({url:Zt+e+Yt,method:"get"})}function aa(e,t){return lc({url:Zt+e+Yt,method:"post",data:t})}function oa(e,t,a){return lc({url:Zt+e+Yt+t,method:"patch",data:a})}function ia(e){return lc({url:"residentes/asignaciones/",method:"get",params:e})}var ra={components:{PlaceholderComponent:Jt},name:"AsignarResidente",props:{id_camino:Number},data:function(){return{residentes:[],convenios:[],form:{convenio:null,id_residente:null,fecha_inicio:null}}},computed:{ValidForm:function(){return!!(this.form.convenio&&this.form.id_residente&&this.form.fecha_inicio)},payload:function(){var e={id_residente:this.form.id_residente,fecha_inicio:this.form.fecha_inicio,fecha_fin:this.dateEnd};return e},dateEnd:function(){return this.form.convenio?"".concat(this.form.convenio.anio,"-12-31"):""}},methods:{closeModal:function(){this.$emit("closeModal")},postResidente:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,aa(e.form.convenio.id,e.payload);case 3:t.sent,e.closeModal(),e.$swal("","La asignación se creó con éxito","success"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.closeModal(),e.$swal("ERROR",JSON.stringify(t.t0),"warning");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ea();case 3:return e.residentes=t.sent,t.next=6,pt(e.id_camino);case 6:e.convenios=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},na=ra,sa=Object(B["a"])(na,Wt,Xt,!1,null,null,null),ca=sa.exports,la=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Convenio:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.id_convenio_selected,expression:"id_convenio_selected"}],staticClass:"form-control",attrs:{name:"convenios",id:"convenio_dropdown"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.id_convenio_selected=t.target.multiple?a:a[0]},function(t){return e.getResidentesAsignados(e.id_convenio_selected)}]}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar...")]),e._l(e.convenios,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.anio)+" ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Residente:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selected_residente,expression:"selected_residente"}],staticClass:"form-control",attrs:{name:"residentes",id:"residente_dropdown"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected_residente=t.target.multiple?a:a[0]},function(t){return e.elegirResidente(e.selected_residente)}]}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar...")]),e._l(e.residentes,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.residente.nombre)+" "+e._s(a.residente.a_paterno)+" "+e._s(a.residente.a_materno)+" | "+e._s(a.residente.centro_sict)+" ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Fecha de Inicio:")]),t("div",{staticClass:"col-md_12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.residente.fecha_inicio,expression:"residente.fecha_inicio"}],staticClass:"form-control",attrs:{type:"date",disabled:!0},domProps:{value:e.residente.fecha_inicio},on:{input:function(t){t.target.composing||e.$set(e.residente,"fecha_inicio",t.target.value)}}})])]),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Fecha de Fin:")]),t("div",{staticClass:"col-md_12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.residente.fecha_fin,expression:"residente.fecha_fin"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.residente.fecha_fin},on:{input:function(t){t.target.composing||e.$set(e.residente,"fecha_fin",t.target.value)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-1"},[t("label",[e._v("Activo:")]),t("div",{staticClass:"col-md_12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.residente.estatus,expression:"residente.estatus"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.residente.estatus)?e._i(e.residente.estatus,null)>-1:e.residente.estatus},on:{change:function(t){var a=e.residente.estatus,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);o.checked?n<0&&e.$set(e.residente,"estatus",a.concat([r])):n>-1&&e.$set(e.residente,"estatus",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.residente,"estatus",i)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 float-right"},[t("button",{staticClass:"btn btn-danger",on:{click:e.closeModal}},[e._v("Cerrar")]),e.ValidForm?t("button",{staticClass:"btn btn-primary active",on:{click:e.updateResidente}},[e._v(" Aceptar ")]):e._e(),e.ValidForm?e._e():t("button",{staticClass:"btn btn-primary disabled"},[e._v(" Aceptar ")])])])])},da=[],ua={components:{PlaceholderComponent:Jt},name:"AsignarResidente",props:{id_camino:Number},data:function(){return{residentes:[],convenios:[],id_convenio_selected:null,selected_residente:null,residente:{fecha_inicio:"",fecha_fin:"",estatus:""}}},computed:{ValidForm:function(){return this.residente.fecha_fin&&this.residente.fecha_inicio},payload:function(){return this.residente}},methods:{closeModal:function(){this.$emit("closeModal")},getResidentesAsignados:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ta(e);case 2:t.residentes=a.sent;case 3:case"end":return a.stop()}}),a)})))()},elegirResidente:function(e){var t=this.residentes.find((function(t){return t.id==e}));this.residente.fecha_inicio=t.fecha_inicio,this.residente.fecha_fin=t.fecha_fin,this.residente.estatus=t.estatus},updateResidente:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oa(e.id_convenio_selected,e.selected_residente,e.residente);case 3:t.sent,e.$swal("","La asignación se editó con éxito","success"),e.closeModal(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal("ERROR",JSON.stringify(t.t0),"error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt(e.id_camino);case 3:e.convenios=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},ma=ua,pa=Object(B["a"])(ma,la,da,!1,null,null,null),fa=pa.exports,va=function(){var e=this,t=e._self._c;return t("table",[t("tr",[e.hasColoredBorders?t("th",{staticStyle:{border:"0",padding:"0"}}):e._e(),e._l(e.headers,(function(a,o){return t("th",{key:o},[e._v(" "+e._s(a.label)+" ")])}))],2),e._l(e.data,(function(a,o){return t("tr",{key:o,staticStyle:{"box-shadow":"0px 0px 16px #00000029","border-radius":"10px",height:"64px"}},[e.hasColoredBorders?t("td",{staticClass:"border-color",class:a.borderColorClass,staticStyle:{padding:"0","border-right":"0","border-top":"0","border-bottom":"0",cursor:"pointer"},attrs:{title:a.borderTitle}}):e._e(),e._l(e.headers,(function(o,i){return t("td",{key:i},[e._v(" "+e._s(a[o.field])+" ")])})),e.options.length?t("td",{staticStyle:{position:"relative","border-top-right-radius":"10px","border-bottom-right-radius":"10px","padding-right":"20px"}},[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("div",{staticStyle:{padding:"4px",cursor:"pointer"},on:{click:function(t){return e.openActions("table-actions-".concat(o))}}},e._l(e.dots,(function(e,a){return t("span",{key:a,staticStyle:{height:"5px",width:"5px",display:"block","margin-bottom":"5px","border-radius":"100%","background-color":"#66afe9"}})})),0)]),t("div",{staticClass:"hidden",staticStyle:{"box-shadow":"-3px 3px 6px #00000029","z-index":"10","background-color":"white",top:"40px",right:"25px",position:"absolute"},attrs:{id:"table-actions-".concat(o)},on:{mouseleave:function(t){return e.openActions("table-actions-".concat(o))}}},e._l(e.options,(function(o,i){return t("div",{key:i},[t("div",{directives:[{name:"show",rawName:"v-show",value:!Object.hasOwnProperty.call(o,"isVisible")||o.isVisible(a),expression:"Object.hasOwnProperty.call(option, 'isVisible') ? option.isVisible(item) : true"}],staticStyle:{padding:"10px",width:"max-content"}},[t("p",{staticClass:"menu--text",on:{click:function(e){return o.action(a)}}},[e._v(" "+e._s(o.label)+" ")])])])})),0)]):e._e()],2)})),t("tr",e._l(e.footers,(function(a,o){return t("td",{key:o,attrs:{colspan:a.colSpan}},[e._v(" "+e._s(a.label)+" ")])})),0)],2)},ba=[],ha={name:"TableBase",props:{headers:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}},footers:{type:Array,default:function(){return[]}},hasColoredBorders:{type:Boolean,default:!1}},data:function(){return{dots:[1,2,3]}},methods:{openActions:function(e){document.getElementById(e).classList.toggle("hidden")}}},ga=ha,_a=(a("9ca5"),Object(B["a"])(ga,va,ba,!1,null,"23845528",null)),Ca=_a.exports;o["default"].use(Ut.a),o["default"].use(xe.a);var xa={name:"DatosConvenio",props:{camino_id:{type:Number},isObraCanceled:{required:!0,default:!1},longitud_pavimentar:{type:Number,required:!0}},components:{Modal:st["a"],ModalBeneficiario:Dt,PlaceholderComponent:Jt,AsignarResidente:ca,ModalSCT:Be,EditarAsignacionResidente:fa,TableBase:Ca},data:function(){var e=this;return{headers:[{label:"Año del Convenio",field:"anio"},{label:"Tramo",field:"tramo"},{label:"Monto(mdp)",field:"monto"},{label:"Meta(km)",field:"meta"},{label:"Tiene Convenio Modificatorio",field:"initDate"},{label:"Archivo",field:"endDate"}],featureOptions:[{label:"Editar convenio",action:function(t){return e.toEdit(t)},isVisible:function(){return"NORMATIVO"==e.$store.getters["user/StateRol"]}},{label:"Eliminar convenio",action:function(t){return e.deleteConvenio(t)}},{label:"Agregar convenio modificatorio",action:function(e){return console.log("heyy")}},{label:"Presupuesto",action:function(t){return e.$router.push({name:"Budget",params:{agreementId:t.id}})}},{label:"Representantes",action:function(t){return e.$router.push({name:"Representatives",params:{agreementId:t.id}})}},{label:"Editar asignacion",action:function(){return e.modalEditarResidente=!0},isVisible:function(){return"NORMATIVO"==e.$store.getters["user/StateRol"]}},{label:"Asignar residente",action:function(){return e.modalAsignarResidente=!0},isVisible:function(){return"NORMATIVO"==e.$store.getters["user/StateRol"]}}],modalAsignarResidente:!1,modalEditarResidente:!1,currentAgreementIdSelected:null,modalRepresentatives:!1,representativesList:[],beneficiarios:[],form:{id:-1,anio:"",tramo:"",monto:"",origen:"",meta:"",archivo:null,modificatorio:0,padre:null,es_modificatorio:!1,beneficiario_id:"",lon_inicial:0,lat_inicial:0,lon_final:0,lat_final:0},formMoficatorio:{anio:"",tramo:"",monto:"",origen:"",padre:0,meta:"",archivo:null,modificatorio:0,es_modificatorio:!1},mode:"",cons:!1,isNormativo:!1,anios:[],estatus:"",sumMeta:0,modalTitle:"",max:999999,flag:!1,lines:"Both",sumMesAvance:0,dataAvance:[],mesesMetas:[],convenios:[],aniosEdit:[],convenioErrors:[],isDisabled:!1,isDisabledMod:!1,flagEdicion:!0,btnIsDisabled:!1,beneficiario_id:0,btnSaveDisabled:!0,showAdminModalConvenio:!1,showModalCalendarioObra:!1,showAdminModalConvenioMod:!1,convenioModificatrioErrors:[],pageSettings:{pageCount:6,pageSize:20},IconTemplate2:function(){return{template:o["default"].component("IconTemplate",{template:'\n                <div class="text-center">\n                  <button\n                    @click="handleClick"\n                    class="btn btn-primary btn-sm"\n                    type="button"\n                  >\n                    <span class="glyphicon glyphicon-remove" aria-hidden="true" />\n                  </button>\n                </div>\n              ',data:function(){return{data:{}}},methods:{handleClick:function(){Bt.$emit("handleClick2",this.data)}}})}},IconTemplateEdit:function(){return{template:o["default"].component("IconTemplateEdit",{template:'\n                <div class="text-center">\n                  <button\n                    @click="handleClick"\n                    class="btn btn-primary btn-sm"\n                    type="button"\n                  >\n                    <span class="glyphicon glyphicon-pencil" aria-hidden="true" />\n                  </button>\n                </div>\n              ',data:function(){return{data:{}}},methods:{handleClick:function(){Bt.$emit("handleClickEdit",this.data)}}})}}}},validations:{form:{anio:{required:T["required"]},monto:{maxValue:Object(T["maxValue"])(999999)},meta:{required:T["required"]},lat_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}},lat_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}}},formMoficatorio:{anio:{required:T["required"]},monto:{maxValue:Object(T["maxValue"])(999999)},meta:{required:T["required"]}}},methods:{toFile:function(){var e=ya(this.data.archivo);if(window.navigator&&window.navigator.msSaveOrOpenBlob)var t=window.navigator.msSaveOrOpenBlob(e,"pdfBase64.pdf");else{var a=URL.createObjectURL(e);t=window.open(a)}t?t.focus():alert("Por favor permitir los popups para este sitio")},toEdit:function(e){this.modalTitle="Actualizar Datos del Convenio",this.mode="edit",this.form.id=e.id,this.form.anio=e.anio,this.form.tramo=e.tramo,this.form.monto=e.monto,this.form.origen=e.origen,this.form.meta=e.meta,this.form.archivo=e.archivo,this.form.es_modificatorio=e.es_modificatorio,this.form.modificatorio=0,("M"===e.estatus||e.archivo)&&(this.isDisabled=!0,this.btnIsDisabled=!0),this.beneficiario_id=e.beneficiario_id,this.loadMesAvence(!1),this.showAdminModalConvenio=!0},openModalAddConvenio:function(){this.clearForm(),this.loadAnios(),this.clearMesasAvance(),this.loadMesAvence(!0),this.mode="new",this.modalTitle="Ingresar Datos del Convenio",this.showAdminModalConvenio=!0},closeModal:function(){this.showAdminModalConvenio=!1,this.clearForm()},clearForm:function(){this.mode="",this.form.id=-1,this.form.anio="",this.form.tramo="",this.form.monto="",this.form.origen="",this.form.meta="",this.form.archivo=null,this.form.es_modificatorio=!1,this.form.modificatorio=0,this.form.beneficiario_id=0,this.isDisabled=!1,this.btnIsDisabled=!1,this.beneficiario_id=0},beforeOpen:function(){this.loadAnios(),Ft.a.freeze()},beforeClose:function(){this.clearForm(),Ft.a.unfreeze()},loadAnios:function(){var e=this;"new"!==this.mode?this.anios=this.aniosEdit:this.anios=this.anios.filter((function(t){var a=e.convenios.findIndex((function(e){return e.anio===t.anio}));if(-1==a)return t}))},onFileSelected:function(e){this.form.archivo=e.target.files[0]},onFileSelectedModificatorio:function(e){this.formMoficatorio.archivo=e.target.files[0]},listaconvenio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt(e.getCaminoID);case 2:e.convenios=t.sent;case 3:case"end":return t.stop()}}),t)})))()},deleteConvenio:function(e){var t=this;this.$confirm("¿Desea eliminar el convenio?","Warning",{confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",type:"warning"}).then(Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.prev=1,a.next=4,bt(e.id);case 4:return a.next=6,t.listaconvenio();case 6:t.$swal("EXITO","Se elimino el Convenio","success"),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),console.error(a.t0),t.$swal("ERROR","Error al eliminar el Convenio","error");case 13:o.close();case 14:case"end":return a.stop()}}),a,null,[[1,9]])}))))},saveEditConvenio:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o,i,r,n,s,c,l;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.getSumMeta<0)){a.next=2;break}return a.abrupt("return",t.$alert('El campo "Meta" no debe ser mayor a la longitud total a pavimentar',"INFORMACIÓN",{confirmButtonText:"Aceptar",customClass:"box-msg-login"}));case 2:if(o=t.getErrors("form"),i=o.isValido,r=o.errors,i){a.next=9;break}return t.convenioErrors=r,n=15,s=setInterval((function(){n--,n||(clearInterval(s),t.convenioErrors=[])}),1e3),t.$alert("Verifica los campos faltantes o con información errónea","INFORMACIÓN",{confirmButtonText:"Aceptar",customClass:"box-msg-login"}),a.abrupt("return");case 9:if(c=new FormData,c.append("anio",t.form.anio),c.append("tramo",t.form.tramo),c.append("monto",t.form.monto),c.append("origen",t.form.origen),c.append("meta",t.form.meta),""!=t.form.lat_inicial&&c.append("lat_inicial",t.form.lat_inicial),""!=t.form.lon_inicial&&c.append("lon_inicial",t.form.lon_inicial),""!=t.form.lat_final&&c.append("lat_final",t.form.lat_final),""!=t.form.lon_final&&c.append("lon_final",t.form.lon_final),c.append("estatus","A"),c.append("beneficiario_id",t.form.beneficiario_id),l=[],t.mesesMetas.map((function(e){l.push({mes:e.mes,avance:e.avance})})),c.append("avances",JSON.stringify(l)),t.form.archivo?c.append("archivo",t.form.archivo):c.append("archivo",""),!e){a.next=32;break}return c.append("modificatorio",!1),c.append("padre",0),a.next=30,t.crearConvenio(c);case 30:a.next=34;break;case 32:return a.next=34,t.actualizarConvenio(c);case 34:case"end":return a.stop()}}),a)})))()},crearConvenio:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.next=3,mt(e,t.camino_id).then(Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listaconvenio();case 2:t.$swal("EXITO","El convenio ha sido creado","success");case 3:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e);var a=10,o=setInterval((function(){a--,a?t.$swal("ERROR","Error al crear el Convenio los datos","error"):(t.$swal("EXITO","Se creo los datos el Convenio","success"),clearInterval(o))}),1e3)})).finally((function(e){o.close(),t.showAdminModalConvenio=!1}));case 3:case"end":return a.stop()}}),a)})))()},confirmSaveModificatorio:function(){var e=this;this.$confirm("Al ingresar un nuevo convenio modificatorio, \n              el convenio original estará en modo de consulta.","Alerta",{confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",customClass:"confirmSaveModificatorio",type:"warning"}).then(Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.saveConvenioModificatorio();case 1:case"end":return t.stop()}}),t)})))).catch(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(a),e.closeModalModificatorio();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},saveConvenioModificatorio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i,r,n,s,c,l;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.getErrors("formMoficatorio"),o=a.isValido,i=a.errors,o){t.next=7;break}return e.convenioModificatrioErrors=i,r=15,n=setInterval((function(){r--,r||(clearInterval(n),e.convenioModificatrioErrors=[])}),1e3),e.$swal("WARNING","Verifica los campos faltantes o con información errónea","warning"),t.abrupt("return");case 7:return s=y["Loading"].service({fullscreen:!0,lock:!0}),c=new FormData,c.append("anio",e.formMoficatorio.anio),c.append("tramo",e.formMoficatorio.tramo),c.append("monto",e.formMoficatorio.monto),c.append("origen",e.formMoficatorio.origen),c.append("meta",e.form.meta),c.append("padre",e.formMoficatorio.padre),c.append("estatus","A"),l=[],e.mesesMetas.map((function(e){l.push({mes:e.mes,avance:e.avance})})),c.append("avances",JSON.stringify(l)),c.append("beneficiario_id",e.beneficiario_id),e.formMoficatorio.archivo&&c.append("archivo",e.formMoficatorio.archivo),t.next=23,ft(c).then(Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.listaconvenio();case 2:case"end":return t.stop()}}),t)})))).catch((function(t){console.log(t);var a=10,o=setInterval((function(){a--,a?e.$emit("show-error","Error al crear el Convenio los datos "):(e.$emit("show-error",!1),clearInterval(o))}),1e3)})).finally((function(t){e.showAdminModalConvenio=!1,e.showAdminModalConvenioMod=!1,s.close()}));case 23:case"end":return t.stop()}}),t)})))()},closeModalModificatorio:function(){this.formMoficatorio.anio="",this.formMoficatorio.tramo="",this.formMoficatorio.monto="",this.formMoficatorio.origen="",this.formMoficatorio.padre=0,this.formMoficatorio.modificatorio=0,this.formMoficatorio.es_modificatorio=!1,this.showAdminModalConvenioMod=!1},openModalModificatorio:function(){this.formMoficatorio.anio=this.form.anio,this.formMoficatorio.padre=this.form.id,this.formMoficatorio.tramo=this.form.tramo,this.formMoficatorio.monto=this.form.monto,this.formMoficatorio.origen=this.form.origen,this.formMoficatorio.meta=this.form.meta,this.loadMesAvence(!1),this.showAdminModalConvenioMod=!0},actualizarConvenio:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.next=3,ut(e,t.form.id).then(Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listaconvenio();case 2:t.$alert("El Convenio ha sido actualizado","INFORMACIÓN",{confirmButtonText:"Cerrar",customClass:"box-msg-login"});case 3:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e);var a=10,o=setInterval((function(){a--,a?t.$emit("show-error","Error al actualizar el Convenio"):(t.$emit("show-error",!1),clearInterval(o))}),1e3)})).finally((function(e){o.close(),t.showAdminModalConvenio=!1}));case 3:case"end":return a.stop()}}),a)})))()},customAggregateMontoFn:function(e){var t=e.result.reduce((function(e,t){return t.hasChildRecords&&t.modificatorio.length>0?e||0:e+Number("null"==t.monto?0:t.monto)}),0);return t},customAggregateMetaFn:function(e){var t=e.result.reduce((function(e,t){return t.hasChildRecords&&t.hasOwnProperty("modificatorio")&&t.modificatorio.length>0?e:e+Number(t.meta)}),0);return t},fetchDataAvance:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Ct(e);case 2:t.dataAvance=a.sent;case 3:case"end":return a.stop()}}),a)})))()},openModalBeneficiario:function(){console.log("-----------\x3e"),this.$refs.modalBeneficiario.loadbeneficiario(this.beneficiario_id),this.$refs.modalBeneficiario.showAdminModalBeneficiario=!0},openModalCalendarioObra:function(){this.dataAvance=[],this.form.meta&&0!==this.form.meta?this.getSumMeta<0?this.$alert("La Meta del convenio sobre pasa la Longitud por programar","INFORMACIÓN",{confirmButtonText:"Cerrar",customClass:"box-msg-login"}):this.showModalCalendarioObra=!0:this.$alert("Primero debe establecer la Meta","",{confirmButtonText:"Cerrar",callback:function(e){}})},loadMesAvence:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.sumMesAvance=0,e){a.next=6;break}return a.next=4,t.fetchDataAvance(t.form.id);case 4:t.mesesMetas.map((function(e){var a=t.dataAvance.findIndex((function(t){return t.mes===e.mes}));e.avance=t.dataAvance[a].avance})),t.getTotalAvanceMeta=1;case 6:case"end":return a.stop()}}),a)})))()},getErrors:function(e){this.$v[e].$touch();var t=[],a=!1;return this[e].archivo&&(t=[].concat(wa(this[e])),this.sumMesAvance!=this.form.meta&&(a=!0,t.push({error:"*La Sumatoria de la Meta \n              Calendarizada no coincide con la Meta del Convenio"}))),this.$v[e].anio.required||t.push({error:"*El año es obligatorio"}),this.$v[e].anio.required&&!a&&Number(this[e].anio)<Number((new Date).getFullYear())&&this.sumMesAvance!=this.form.meta&&t.push({error:"*La Sumatoria de la Meta \n              Calendarizada no coincide con la Meta del Convenio"}),this.$v[e].meta.required||t.push({error:"*La meta es obligatoria"}),this.getSumMeta<0&&t.push({error:"*La Meta no pede ser mayor a la longitud total"}),{isValido:!(t.length>0),errors:t}},clearMesasAvance:function(){this.dataAvance=[],this.mesesMetas.map((function(e){e.avance=""}))},closeModalCalMeta:function(){this.clearMesasAvance(),this.showModalCalendarioObra=!1},saveCalendarioMeta:function(){this.sumMesAvance>this.form.meta?this.$alert("La sumatoria del avance mensual \n            no puede ser mayor a la meta del Convenio: ".concat(this.form.meta),"INFORMACIÓN",{confirmButtonText:"Cerrar",customClass:"box-msg-login"}):this.showModalCalendarioObra=!1},setCatMeses:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gt();case 2:e.mesesMetas=t.sent,e.mesesMetas.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})),e.mesesMetas=e.mesesMetas.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{mes:e.id,avance:0})}));case 5:case"end":return t.stop()}}),t)})))()}},computed:{getCaminoID:function(){return console.log("getCaminoID"+this.camino_id),this.camino_id},isCanceled:function(){return this.$store.state.cancelConvenio.id&&this.openmodal(),this.$store.state.cancelConvenio.id},getCurrentLongitud:function(){return 314156},getSumMeta:function(){var e=this.longitudP,t=this.convenios.reduce((function(e,t){return Number(e.meta||0)+Number(t.meta||0)}),0),a=t+Number(this.form.meta);return e-a},longitudP:function(){return Number(this.longitud_pavimentar)},getTotalAvanceMeta:{get:function(){console.log("getTotalAvanceMeta");var e=this.mesesMetas.reduce((function(e,t){return Number(e)+Number(t.avance)}),0);return this.sumMesAvance=e,this.sumMesAvance},set:function(e){}}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Bt.$on("deleteConvenio",(function(t){var a=t.el,o=t.parent;e.loadAnios(),e.form.id=a.id,e.form.padre=o,e.form.anio=a.anio,e.form.tramo=a.tramo,e.form.monto=a.monto,e.form.origen=a.origen,e.form.meta=a.meta,e.form.archivo=a.archivo,e.mode="delete",e.modalTitle="Eliminar Datos del Convenio",e.isDisabled=!0,e.btnIsDisabled=!1,e.showAdminModalConvenio=!0})),Bt.$on("getPerfil",(function(t){Bt.$emit("setPerfil",e.isNormativo)})),Bt.$on("handleClick2",function(){var e=Object(u["a"])(Object(d["a"])().mark((function e(t){var a,o,i,r,n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("clickIcon2"),console.log(t),a=new Date,o=a.getDate(),i=a.getMonth()+1,r=a.getFullYear(),n="".concat(o,"-").concat(i<10?"0"+i:i,"-").concat(r),e.next=9,It({id:t.id,fecha_fin:n});case 9:return e.next=11,getRepresentativesByAgreement(t.id_convenio);case 11:alert("Representante desactivado");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Bt.$on("handleClickEdit",function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("handleClickEdit"),console.log(a),e.currentAgreementIdSelected=a.id_convenio,openModalBeneficiario();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.setCatMeses(),t.next=7,At(e.$route.params.obraId).then((function(t){console.log(t),e.beneficiarios=t.map((function(e){return{id:e.id_beneficiario,value:e.clave_camino+e.clave_beneficiario+(e.municipio?": ".concat(e.municipio):"")}}))}));case 7:a=t.sent,a.data;case 9:case"end":return t.stop()}}),t)})))()},beforeMount:function(){this.listaconvenio(),this.isNormativo="NORMATIVO"==this.$store.getters["user/StateRol"],this.cons=this.isObraCanceled,this.flagEdicion=!this.cons,this.anios=[{anio:2019},{anio:2020},{anio:2021},{anio:2022},{anio:2023},{anio:2024}],this.aniosEdit=[{anio:2019},{anio:2020},{anio:2021},{anio:2022},{anio:2023},{anio:2024}]},mounted:function(){this.$refs.gridConvenios.ej2Instances.grid.defaultLocale.EmptyRecord="No hay convenios",Ft.a.init()}};function ya(e){for(var t=1024,a=atob(e),o=a.length,i=Math.ceil(o/t),r=new Array(i),n=0;n<i;++n){for(var s=n*t,c=Math.min(s+t,o),l=new Array(c-s),d=s,u=0;d<c;++u,++d)l[u]=a[d].charCodeAt(0);r[n]=new Uint8Array(l)}return new Blob(r,{type:"application/pdf"})}function wa(e){var t=["pdf"],a=12e6,o=e.archivo,i=o.name,r=o.size,n=i.split(".").pop(),s=[];return t.includes(n)?r>a&&s.push({error:"*El tamaño del archivo excede los 12 megas"}):s.push({error:"*La extensión del archivo no es valida"}),s}var Pa=xa,Oa=(a("66f3"),Object(B["a"])(Pa,rt,nt,!1,null,"fb9ce428",null)),$a=Oa.exports,Aa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("h3",[e._v("Asignación de Residente de Obra")]),t("hr",{staticClass:"red"}),t("div",{staticClass:"row"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-8 form-group"},[t("label",{staticClass:"control-label"},[e._v("Residente asignado:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario,expression:"usuario"}],staticClass:"form-control",attrs:{type:"text",disabled:"cons",placeholder:"No hay usuario asigando"},domProps:{value:e.usuario},on:{input:function(t){t.target.composing||(e.usuario=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.id},on:{input:function(t){t.target.composing||(e.id=t.target.value)}}})])]),t("div",{staticClass:"col-md-4 text-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"buscarObras",disabled:e.cons},on:{click:e.asignar}},[t("span",{staticClass:"icon",staticStyle:{"margin-right":"8px"}}),e._v("Asignar")])])]),t("ejs-grid",{ref:"grid",attrs:{dataSource:e.data,gridLines:e.lines,allowPaging:!0,allowSorting:!0,pageSettings:e.pageSettings,rowSelected:e.rowSelected,disabled:e.cons}},[t("e-columns",[t("e-column",{attrs:{field:"id",headerText:"id",visible:e.flag}}),t("e-column",{attrs:{field:"nombre",headerText:"Nombre(s)"}}),t("e-column",{attrs:{field:"primerA",headerText:"1° Apellido"}}),t("e-column",{attrs:{field:"segundoA",headerText:"2° Apellido"}})],1)],1)],1)},Ma=[],Ia=a("7d05");o["default"].use(le["a"]);var ka={name:"AsignarResidente",data:function(){return{id_usuario_asignado:null,lines:"Both",data:[],breadcrumb:[""],pageSettings:{pageCount:5,pageSize:20},count:null,flag:!1,usuario:"",id:null}},props:{idUsr:Number,isCanceled:{required:!0}},provide:{grid:[de["a"],ue["a"],Ia["a"]]},methods:{rowSelected:function(e){this.$refs.grid.getSelectedRowIndexes();var t=this.$refs.grid.getSelectedRecords();this.usuario=t[0].nombre+" "+t[0].primerA+" "+t[0].segundoA,this.id=t[0].id},asignar:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e(e.$route.params.obraId,e.id);case 2:a=t.sent,alert(a.msg);case 4:case"end":return t.stop()}}),t)})))()},getUserAsign:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ae(e.$route.params.obraId);case 2:a=t.sent,a&&(e.id_usuario_asignado=a.usuarios);case 4:case"end":return t.stop()}}),t)})))()},fetchUsers:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ie(e.$systemId,e.$residenteGroup);case 2:a=t.sent,o=a.users,o&&o.map((function(t){e.data.push({id:t.icveusuario,nombre:t.cnombre,primerA:t.cappaterno,segundoA:t.capmaterno}),t.icveusuario==e.id_usuario_asignado&&(e.usuario=t.cnombre+" "+t.capmaterno+" "+t.cappaterno)}));case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.obraId){t.next=3;break}return t.next=3,e.getUserAsign();case 3:return t.next=5,e.fetchUsers();case 5:case"end":return t.stop()}}),t)})))()},beforeMount:function(){this.cons=this.isCanceled}},Ea=ka,Ta=Object(B["a"])(Ea,Aa,Ma,!1,null,"20a6817f",null),ja=Ta.exports,Sa=function(){var e=this,t=e._self._c;return t("table",{staticClass:"tableContenido",attrs:{id:"datosFinancieros",width:"100%",border:"0"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 col-md-offset-3"},[t("h4",[e._v("Tipo de búsqueda")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tbusqueda,expression:"tbusqueda"}],attrs:{type:"radio",id:"actual",value:"actual"},domProps:{checked:e._q(e.tbusqueda,"actual")},on:{change:[function(t){e.tbusqueda="actual"},e.wiu]}}),t("label",{attrs:{for:"actual"}},[e._v("Consulta año actual")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tbusqueda,expression:"tbusqueda"}],attrs:{type:"radio",id:"pasado",value:"pasado"},domProps:{checked:e._q(e.tbusqueda,"pasado")},on:{change:function(t){e.tbusqueda="pasado"}}}),t("label",{attrs:{for:"pasado"}},[e._v("Consulta años anteriores")]),t("br"),t("br"),"actual"===e.tbusqueda?t("div",[t("label",{attrs:{for:"start"}},[e._v("Fecha Consulta:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fechac,expression:"fechac"}],attrs:{title:"Fecha de consulta de informacion",type:"date",id:"start"},domProps:{value:e.fechac},on:{input:function(t){t.target.composing||(e.fechac=t.target.value)}}})]):e._e(),"pasado"===e.tbusqueda?t("div",[t("label",{attrs:{for:"start"}},[e._v("Año Consulta:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.fechac,expression:"fechac"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fechac=t.target.multiple?a:a[0]}}},[t("option",{domProps:{value:"2019-12-31"}},[e._v("2019")]),t("option",{domProps:{value:"2020-12-31"}},[e._v("2020")]),t("option",{domProps:{value:"2021-12-31"}},[e._v("2021")])])]):e._e(),t("br"),t("br"),t("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button",id:"buscarObras"},on:{click:e.submit}},[e._v("Buscar")])]),t("div",{staticClass:"col-md-1"})]),t("div",{attrs:{id:"app"}},[t("div",{staticClass:"row"},[e._m(0),t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[t("h3",[e._v("Presupuesto Calendarizado")]),t("hr",{staticClass:"red"}),t("h6",{staticClass:"navbar-right"},[e._v("La información que se muestra es al corte del día "+e._s(e.fechac)+" ")])]),t("ejs-grid",{ref:"grid1",attrs:{id:"FirstGrid",height:"450px",width:"100%",dataSource:e.clave,toolbar:e.toolbarOptions,toolbarClick:e.gridExport,pageSettings:e.pageSettings,allowExcelExport:!0,allowPdfExport:!0,allowSorting:!0,allowTextWrap:!0}},[t("e-columns",[t("e-column",{attrs:{field:"mes",headerText:"Mes"}}),t("e-column",{attrs:{field:"modificado",headerText:"Modificado",textAlign:"right",format:"C2"}}),t("e-column",{attrs:{field:"ejercido",headerText:"Ejercido",textAlign:"right",format:"C2"}}),t("e-column",{attrs:{field:"comprometido",headerText:"Comprometido",textAlign:"right",format:"C2"}}),t("e-column",{attrs:{field:"pagado",headerText:"Pagado",textAlign:"right",format:"C2"}}),t("e-column",{attrs:{field:"disponible",headerText:"Disponible",textAlign:"right",format:"C2"}})],1)],1)],1)]),e._m(1),t("div",{staticClass:"tab-pane"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label",attrs:{for:"mescons"}},[e._v("Mes:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.mes,expression:"mes"}],staticClass:"form-control",attrs:{id:"mes"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.mes=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("Selecciona un mes...")]),t("option",{attrs:{value:"01"}},[e._v("Enero")]),t("option",{attrs:{value:"02"}},[e._v("Febrero")]),t("option",{attrs:{value:"03"}},[e._v("Marzo")]),t("option",{attrs:{value:"04"}},[e._v("Abril")]),t("option",{attrs:{value:"05"}},[e._v("Mayo")]),t("option",{attrs:{value:"06"}},[e._v("Junio")]),t("option",{attrs:{value:"07"}},[e._v("Julio")]),t("option",{attrs:{value:"08"}},[e._v("Agosto")]),t("option",{attrs:{value:"09"}},[e._v("Septiembre")]),t("option",{attrs:{value:"10"}},[e._v("Octubre")]),t("option",{attrs:{value:"11"}},[e._v("Noviembre")]),t("option",{attrs:{value:"12"}},[e._v("Diciembre")])])]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label",attrs:{for:"nombreBenf"}},[e._v("Beneficiario:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.benef,expression:"benef"}],staticClass:"form-control",attrs:{id:"nombreBenef",placeholder:"Beneficiario",type:"text"},domProps:{value:e.benef},on:{input:function(t){t.target.composing||(e.benef=t.target.value)}}})]),t("div",{staticClass:"col-md-4 form-group"},[t("button",{staticClass:"btn btn-default btn-sm small-top-buffer",attrs:{type:"button",id:"buscarObras"},on:{click:e.consulta}},[t("span"),e._v("Buscar")])])])]),t("ejs-grid",{ref:"grid2",attrs:{id:"SecondGrid",dataSource:e.lista,width:"100%",allowPdfExport:!0,allowExcelExport:!0,allowSorting:!0,allowTextWrap:!0,allowFiltering:!0,allowPaging:!1,height:"450px"}},[t("e-columns",[t("e-column",{attrs:{field:"idpago",headerText:"id",visible:e.flag}}),t("e-column",{attrs:{field:"rfc_benef",headerText:"RFC",width:"120"}}),t("e-column",{attrs:{field:"nombre",headerText:"Beneficiario",width:"150"}}),t("e-column",{attrs:{field:"importe",headerText:"Monto",textAlign:"right",format:"C2",width:"150"}}),t("e-column",{attrs:{field:"reintegro",headerText:"Reintegro",textAlign:"right",format:"C2",width:"150"}}),t("e-column",{attrs:{field:"f_elab",headerText:"Fecha Elab",width:"70"}}),t("e-column",{attrs:{field:"f_pago",headerText:"Fecha Pago",width:"70"}}),t("e-column",{attrs:{field:"estatus",headerText:"Estatus",width:"70"}})],1)],1)],1)])},Ra=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12 mx-auto"},[t("div",{staticClass:"row"},[t("h2",[e._v("Consulta Presupuestal")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("h3",[e._v("Pagos a beneficiario")]),t("hr",{staticClass:"red"})])}],Da=a("bf15"),Na=a("e09d"),Ba=a("6e1f"),La=a("c2da");o["default"].use(le["a"]),o["default"].use(x["a"]),o["default"].use(C["a"]),o["default"].use(Da["a"]),o["default"].use(j["a"],{symbol:"$",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!0});var Fa={name:"DatosFinancieros",props:{edo:{abreviaturaEdo:"",iso:""}},data:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate()-1;t=t<=9?"0"+(e.getMonth()+1):e.getMonth()+1,a=a<=9?"0"+(e.getDate()-1):e.getDate()-1;var o=e.getFullYear()+"-"+t+"-"+a,i=a+"/"+t+"/"+e.getFullYear();return{editmode:!1,tipo_camino:null,flag:!1,lista:[],clave:[],tit1:[],tit2:[],nama1:"",nama2:"",tHeader:[],pageSettings:{pageCount:5,pageSize:20},flagEdicion:!0,usuario:"",start:"",mes:"",benef:"",downloadLoading:!1,fechac:o,fechacE:"",fechacI:i,vname:"",toolbarOptions:["ExcelExport","PdfExport"],tbusqueda:""}},methods:{wiu:function(){"actual"==this.tbusqueda&&(this.fechac=this.ft)},rowSelected:function(e){this.$refs.grid.getSelectedRowIndexes();var t=this.$refs.grid.getSelectedRecords();this.usuario=t[0].nombre+" "+t[0].apaterno+" "+t[0].amaterno,this.id=t[0].id},asignar:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,asignarUsuario(e.$route.params.obraId,e.id);case 2:a=t.sent,alert(a.msg);case 4:case"end":return t.stop()}}),t)})))()},formatNum:function(e){return(new Intl.NumberFormat).format(e)},consulta:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.mes&&!e.benef){t.next=6;break}return t.next=3,Pe(e.fechac,e.mes,e.benef);case 3:e.lista=t.sent,t.next=9;break;case 6:return t.next=8,we(e.fechac);case 8:e.lista=t.sent;case 9:console.log("this.lista"),console.log(e.lista),a=e.lista.reduce((function(e,t){return e+t.importe}),0),o=e.lista.reduce((function(e,t){return e+t.reintegro}),0),e.lista.map((function(e){e.nombre})),i={idpago:1,rfc_benef:"",nombre:"Total",importe:a,reintegro:o,f_elab:null,f_pago:null,estatus:"",f_carga:e.fechac},e.lista.unshift(i);case 16:case"end":return t.stop()}}),t)})))()},populate:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,[],null,null,null,null,null,!e.fechac){t.next=24;break}return t.next=10,ye(e.fechac);case 10:return e.clave=t.sent,t.next=13,ye(e.fechac);case 13:return e.fdata=t.sent,t.next=16,we(e.fechac);case 16:return e.lista=t.sent,t.next=19,we(e.fechac);case 19:e.sdata=t.sent,e.nama1="SolicitudPago_"+e.fechac+".pdf",e.nama2="SolicitudPago_"+e.fechac+".xlsx",e.tit1=["","","","","Calendario de Recursos SIA"],e.tit2=["","","","Programa Presupuestario U004 “Mejora en la conectividad municipal a través de caminos rurales y carreteras alimentadoras”","Reporte de pagos del SIA"];case 24:t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](0),console.log("error--\x3e"),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,26]])})))()},gridExport:function(e){var t=this,a=this.$refs.grid1;this.$refs.grid2;if(a)if("FirstGrid_pdfexport"===e.item.id){var o=this.$refs.grid1.pdfExport({header:{fromTop:200,height:130,contents:[{type:"Text",value:"SUBSECRETARIA DE INFRAESTRUCTURA ",position:{x:100,y:0},style:{fontSize:20}}]}},!0);o.then((function(e){t.$refs.grid2.pdfExport({fileName:t.nama1,header:{fromTop:200,height:130,contents:[{type:"Text",value:"SUBSECRETARIA DE INFRAESTRUCTURA ",position:{x:100,y:0},style:{fontSize:20}},{type:"Text",value:"DIRECCION GENERAL DE CARRETERAS",position:{x:125,y:20},style:{fontSize:15}},{type:"Text",value:"DIRECCION COORDINADORA DE CAMINOS RURALES Y ALIMENTADORES",position:{x:30,y:35},style:{fontSize:15}},{type:"Text",value:"Programa Presupuestario U004 Mejora en la conectividad municipal a través de caminos rurales y carreteras alimentadoras",position:{x:15,y:55},style:{fontSize:12}}]},footer:{contents:[{type:"PageNumber",pageNumberType:"Number",format:"Pagina {$current} de {$total}",position:{x:0,y:65},style:{fontSize:10,hAlign:"Center"}}],fromBottom:130,height:130}},!1,e),a.pdfExport({fileName:t.nama1,header:{fromTop:0,height:0},footer:{contents:[{type:"PageNumber",pageNumberType:"Number",format:"Pagina {$current} de {$total}",position:{x:0,y:65},style:{fontSize:10,hAlign:"Center"}}],fromBottom:130,height:130}})}))}else if("FirstGrid_excelexport"===e.item.id){var i={multipleExport:{type:"NewSheet"},fileName:this.nama2,header:{headerRows:5,rows:[{cells:[{colSpan:8,value:"SUBSECRETARIA DE INFRAESTRUCTURA",style:{fontSize:20,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"DIRECCION GENERAL DE CARRETERAS",style:{fontSize:20,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"DIRECCION COORDINADORA DE CAMINOS RURALES Y ALIMENTADORES",style:{fontSize:10,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"Programa Presupuestario U004 “Mejora en la conectividad municipal a través de caminos rurales y carreteras alimentadoras”",style:{fontSize:10,hAlign:"Center",bold:!0}}]}]}},r=this.$refs.grid1.excelExport(i,!0);r.then((function(e){t.$refs.grid2.excelExport(i,!1,e)}))}},toolbarClick:function(e){var t=this;if("FirstGrid_excelexport"===e.item.id){var a={multipleExport:{type:"NewSheet"},fileName:this.nama2,header:{headerRows:5,rows:[{cells:[{colSpan:8,value:"SUBSECRETARIA DE INFRAESTRUCTURA",style:{fontSize:20,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"DIRECCION GENERAL DE CARRETERAS",style:{fontSize:20,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"DIRECCION COORDINADORA DE CAMINOS RURALES Y ALIMENTADORES",style:{fontSize:10,hAlign:"Center",bold:!0}}]},{cells:[{colSpan:8,value:"Programa Presupuestario U004 “Mejora en la conectividad municipal a través de caminos rurales y carreteras alimentadoras”",style:{fontSize:10,hAlign:"Center",bold:!0}}]}]}},o=this.$refs.grid1.excelExport(a,!0);o.then((function(e){t.$refs.grid2.excelExport(a,!1,e)}))}},submit:function(){this.populate()},editTemplateA:function(){return{template:he}},editTemplateB:function(){return{template:he}},DatosFinacieros:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("show-error",!1),e.$v.$touch(),!e.$v.$invalid){t.next=6;break}e.submitStatus="Error",t.next=24;break;case 6:return e.btnSaveDisabled=!0,t.prev=7,a={nombre:e.nombre,apaterno:e.apaterno,amaterno:e.amaterno,rfc_benef:e.rfc_benef,clabe:e.clabe,juridica:e.juridica,calle:e.calle,next:e.next,colonia:e.colonia,cp:e.cp,tipocalle:e.tipocalle,estatus:e.estatus},t.next=11,fc(a);case 11:o=t.sent,e.idcamino=o.beneficios+"-"+e.tipoCamino,$("#addCamino").modal("show"),e.btnSaveDisabled=!1,t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](7),e.btnSaveDisabled=!1,console.log("error al obtener el Id-Camino"),console.log(t.t0),$("#alertModal").modal("show"),e.$emit("show-error","Error al guardar beneficiario");case 24:case"end":return t.stop()}}),t,null,[[7,17]])})))()}},computed:{getCdate:function(){var e=new Date;return this.fechac=e.getDate()+"/"+e.getMonth()+"1/"+e.getYear(),this.editmode=!0,this.fechac,this.editmode}},created:function(){this.$route.params.obraId&&(this.editmode=!0),this.populate()},provide:{grid:[Na["a"],Ba["a"],ue["a"],de["a"],La["a"]]}},qa=Fa,Ua=Object(B["a"])(qa,Sa,Ra,!1,null,null,null),Ga=Ua.exports,za=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[e._m(0),t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"tipoCamino"}},[e._v("Tipo de Camino:")]),t("div",{attrs:{id:"tipoCamino"}},[t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tipoCamino,expression:"tipoCamino"}],attrs:{type:"radio",id:"cabecera",name:"tipo_camino",value:"C",disabled:e.isCanceled},domProps:{checked:e._q(e.tipoCamino,"C")},on:{change:function(t){e.tipoCamino="C"}}}),e._v(" Cabecera ")]),t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tipoCamino,expression:"tipoCamino"}],attrs:{type:"radio",id:"agencia",name:"tipo_camino",value:"A",disabled:e.isCanceled},domProps:{checked:e._q(e.tipoCamino,"A")},on:{change:function(t){e.tipoCamino="A"}}}),e._v(" Agencia ")]),t("label",{staticClass:"radio-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tipoCamino,expression:"tipoCamino"}],attrs:{type:"radio",id:"otro",name:"tipo_camino",value:"O",disabled:e.isCanceled},domProps:{checked:e._q(e.tipoCamino,"O")},on:{change:function(t){e.tipoCamino="O"}}}),e._v(" Otro ")]),t("label",{staticClass:"radio-inline"},["O"==e.tipoCamino?t("input",{directives:[{name:"model",rawName:"v-model",value:e.tipoCaminoOtro,expression:"tipoCaminoOtro"}],attrs:{placeholder:"Especificar otro"},domProps:{value:e.tipoCaminoOtro},on:{input:function(t){t.target.composing||(e.tipoCaminoOtro=t.target.value)}}}):e._e()])])])]),t("div",{staticClass:"row"},[e._m(1),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"estado"}},[e._v("Estado")]),t("ejs-combobox",{ref:"refEstado",class:{"form-control-error":e.$v.selectedEstado.$error},attrs:{id:"estado",dataSource:e.estadosData.list,fields:e.estadosData.fields,placeholder:"Selecciona un estado",change:e.updateEstado},model:{value:e.selectedEstado,callback:function(t){e.selectedEstado=t},expression:"selectedEstado"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.selectedEstado.required&&e.$v.selectedEstado.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"municipio"}},[e._v("Municipio")]),t("ejs-combobox",{ref:"refMunicipio",class:{"form-control-error":e.$v.selectedMunicipioData.$error},attrs:{id:"municipio",dataSource:e.municipioData.list,fields:e.municipioData.fields,placeholder:"Selecciona un municipio",change:e.updateMunicipio,enabled:e.localState.municipiosHabilitado},model:{value:e.selectedMunicipioData.municipio,callback:function(t){e.$set(e.selectedMunicipioData,"municipio",t)},expression:"selectedMunicipioData.municipio"}}),!e.$v.selectedMunicipioData.required&&e.$v.selectedMunicipioData.$error?t("div",{staticClass:"row col-md-10"},[t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]):e._e(),"AO".includes(e.tipoCamino)?t("div",[t("label",{staticClass:"control-label"},[e._v("Localidad")]),t("ejs-multiselect",{ref:"localidades",attrs:{dataSource:e.localidadesData.list,fields:e.localidadesData.fields,placeholder:"Selecciona una localidad",enabled:e.localState.localidadesHabilitado,id:"localidades",change:e.updateLocalidades},model:{value:e.selectedLocalidadesData.localidades,callback:function(t){e.$set(e.selectedLocalidadesData,"localidades",t)},expression:"selectedLocalidadesData.localidades"}})],1):e._e()],1)]),t("div",{staticClass:"row"},[e._m(2),t("table",{ref:"datosPersonales",staticClass:"tableContenido",attrs:{id:"datosPersonales",width:"100%",border:"0"}},[t("tbody",[t("tr",[t("td",[t("div",{staticClass:"table-responsive",attrs:{id:"datosNivelMunicipal"}},[t("div",{staticClass:"col-md-12 help-block"}),e._m(3),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.region,expression:"region"}],staticClass:"form-control",attrs:{id:"region",placeholder:"Región",maxlength:"40"},domProps:{value:e.region},on:{input:function(t){t.target.composing||(e.region=t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(4),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ubicacion,expression:"ubicacion"}],staticClass:"form-control",attrs:{id:"ubicacion",placeholder:"Ubicación"},domProps:{value:e.ubicacion},on:{input:function(t){t.target.composing||(e.ubicacion=t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(5),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMunicipioData.poblacionIndigena,expression:"selectedMunicipioData.poblacionIndigena"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Población indígena",id:"poblacion_indigena",disabled:""},domProps:{value:e.selectedMunicipioData.poblacionIndigena},on:{input:function(t){t.target.composing||e.$set(e.selectedMunicipioData,"poblacionIndigena",t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(6),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMunicipioData.marginacion,expression:"selectedMunicipioData.marginacion"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selectedMunicipioData.marginacion},on:{input:function(t){t.target.composing||e.$set(e.selectedMunicipioData,"marginacion",t.target.value)}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(7),t("div",{staticClass:"col-md-6"},[t("input",{staticClass:"form-control",attrs:{placeholder:"Total de población indígena",disabled:""},domProps:{value:e.selectedMunicipioData.totalPoblacionIndigena}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(8),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedEstado,expression:"selectedEstado",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.selectedEstado},on:{input:function(t){t.target.composing||(e.selectedEstado=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(9),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedMunicipioData.municipio,expression:"selectedMunicipioData.municipio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"icve_municipio",type:"number",disabled:""},domProps:{value:e.selectedMunicipioData.municipio},on:{input:function(t){t.target.composing||e.$set(e.selectedMunicipioData,"municipio",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-md-12 help-block"}),e._m(10),t("div",{staticClass:"col-md-6"},[t("ejs-numerictextbox",{attrs:{format:"n",showSpinButton:!1,enabled:!1,"aria-disabled":"false",value:"0"},model:{value:e.selectedMunicipioData.poblacionMunicipio,callback:function(t){e.$set(e.selectedMunicipioData,"poblacionMunicipio",e._n(t))},expression:"selectedMunicipioData.poblacionMunicipio"}})],1),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"})]),t("div",{staticClass:"table-responsive"},[t("div",{staticClass:"col-md-12"},[t("table",{staticClass:"table table-responsive"},[t("thead",[t("tr",[e._m(11),t("th",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedMunicipioData.totalLocalidades,expression:"selectedMunicipioData.totalLocalidades",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"noLocalidadesMun",type:"number",disabled:""},domProps:{value:e.selectedMunicipioData.totalLocalidades},on:{input:function(t){t.target.composing||e.$set(e.selectedMunicipioData,"totalLocalidades",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._m(12)]),t("tbody",e._l(e.localidadesTabla,(function(a){return t("tr",{key:a.id},[t("td",{staticClass:"col-md-6"},[e._v(e._s(a.nom_loc))]),t("td",{staticClass:"col-md-6"},[e._v(e._s(e.formatNum(a.pob)))])])})),0)]),t("div",{staticClass:"table-responsive",attrs:{id:"datosNivelMunicipal"}},[t("div",{staticClass:"form-group"},[e._m(13),t("div",{staticClass:"col-md-6"},[t("ejs-numerictextbox",{attrs:{format:"n",showSpinButton:!1,enabled:!1,value:"0"},model:{value:e.selectedLocalidadesData.poblacionTotalLocalidades,callback:function(t){e.$set(e.selectedLocalidadesData,"poblacionTotalLocalidades",e._n(t))},expression:"selectedLocalidadesData.poblacionTotalLocalidades"}})],1),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"col-md-12 help-block"})])])])])]),t("div",{staticClass:"form-group"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"row"},[t("button",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button","data-toggle":"modal"},on:{click:function(t){return e.$router.push("/datoscamino")}}},[e._v(" Siguiente ")])]),t("a",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button",href:"#datosCamino","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-1","aria-expanded":"true"}},[e._v(" siguiente ")])])])])])},Va=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h2",[e._v("Tipo de Camino WIUIU")]),t("hr",{staticClass:"red"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h2",[e._v("Estado, Localidad y Municipio")]),t("hr",{staticClass:"red"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h2",[e._v("Datos a nivel municipal")]),t("hr",{staticClass:"red"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Región:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Ubicación:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Población indígena")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Grado de marginación:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Total de población indígena:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Clave INEGI estado:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Clave INEGI municipio:")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Poblacion de municipio:")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"col-md-6"},[t("label",[e._v("Numero de Localidades: ")])])},function(){var e=this,t=e._self._c;return t("tr",[t("th",[e._v("Nombre")]),t("th",[e._v("Población")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-6"},[t("label",[e._v("Población Total de Localidades:")])])}];o["default"].use(C["a"]),o["default"].use(J["a"]),o["default"].use(W["a"]);Object({VUE_APP_BASE_URL:"https://web-production-cbe8.up.railway.app/api/v1",VUE_APP_PREFIX_DOMAIN_URL:"/sispacam-front/",NODE_ENV:"production",BASE_URL:"/sispacam-front/"}).VUE_APP_SCT_SVC_BACK_BASE_URL;var Ka={name:"DatosGeograficos",props:{camino_id:{type:Number},isCanceled:{required:!0,default:!1}},data:function(){return{tipoCamino:"",tipoCaminoOtro:"",estadosData:{fields:{text:"nom_agee",value:"cve_agee"},list:[]},selectedEstado:"",selectedMunicipioData:{municipio:"",totalLocalidades:0,poblacionMunicipio:0,marginacion:"",poblacionIndigena:"",totalPoblacionIndigena:0},selectedLocalidadesData:{localidades:[],poblacionTotalLocalidades:0},municipioData:{fields:{text:"nom_agem",value:"cve_agem",custom:"cve_agee"},list:[]},localidadesData:{fields:{text:"nom_loc",value:"cve_loc"},list:[]},localidadesTabla:[],region:"",ubicacion:"",localState:{municipiosHabilitado:!1,localidadesHabilitado:!1}}},validations:{selectedEstado:{required:T["required"]},selectedMunicipioData:{required:T["required"]}},methods:{initData:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uc();case 3:a=t.sent,o=a.results,e.estadosData.list=o,console.log(o),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error al obtener estados"),console.log(t.t0),e.$emit("show-error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateEstado:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("show-error",!1),e.localState.municipiosHabilitado=!0,e.clearLocalidades(),t.prev=3,t.next=6,pc(e.selectedEstado);case 6:a=t.sent,o=a.results,e.municipioData.list=o,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log("error al obtener municipios"),console.log(t.t0),e.$emit("show-error",t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})))()},updateMunicipio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$emit("show-error",!1),e.clearLocalidades(),t.next=5,vc(e.selectedEstado,e.selectedMunicipioData.municipio);case 5:a=t.sent,e.localState.localidadesHabilitado=!0,e.localidadesData.list=a,e.getPopulationInfo(),e.setEdoIso(),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("error al obtener localidades"),console.log(t.t0),e.$emit("show-error",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()},updateLocalidades:function(){this.getPopulationInfo()},clearLocalidades:function(){this.selectedLocalidadesData={localidades:[],poblacionTotalLocalidades:0}},getPopulationInfo:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vc(e.selectedEstado,e.selectedMunicipioData.municipio);case 2:a=t.sent,e.selectedMunicipioData.totalLocalidades=a.length,e.selectedLocalidadesData.poblacionTotalLocalidades=a.reduce((function(e,t){return e+t.pob}),0),console.log(a[0]),e.selectedMunicipioData.marginacion=a[0].grado_marginacion.descripcion,e.selectedMunicipioData.poblacionIndigena=a[0].poblacion_indigena.descripcion,e.selectedMunicipioData.totalPoblacionIndigena=a[0].total_poblacion_indigena,e.selectedLocalidadesData.localidades.length>0?(o=e.localidadesData.list,e.localidadesTabla=o.filter((function(t){return e.localidades.includes(t.cve_loc)})),e.selectedMunicipioData.poblacionMunicipio=localidadesData.filter((function(t){return e.localidades.includes(t.cve_loc)})).map((function(e){return e.pob})).reduce((function(e,t){return e+t}),0),e.$emit("set-icveEdo",{datos:e.DatosGeograficos})):(e.localidadesTabla=[],e.selectedMunicipioData.poblacionMunicipio=0);case 10:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initData();case 2:case"end":return t.stop()}}),t)})))()}},Ha=Ka,Ja=Object(B["a"])(Ha,za,Va,!1,null,null,null),Wa=Ja.exports,Xa=function(){var e=this,t=e._self._c;return t("table",{staticClass:"tableContenido",attrs:{id:"datosBeneficiario",width:"100%",border:"0"}},[t("div",{staticClass:"col-md-12 mx-auto"},[t("div",{staticClass:"row"},[t("h3",[e._v("Datos del Beneficiario")]),t("hr",{staticClass:"red"}),t("form",{attrs:{role:"form"}},[t("h3",[e._v("Presidente Municipal o representante de la comunidad")]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"nombre"}},[e._v("Nombre o nombres")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],staticClass:"form-control",class:{"form-control-error":e.$v.nombre.$error},attrs:{id:"nombre",placeholder:"Nombre o nombres",type:"text",disabled:e.cons},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.nombre.required&&e.$v.nombre.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"papellido"}},[e._v("Primer apellido")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apaterno,expression:"apaterno"}],staticClass:"form-control",class:{"form-control-error":e.$v.apaterno.$error},attrs:{id:"apaterno",placeholder:"Primer apellido",type:"text",disabled:e.cons},domProps:{value:e.apaterno},on:{input:function(t){t.target.composing||(e.apaterno=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.apaterno.required&&e.$v.apaterno.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"sapellido"}},[e._v("Segundo apellido")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.amaterno,expression:"amaterno"}],staticClass:"form-control",class:{"form-control-error":e.$v.amaterno.$error},attrs:{id:"amaterno",disabled:e.cons,placeholder:"Segundo apellido",type:"text"},domProps:{value:e.amaterno},on:{input:function(t){t.target.composing||(e.amaterno=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.amaterno.required&&e.$v.amaterno.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"juridica"}},[e._v("Personalidad Juridica")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.tipocalle,expression:"tipocalle"}],staticClass:"form-control",attrs:{id:"juridica",disabled:e.cons},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.tipocalle=t.target.multiple?a:a[0]}}},[t("option",[e._v("Fisica")]),t("option",[e._v("Moral")])])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"rfc"}},[e._v("RFC del Beneficiario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.rfc_benef,expression:"rfc_benef"}],staticClass:"form-control",class:{"form-control-error":e.$v.rfc_benef.$error},attrs:{id:"rfc_benef",placeholder:"RFC del Beneficiario",type:"text"},domProps:{value:e.rfc_benef},on:{blur:e.valbenef,input:function(t){t.target.composing||(e.rfc_benef=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.rfc_benef.required&&e.$v.rfc_benef.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"cuenta"}},[e._v("Clabe Interbancaria")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.clabe,expression:"clabe"}],staticClass:"form-control",class:{"form-control-error":e.$v.clabe.$error},attrs:{id:"clabe",disabled:e.cons,placeholder:"Clabe Interbancaria",type:"number",onKeyPress:"if(this.value.length==18) return false;",min:"0"},domProps:{value:e.clabe},on:{input:function(t){t.target.composing||(e.clabe=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.clabe.required&&e.$v.clabe.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("br"),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"calle"}},[e._v("Calle")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.calle,expression:"calle"}],staticClass:"form-control",attrs:{id:"calle",disabled:e.cons,placeholder:"Calle",type:"text"},domProps:{value:e.calle},on:{input:function(t){t.target.composing||(e.calle=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"numexterior"}},[e._v("Núm. Exterior")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.next,expression:"next"}],staticClass:"form-control",attrs:{id:"next",disabled:e.cons,placeholder:"Núm. Exterior",type:"text"},domProps:{value:e.next},on:{input:function(t){t.target.composing||(e.next=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"colonia"}},[e._v("Colonia")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.colonia,expression:"colonia"}],staticClass:"form-control",attrs:{id:"colonia",disabled:e.cons,placeholder:"Colonia",type:"text"},domProps:{value:e.colonia},on:{input:function(t){t.target.composing||(e.colonia=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"codpostal"}},[e._v("Código postal")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.cp,expression:"cp"}],staticClass:"form-control",attrs:{id:"cp",disabled:e.cons,placeholder:"Código postal",type:"number",onKeyPress:"if(this.value.length==5) return false;",min:"0"},domProps:{value:e.cp},on:{input:function(t){t.target.composing||(e.cp=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"tipocalle"}},[e._v("Tipo de calle")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.tipocalle,expression:"tipocalle"}],staticClass:"form-control",attrs:{id:"tipocalle",disabled:e.cons},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.tipocalle=t.target.multiple?a:a[0]}}},[t("option",[e._v("Calle")]),t("option",[e._v("Boulevard")]),t("option",[e._v("Avenida Principal")]),t("option",[e._v("Privada")]),t("option",[e._v("Ninguno")])])]),t("div",{staticClass:"col-sm-4"},[t("button",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button","data-toggle":"modal"},on:{click:e.DatosBeneficiarios}},[e._v("Guardar Datos")])])])])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-8 form-group"},[t("label",{staticClass:"control-label"},[e._v("Beneficiario asignado:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario,expression:"usuario"}],staticClass:"form-control",attrs:{type:"text",disabled:e.cons,placeholder:"No hay beneficiario asigando"},domProps:{value:e.usuario},on:{input:function(t){t.target.composing||(e.usuario=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.benefasig,expression:"benefasig"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.benefasig},on:{input:function(t){t.target.composing||(e.benefasig=t.target.value)}}})])]),e._m(0),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 table-responsive"},[t("ejs-grid",{ref:"grid",attrs:{dataSource:e.lista,gridLines:e.lines,allowPaging:!0,allowSorting:!0,pageSettings:e.pageSettings,allowFiltering:!0,allowTextWrap:!0,rowSelected:e.rowSelected}},[t("e-columns",[t("e-column",{attrs:{field:"id",headerText:"id",visible:e.flag}}),t("e-column",{attrs:{field:"nombre",headerText:"Nombre"}}),t("e-column",{attrs:{field:"apaterno",headerText:"Primer Apellido"}}),t("e-column",{attrs:{field:"amaterno",headerText:"Segundo Apellido"}}),t("e-column",{attrs:{field:"rfc",headerText:"RFC"}}),t("e-column",{attrs:{field:"clabe",headerText:"Cable"}}),t("e-column",{attrs:{field:"id",template:e.editTemplateA,headerText:"Editar",visible:e.flagEdicion,disabled:"cons"}}),t("e-column",{attrs:{field:"id",template:e.editTemplateB,headerText:"Asignar",visible:e.flagEdicion,disabled:"cons"},on:{click:e.asignar}})],1)],1)],1)])])])},Ya=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("h5",{staticClass:"small-top-buffer small-bottom-buffer"},[e._v("Lista de Beneficiarios")])])])}];o["default"].use(x["a"]),o["default"].use(C["a"]),o["default"].use(le["a"]);var Za={name:"DatosCamino",props:{edo:{abreviaturaEdo:"",iso:""},isCanceled:{required:!0,default:!1}},data:function(){return{nombre:"",apaterno:"",amaterno:"",rfc_benef:"",clabe:"",juridica:"",calle:"",next:"",colonia:"",cp:"",tipocalle:"",estatus:"",benefasig:"",editmode:!1,cons:!0,flag:!1,lista:Qa,pageSettings:{pageCount:10,pageSize:20},flagEdicion:!0,usuario:"",lines:"Both"}},validations:{nombre:{required:T["required"]},apaterno:{required:T["required"]},amaterno:{required:T["required"]},rfc_benef:{required:T["required"]},clabe:{required:T["required"]}},provide:{grid:[de["a"],ue["a"],Ia["a"]]},methods:{rowSelected:function(e){this.$refs.grid.getSelectedRowIndexes();var t=this.$refs.grid.getSelectedRecords();this.usuario=t[0].nombre+" "+t[0].apaterno+" "+t[0].amaterno,this.id=t[0].id},asignar:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e(e.$route.params.obraId,e.id);case 2:a=t.sent,alert(a.msg);case 4:case"end":return t.stop()}}),t)})))()},valbenef:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:"M"==e.fisica_moral&&12!=e.rfc_benef.length&&alert("El RFC capturado no corresponde a una persona moral"),"F"==e.fisica_moral&&13!=e.rfc_benef.length&&alert("El RFC capturado no corresponde a una persona fisica");case 2:case"end":return t.stop()}}),t)})))()},editTemplateA:function(){return{template:he}},editTemplateB:function(){return{template:he}},DatosBeneficiarios:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("show-error",!1),e.$v.$touch(),!e.$v.$invalid){t.next=6;break}e.submitStatus="Error",t.next=24;break;case 6:return e.btnSaveDisabled=!0,t.prev=7,a={nombre:e.nombre,apaterno:e.apaterno,amaterno:e.amaterno,rfc_benef:e.rfc_benef,clabe:e.clabe,juridica:e.juridica,calle:e.calle,next:e.next,colonia:e.colonia,cp:e.cp,tipocalle:e.tipocalle,estatus:e.estatus},t.next=11,fc(a);case 11:o=t.sent,e.idcamino=o.beneficios+"-"+e.tipoCamino,$("#addCamino").modal("show"),e.btnSaveDisabled=!1,t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](7),e.btnSaveDisabled=!1,console.log("error al obtener el Id-Camino"),console.log(t.t0),$("#alertModal").modal("show"),e.$emit("show-error","Error al guardar beneficiario");case 24:case"end":return t.stop()}}),t,null,[[7,17]])})))()}},beforeMount:function(){this.cons=this.isCanceled},created:function(){this.$route.params.obraId&&(this.editmode=!0)}},Qa=[{id:1,nombre:"MUNICIPIO ",apaterno:"SANTA MARIA",amaterno:"PAPALO",rfc:"MSM8501011Q0",clabe:"072610010441984070"},{id:2,nombre:"MUNICIPIO",apaterno:"SANTOS REYES",amaterno:"PAPALO",rfc:"MSR8501013Z4",clabe:"021610040623344200"},{id:3,nombre:"MUNICIPIO",apaterno:"SAN MATEO",amaterno:"PIÑAS",rfc:"MSM850101AX3",clabe:"072634010448551660"},{id:4,nombre:"MUNICIPIO",apaterno:"SANTA MARIA",amaterno:"TEMAXCALTEPEC",rfc:"MSM8501015M9",clabe:"072624010459594273"},{id:5,nombre:"MUNICIPIO",apaterno:"SANTA MARIA",amaterno:"TOTOLAPILLA",rfc:"MSM9601018X3",clabe:"012610001152679863"},{id:6,nombre:"MUNICIPIO",apaterno:"SAN JUAN",amaterno:"CIENEGUILLA",rfc:"MSJ850101GZ0",clabe:"072614010461517410"},{id:7,nombre:"MUNICIPIO",apaterno:"VALERIO",amaterno:"TRUJANO",rfc:"MVT850101N90",clabe:"012610001131975148"}],eo=Za,to=Object(B["a"])(eo,Xa,Ya,!1,null,"53f98814",null),ao=to.exports,oo=function(){var e=this,t=e._self._c;return t("div",[t("table",{staticClass:"tableContenido",attrs:{id:"datosCamino",width:"100%",border:"0"}},[t("tr",[t("td",[t("h2",[e._v("Datos del Camino")]),t("h2",[e._v(e._s(e.idcamino))]),t("hr",{staticClass:"red"})])]),t("tr",[t("td",["NORMATIVO"==this.$store.getters["user/StateRol"]?t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"municipio"}},[e._v("Municipio")]),t("ejs-combobox",{attrs:{id:"municipioData",dataSource:e.municipioDataList,fields:e.municipioDataFields,placeholder:"Agregar Municipio"},on:{change:e.LocalidadesMunicipio},model:{value:e.municipioData,callback:function(t){e.municipioData=t},expression:"municipioData"}})],1),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Localidad")]),t("ejs-multiselect",{attrs:{dataSource:e.localidadesDataList,fields:e.localidadesDataFields,placeholder:"Agregar Localidad"},model:{value:e.localidadesData,callback:function(t){e.localidadesData=t},expression:"localidadesData"}})],1)]):e._e(),t("div",{staticClass:"form-group col-md-12"},[t("label",[e._v("Estrategia Gobierno Federal:")]),t("div",[t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ciit,expression:"ciit"}],attrs:{type:"checkbox",id:"ciit",value:"true",name:"ciit",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.ciit)?e._i(e.ciit,"true")>-1:e.ciit},on:{change:function(t){var a=e.ciit,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="true",n=e._i(a,r);o.checked?n<0&&(e.ciit=a.concat([r])):n>-1&&(e.ciit=a.slice(0,n).concat(a.slice(n+1)))}else e.ciit=i}}}),e._v(" CIIT ")]),t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tren_maya,expression:"tren_maya"}],attrs:{type:"checkbox",id:"trenMaya",value:"trenMaya",name:"trenMaya",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.tren_maya)?e._i(e.tren_maya,"trenMaya")>-1:e.tren_maya},on:{change:function(t){var a=e.tren_maya,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="trenMaya",n=e._i(a,r);o.checked?n<0&&(e.tren_maya=a.concat([r])):n>-1&&(e.tren_maya=a.slice(0,n).concat(a.slice(n+1)))}else e.tren_maya=i}}}),e._v(" Tren Maya ")]),t("label",{staticClass:"checkbox-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.caminosOriginales,expression:"caminosOriginales"}],attrs:{type:"checkbox",id:"caminosOriginales",value:"caminosOriginales",name:"caminosOriginales",disabled:e.isCanceled},domProps:{checked:Array.isArray(e.caminosOriginales)?e._i(e.caminosOriginales,"caminosOriginales")>-1:e.caminosOriginales},on:{change:function(t){var a=e.caminosOriginales,o=t.target,i=!!o.checked;if(Array.isArray(a)){var r="caminosOriginales",n=e._i(a,r);o.checked?n<0&&(e.caminosOriginales=a.concat([r])):n>-1&&(e.caminosOriginales=a.slice(0,n).concat(a.slice(n+1)))}else e.caminosOriginales=i}}}),e._v(" Caminos Originales ")])])]),t("div",{staticClass:"form-group"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"col-md-4"},[t("div",[t("label",{attrs:{for:"camino"}},[e._v("ID Camino:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.idcamino,expression:"idcamino"}],staticClass:"form-control",attrs:{id:"camino",name:"LADA3",placeholder:"Id Camino",value:"",disabled:e.isCanceled},domProps:{value:e.idcamino},on:{input:function(t){t.target.composing||(e.idcamino=t.target.value)}}})])]),t("div",{staticClass:"col-md-12"},[t("label",{attrs:{for:"nombrecamino"}},[e._v("Nombre del Camino:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre_camino,expression:"nombre_camino"},{name:"model",rawName:"v-model.trim",value:e.$v.nombre_camino.$model,expression:"$v.nombre_camino.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"form-control-error":e.$v.nombre_camino.$error},attrs:{id:"nombre_camino",name:"nombre_camino",type:"text",placeholder:"Nombre del Camino",disabled:e.isCanceled,value:""},domProps:Object(m["a"])({value:e.nombre_camino},"value",e.$v.nombre_camino.$model),on:{input:[function(t){t.target.composing||e.$set(e.$v.nombre_camino,"$model",t.target.value.trim())},function(t){t.target.composing||(e.nombre_camino=t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),t("div",{staticClass:"row col-md-10"},[!e.$v.nombre_camino.required&&e.$v.nombre_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])])]),t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-4"},[t("label",[e._v("Longitud total(km):")]),t("div",[t("ejs-numerictextbox",{class:{"form-control-error":e.$v.longitud_camino.$error},attrs:{id:"longitud",placeholder:"Longitud total(km)",min:e.min,max:e.max,disabled:e.isCanceled,showSpinButton:!1},model:{value:e.longitud_camino,callback:function(t){e.longitud_camino=t},expression:"longitud_camino"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.longitud_camino.required&&e.$v.longitud_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1)]),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Longitud a pavimentar 2019-2024(km):")]),t("div",[t("ejs-numerictextbox",{class:{"form-control-error":e.$v.longitud_pavimentar.$error},attrs:{id:"longitud_pavimentar",placeholder:"Longitud a pavimentar 2019-2024(km)",min:e.min,max:e.max,disabled:e.isCanceled,showSpinButton:!1},model:{value:e.longitud_pavimentar,callback:function(t){e.longitud_pavimentar=t},expression:"longitud_pavimentar"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.longitud_pavimentar.required&&e.$v.longitud_pavimentar.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1)]),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Ancho del Camino:")]),t("ejs-dropdownlist",{ref:"refAncho",class:{"form-control-error":e.$v.ancho_camino.$error},attrs:{id:"ancho_camino",dataSource:e.anchoCaminoData,change:e.obteneranchocamino,fields:e.anchoCaminoFields,placeholder:"Selecciona el ancho del camino",enabled:!e.isCanceled},model:{value:e.$v.ancho_camino.$model,callback:function(t){e.$set(e.$v.ancho_camino,"$model","string"===typeof t?t.trim():t)},expression:"$v.ancho_camino.$model"}}),t("div",{staticClass:"row col-md-10"},[!e.$v.ancho_camino.required&&e.$v.ancho_camino.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])],1),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Presupuesto Base por Kilometro:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.Presup,expression:"Presup"}],staticClass:"form-control",attrs:{id:"Presup",type:"text",placeholder:"",value:"",disabled:e.isCanceled},domProps:{value:e.Presup},on:{input:function(t){t.target.composing||(e.Presup=t.target.value)}}})]),t("div",{staticClass:"col-md-4"},[t("label",[e._v("Presupuesto Base de obra total:")]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:e.resul,callback:function(t){e.resul=t},expression:"resul"}})],1)])])])])]),t("div",{staticClass:"row"},[t("TituloSeccion",{attrs:{title:"Datos Georreferenciales"}}),e._m(0),t("div",{staticClass:"col-md-6"},[e._m(1),t("div",{staticClass:"form-group col-md-6 pt-4"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lat_inicial,expression:"lat_inicial"}],staticClass:"form-control",class:e.$v.lat_inicial.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.lat_inicial},on:{input:function(t){t.target.composing||(e.lat_inicial=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lat_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lon_inicial,expression:"lon_inicial"}],staticClass:"form-control",class:e.$v.lon_inicial.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.lon_inicial},on:{input:function(t){t.target.composing||(e.lon_inicial=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lon_inicial.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])])]),t("div",{staticClass:"col-md-6"},[e._m(2),t("div",{staticClass:"form-group col-md-6 pt-4"},[t("label",{staticClass:"control-label"},[e._v("Lat")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lat_final,expression:"lat_final"}],staticClass:"form-control",class:e.$v.lat_final.decimales?"":"form-control-error",attrs:{type:"number"},domProps:{value:e.lat_final},on:{input:function(t){t.target.composing||(e.lat_final=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lat_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una latitud dentro de México ")])])]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"control-label"},[e._v("Lon")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lon_final,expression:"lon_final"}],staticClass:"form-control",class:e.$v.lon_final.decimales?"":"form-control-error",attrs:{type:"number",id:"inpt-longitud"},domProps:{value:e.lon_final},on:{input:function(t){t.target.composing||(e.lon_final=t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.lon_final.decimales?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Introduce una longitud dentro de México ")])])])])],1),t("table",{attrs:{width:"100%",border:"0"}},[t("tr",[t("td",[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Características actuales del camino:")]),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.caracteristicas,expression:"caracteristicas"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"caracteristicasCamino",name:"caracteristicasCamino",value:"",disabled:e.isCanceled,placeholder:"Ingrese las características actuales del camino"},domProps:{value:e.caracteristicas},on:{input:function(t){t.target.composing||(e.caracteristicas=t.target.value)}}})])])])])])]),t("table",{attrs:{width:"100%",border:"0"}},[t("tr",[t("td",[t("div",{staticClass:"col-md-12 help-block"}),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Beneficios del Camino:")]),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.beneficios,expression:"beneficios"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"beneficiosCamino",name:"beneficiosCamino",value:"",disabled:e.isCanceled,placeholder:"Ingrese los beneficios del camino"},domProps:{value:e.beneficios},on:{input:function(t){t.target.composing||(e.beneficios=t.target.value)}}})])])])])])]),t("div",{staticClass:"modal fade",attrs:{id:"UpdateCamino",tabindex:"-1",role:"dialog","aria-labelledby":"addConcept","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[e._m(3),e._m(4),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.$router.push("/caminos")}}},[e._v("Cerrar")])])])])]),t("div",{staticClass:"form-group"},[e.isCanceled?e._e():t("div",{staticClass:"row"},[t("button",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button","data-toggle":"modal",disabled:e.btnSaveDisabled},on:{click:e.GuardaDatos}},[e._v(" Guardar Datos ")])])]),e._m(5),e._m(6),e._m(7)])},io=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-10",staticStyle:{"font-size":"x-small"}},[t("small",{staticClass:"form-text",staticStyle:{"font-size":"10px"}},[e._v(" Valores aceptados ")]),t("br"),t("small",{staticClass:"form-text",staticStyle:{"font-size":"10px"}},[e._v(" Lat: 14.517000 a 32.754000 ")]),t("br"),t("small",{staticClass:"form-text",staticStyle:{"font-size":"10px"}},[e._v(" Lon: -117.080000 a -86.363800 ")]),t("br"),t("br")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h4",[e._v("Punto Inicial")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("h4",[e._v("Punto Final")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Aviso del Sistema")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-body"},[t("p",[e._v("Se actualizarón correctamente los datos del camino,")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"alertModal"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"alert alert-danger"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),t("div",{},[e._v("Ocurrio un error")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("El camino no pudo ser guardado favor de intentarlo mas tarde o contactar al area de sistemas")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[e._v(" Cerrar")])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"alertlong"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"alert alert-danger"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),t("div",{},[e._v("Ocurrio un error")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("La obra que estás intentando registrar es de tipo Agencia Municipal, y por lo tanto solo debe tener una sola localidad, favor de corregir y reintentar ")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[e._v(" Cerrar")])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"alertvalnum"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"alert alert-danger"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),t("div",{},[e._v("Ocurrio un error")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("La Longitud a pavimentar no puede ser mayor a la Longitud total ")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[e._v(" Cerrar")])])])])])}];a("25f0"),a("4be7"),a("3e8f");o["default"].use(x["a"]),o["default"].use(C["a"]),o["default"].use(j["a"],{symbol:"$",thousandsSeparator:",",fractionCount:4,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!0});var ro={name:"FormEditarCamino",decimals:5,value:10,props:{isCanceled:{required:!0,default:!1}},components:{TituloSeccion:F},data:function(){return{idcamino:"",clave_camino:"",clave_estado:"",ciit:"",tren_maya:"",caminosOriginales:"",nombre_camino:"",longitud_camino:"",longitud_pavimentar:"",caracteristicas:"",beneficios:"",lat_inicial:"",lon_inicial:"",lat_final:"",lon_final:"",ancho_camino:"",min:0,max:999999,resul:"",btnSaveDisabled:!1,Presup:"",cons:"true",anchoCaminoFields:{text:"name",value:"id"},anchoCaminoData:[{id:1,name:"4.0"},{id:2,name:"4.5"},{id:3,name:"5.0"},{id:4,name:"5.5"},{id:5,name:"6.0"}],municipioDataList:[],municipioDataFields:{value:"id",text:"nombre"},municipioData:"",localidadesDataList:[],localidadesDataFields:{value:"id",text:"nombre"},localidadesData:"",localidadesDataAux:[]}},validations:{nombre_camino:{required:T["required"]},ancho_camino:{required:T["required"]},longitud_pavimentar:{required:T["required"]},longitud_camino:{required:T["required"]},lat_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_inicial:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}},lat_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=32.754&&e>=14.517)||""===e}},lon_final:{decimales:function(e){var t=/^[\-\+]?(0(\.\d{1,10})?|([1-9](\d)?)(\.\d{1,10})?|1[0-7]\d{1}(\.\d{1,7})?|180\.0{1,10})$/;return!!(t.test(e)&&e<=-86.3638&&e>=-117.08)||""===e}}},methods:{obteneranchocamino:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:1==e.ancho_camino&&(e.Presup="$ 2,700,104.59"),2==e.ancho_camino&&(e.Presup="$ 3,100,198.29"),3==e.ancho_camino&&(e.Presup="$ 3,507,565.95"),4==e.ancho_camino&&(e.Presup="$ 3,929,902.41"),5==e.ancho_camino&&(e.Presup="$ 4,300,019.57"),a=e.Presup.replaceAll("$","").replaceAll(",",""),e.resul=a*e.fLongitdTotalAPavimentar;case 7:case"end":return t.stop()}}),t)})))()},CargaDatos:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o,i,r;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,M(e);case 2:return o=a.sent,a.next=5,pc(o.clave_estado);case 5:return i=a.sent,console.log("response",o),t.idcamino=o.clave_camino,t.nombre_camino=o.nombre_camino,t.clave_estado=o.clave_estado,t.longitud_camino=o.longitud_camino,t.longitud_pavimentar=o.longitud_pavimentar,t.caracteristicas=o.caracteristicas,t.beneficios=o.beneficios,t.ciit=o.ciit,t.tren_maya=o.tren_maya,t.caminosOriginales=o.caminos_originales,t.ancho_camino=o.id_ancho_camino,t.municipioData=Number(o.id_municipio),t.municipioDataList=i,null===o.lat_inicial?t.lat_inicial="":t.lat_inicial=o.lat_inicial,null===o.lat_final?t.lat_final="":t.lat_final=o.lat_final,null===o.lon_inicial?t.lon_inicial="":t.lon_inicial=o.lon_inicial,null===o.lon_final?t.lon_final="":t.lon_final=o.lon_final,a.next=26,vc(t.municipioData);case 26:r=a.sent,t.localidadesDataList=r,console.log(" this.localidadesDataList:",t.localidadesDataList),t.localidadesData=o.localidades,console.log("this.localidadesData",t.localidadesData),t.$store.commit("setAnchoCamino",t.ancho_camino),t.$refs.refAncho.ej2Instances.value=o.ancho_camino,1==o.ancho_camino&&(t.ancho_camino=1),2==o.ancho_camino&&(t.ancho_camino=2),3==o.ancho_camino&&(t.ancho_camino=3),4==o.ancho_camino&&(t.ancho_camino=4),5==o.ancho_camino&&(t.ancho_camino=5),1==t.ancho_camino&&(t.Presup="$ 2,700,104.59"),2==t.ancho_camino&&(t.Presup="$ 3,100,198.29"),3==t.ancho_camino&&(t.Presup="$ 3,507,565.95"),4==t.ancho_camino&&(t.Presup="$ 3,929,902.41"),5==t.ancho_camino&&(t.Presup="$ 4,300,019.57");case 43:case"end":return a.stop()}}),a)})))()},GuardaDatos:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=5;break}e.submitStatus="Error",t.next=34;break;case 5:if(e.btnSaveDisabled=!0,t.prev=6,a={nombre_camino:e.nombre_camino,longitud_camino:e.longitud_camino,longitud_pavimentar:e.longitud_pavimentar,caracteristicas:e.caracteristicas,beneficios:e.beneficios,ciit:""!=e.ciit,tren_maya:""!=e.tren_maya,caminos_originales:""!=e.caminosOriginales,id_ancho_camino:e.ancho_camino,municipio:e.municipioData,localidades:e.localidadesData.map((function(e){return e.toString()}))},e.lat_inicial&&(a.lat_inicial=e.lat_inicial),e.lat_final&&(a.lat_final=e.lat_final),e.lon_inicial&&(a.lon_inicial=e.lon_inicial),e.lon_final&&(a.lon_final=e.lon_final),!(e.longitud_pavimentar>e.longitud_camino)){t.next=16;break}return $("#alertvalnum").modal("show"),e.btnSaveDisabled=!1,t.abrupt("return");case 16:return o=y["Loading"].service({fullscreen:!1,lock:!0}),console.log("DATA"),console.log(a),t.next=21,I(e.clave_camino,a).finally((function(){o.close()}));case 21:i=t.sent,e.idcamino=i.clave,e.btnSaveDisabled=!1,e.$swal("EXITO","Se guardaron correctamente los datos del camino","success"),e.$router.push("/caminos"),t.next=34;break;case 28:t.prev=28,t.t0=t["catch"](6),e.btnSaveDisabled=!1,console.log("error al obtener el Id-Camino"),console.log(t.t0),e.$swal("ERROR","Error al guardar camino por","error");case 34:case"end":return t.stop()}}),t,null,[[6,28]])})))()},LocalidadesMunicipio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.municipioData){t.next=5;break}e.localidadesDataList=[],e.localidadesData=[],t.next=10;break;case 5:return t.next=7,vc(e.municipioData);case 7:a=t.sent,e.localidadesDataList=a,console.log(" this.localidadesDataList:",e.localidadesDataList);case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.clave_camino=this.$route.params.obraId,this.CargaDatos(this.$route.params.obraId),this.$route.params.obraId&&(this.editmode=!0)},beforeMount:function(){this.cons=this.isCanceled}},no=ro,so=(a("d56b"),Object(B["a"])(no,oo,io,!1,null,null,null)),co=so.exports,lo=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row mt-4"},[t("div",{staticClass:"col-md-6"},[t("button",{staticClass:"btn btn-primary active",on:{click:function(t){e.modalAsignarResidente=!0}}},[e._v(" Asignar Residente ")]),t("button",{staticClass:"btn btn-primary active",on:{click:function(t){e.modalEditarResidente=!0}}},[e._v(" Editar Asignacion ")])])]),e.modalAsignarResidente&&e.camino_id?t("SCTModal",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Asignar Residente")]),t("div",{attrs:{slot:"body"},slot:"body"},[t("AsignarResidente",{attrs:{id_camino:e.camino_id},on:{closeModal:function(t){e.modalAsignarResidente=!1}}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e(),e.modalEditarResidente&&e.camino_id?t("SCTModal",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Editar Asignación")]),t("div",{attrs:{slot:"body"},slot:"body"},[t("EditarAsignacionResidente",{attrs:{id_camino:e.camino_id},on:{closeModal:function(t){e.modalEditarResidente=!1}}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e()],1)},uo=[],mo={name:"ListaResidentes",props:{camino_id:Number},components:{SCTModal:Be,EditarAsignacionResidente:fa,AsignarResidente:ca},data:function(){return{modalAsignarResidente:!1,modalEditarResidente:!1}}},po=mo,fo=Object(B["a"])(po,lo,uo,!1,null,null,null),vo=fo.exports,bo={name:"AltaCamino",components:{DatosGeograficos:Wa,DatosBeneficiario:ao,AsignarResidente:ja,convenio:$a,DatosFinancieros:Ga,FormEditarCamino:co,ListaResidentes:vo},props:{tabDG:{type:Boolean,default:!1},tabConv:{type:Boolean,default:!1}},data:function(){return{isCanceled:!1,camino_id:0,cEstado:"",msgError:null,breadcrumb:["Camino "+this.$route.params.obraId],longitud_pavimentar:"",camino:{}}},methods:Object(n["a"])(Object(n["a"])({setCEdo:function(e){var t=JSON.parse(JSON.stringify(e));this.cEstado=t.datos},showError:function(e){console.log("show-error"),this.msgError=e}},Object(s["d"])(["setBreadcrumb"])),{},{getStatus:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,M(e);case 2:t.camino=a.sent,console.log("Camino"),console.log(t.camino),console.log("Longitud Pavimentar"),console.log(t.camino.longitud_pavimentar),console.log("Camino ID"),console.log(t.camino.id);case 9:case"end":return a.stop()}}),a)})))()}}),computed:{getActiveTab:function(){return console.log("this.tabConv"),console.log(this.tabConv),console.log(this.$route.params),this.$route.params.tabConv?"tabConv":"tabDG"}},created:function(){this.$route.params.obraId&&(console.log("CREATED"),this.setBreadcrumb(this.breadcrumb),this.getStatus(this.$route.params.obraId))}},ho=bo,go=Object(B["a"])(ho,ot,it,!1,null,null,null),_o=go.exports,Co=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("Edición del camino: "+e._s(e.clave))]),t("InfoCamino",{attrs:{datosCamino:e.camino}}),t("hr",{staticClass:"red"}),t("div",{staticClass:"row justify-content-around"},[t("div",{staticClass:"col-md-6"},[t("button",{staticClass:"btn btn-primary active",attrs:{type:"button"},on:{click:function(t){e.showModal=!0}}},[e._v(" Agregar Beneficiario de Obra ")])]),t("div",{staticClass:"col-md-6"},[t("button",{staticClass:"btn btn-primary active",attrs:{type:"button"},on:{click:e.goToPage}},[e._v(" Editar Obra ")])])]),t("hr",{staticClass:"red"}),e.convenios.length>1?t("div",[t("div",{staticClass:"row"},[t("TablaFrentesCamino",{attrs:{frentes:e.convenios},on:{deleteBeneficiario:function(t){return e.GetConvenios(e.camino.id)}}})],1),t("hr",{staticClass:"red"}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8"},[t("AgregadoFrentes",{attrs:{metrics:e.metrics}})],1)])]):e._e(),e.showModal?t("ModalSCT",[t("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Agregar Beneficiario de Obra")]),t("FormAgregarBeneficiario",{attrs:{slot:"body",camino:e.camino},on:{updateFrentes:function(t){e.GetConvenios(e.camino.id),e.GetMetrics(e.camino.id)},closeModal:function(t){e.showModal=!1}},slot:"body"})],1):e._e()],1)},xo=[],yo=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table"},[t("tbody",[t("tr",[e._m(0),e._l(e.frentes,(function(a){return t("td",[e._v(" "+e._s(a.nombre_municipio)+" ")])}))],2),t("tr",[e._m(1),e._l(e.frentes,(function(a){return t("td",[e._v(" "+e._s(a.nombre_localidad)+" ")])}))],2),t("tr",[e._m(2),e._l(e.frentes,(function(a,o){return t("td",{key:o},[t("div",[t("p",{style:{color:a.estatus?"":"#b7b7b7"}},[e._v(" "+e._s(a.clave_camino)+"-"+e._s(a.clave_beneficiario)+" ")]),t("button",{staticClass:"btn btn-primary active",attrs:{disabled:!a.estatus,type:"button"},on:{click:function(t){return e.deleteBeneficiario(a.id,a.clave_beneficiario)}}},[e._v(" Eliminar ")])])])}))],2),t("tr",[e._m(3),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.region))])}))],2),t("tr",[e._m(4),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.ubicacion))])}))],2),t("tr",[e._m(5),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.presencia_indigena))])}))],2),t("tr",[e._m(6),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.marginacion))])}))],2),t("tr",[e._m(7),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.total_p_indigena))])}))],2),t("tr",[e._m(8),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.estado))])}))],2),t("tr",[e._m(9),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.clave_municipio))])}))],2),t("tr",[e._m(10),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.p_municipio))])}))],2),t("tr",[e._m(11),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.num_localidades))])}))],2),t("tr",[e._m(12),e._l(e.frentes,(function(a){return t("td",[e._v(e._s(a.p_localidades))])}))],2)])])},wo=[function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Municipio")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Localidad")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Clave Beneficiario")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Región")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Ubicación")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Presencia indígena")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Grado de marginación")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Total población indígena")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Clave INEGI estado")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Clave INEGI municipio")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Población del municipio")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Número de localidades")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Población de localidades")])])}],Po={name:"TablaFrentesCamino",data:function(){return{wiu:""}},props:{frentes:Array},methods:{deleteBeneficiario:function(e,t){var a=this;return Object(u["a"])(Object(d["a"])().mark((function o(){return Object(d["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if("A"==t){o.next=3;break}return o.next=3,a.$swal.fire({title:"Eliminar esta entrada?",text:"Se eliminara esta entrada del registro",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar"}).then(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(o){var i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!o.isConfirmed){t.next=6;break}return t.next=3,Et(e);case 3:i=t.sent,console.log("response: ",i),a.$swal.fire("Borrado!","La entrada fue eliminada","success");case 6:a.$emit("deleteBeneficiario");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return o.stop()}}),o)})))()}}},Oo=Po,$o=Object(B["a"])(Oo,yo,wo,!1,null,null,null),Ao=$o.exports,Mo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"control-label",attrs:{for:"municipio"}},[e._v("*Municipio")]),t("ejs-combobox",{ref:"refMunicipio",class:{"form-control-error":e.$v.clave_municipio.$error},attrs:{dataSource:e.municipiosData,fields:e.municipiosFields,id:"municipio",placeholder:"Selecciona un municipio"},on:{change:e.obtenerLocalidades},model:{value:e.clave_municipio,callback:function(t){e.clave_municipio=t},expression:"clave_municipio"}}),!e.$v.clave_municipio.required&&e.$v.clave_municipio.$error?t("div",{staticClass:"row col-md-12"},[t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]):e._e()],1),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"control-label"},[e._v("Localidad")]),t("ejs-combobox",{ref:"localidades",attrs:{placeholder:"Selecciona una localidad",id:"localidades",dataSource:e.localidadesData,fields:e.localidadesFields},model:{value:e.clave_localidad,callback:function(t){e.clave_localidad=t},expression:"clave_localidad"}})],1),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Region")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.region,expression:"region"}],staticClass:"e-input",attrs:{id:"region",placeholder:"Región",maxlength:"40"},domProps:{value:e.region},on:{input:function(t){t.target.composing||(e.region=t.target.value)}}})]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Ubicación")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.ubicacion,expression:"ubicacion"}],staticClass:"e-input",attrs:{id:"ubicacion",placeholder:"Ubicación",maxlength:"40"},domProps:{value:e.ubicacion},on:{input:function(t){t.target.composing||(e.ubicacion=t.target.value)}}})]),e._m(0),t("div",{staticClass:"col-md-8"}),t("div",{staticClass:"col-md-4 float-right"},[t("button",{staticClass:"btn btn-danger",on:{click:e.closeModal}},[e._v("Cerrar")]),e.ValidForm?t("button",{staticClass:"btn btn-primary active",on:{click:e.postBeneficiarioCamino}},[e._v(" Aceptar ")]):e._e(),e.ValidForm?e._e():t("button",{staticClass:"btn btn-primary disabled"},[e._v(" Aceptar ")])])])])},Io=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-4"},[t("small",[e._v("*Campos obligatorios")])])}],ko=a("7de8"),Eo={name:"FormAgregarBeneficiario",data:function(){return{clave_estado:this.camino.clave_estado,id_camino:this.camino.id,clave_municipio:"",clave_localidad:"",region:"",ubicacion:"",municipiosData:[],municipiosFields:{text:"nombre",value:"clave_agem"},localidadesData:[],localidadesFields:{text:"nombre",value:"id"}}},props:{camino:Object},validations:{clave_municipio:{required:T["required"]}},methods:{closeModal:function(){this.$emit("closeModal")},obtenerMunicipios:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("show-error",!1),e.clave_municipio=null,e.clearLocalidades(),t.prev=3,t.next=6,Y(e.clave_estado);case 6:a=t.sent,console.log(e.results),e.municipiosData=a,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log("error al obtener municipios"),console.log(t.t0),e.$swal("Error","Error al obtener municipios","error");case 16:case"end":return t.stop()}}),t,null,[[3,11]])})))()},obtenerLocalidades:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.municipiosData[1*e.clave_municipio-1],console.log(a),t.prev=2,e.$emit("show-error",!1),e.clearLocalidades(),t.next=7,Z(a.id);case 7:o=t.sent,console.log(o),e.localidadesHabilitado=!0,e.localidadesData=o,t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](2),console.log("error al obtener localidades"),console.log(t.t0),e.$swal("Error","Error al obtener localidades","error");case 18:case"end":return t.stop()}}),t,null,[[2,13]])})))()},clearLocalidades:function(){this.localidadesData=null,this.localidadesHabilitado=!1},postBeneficiarioCamino:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.payload),t.next=4,Pt(e.id_camino,e.payload);case 4:t.sent,e.closeModal(),e.$swal("EXITO","Beneficiario de obra guardado satisfactoriamente","success"),e.$emit("updateFrentes"),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.closeModal(),console.log("error: ",t.t0),e.$swal("ERROR","El camino ya tiene 8 localidades asignadas","error");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},created:function(){this.obtenerMunicipios(),console.log(this.camino)},computed:{MunicipioSeleccionado:function(){return this.municipiosData[1*this.clave_municipio-1]},ValidForm:function(){return this.clave_municipio},payload:function(){return{clave_camino:this.camino.clave_camino,estado:this.camino.clave_estado,municipio:this.MunicipioSeleccionado.id,localidad:null==this.clave_localidad?null:this.clave_localidad,region:this.region,ubicacion:this.ubicacion}}}},To=Eo,jo=Object(B["a"])(To,Mo,Io,!1,null,null,null),So=jo.exports,Ro=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table"},[t("tbody",[t("tr",[e._m(0),t("td",[e._v(e._s(e.metrics.total_localidades))])]),t("tr",[e._m(1),t("td",[e._v(e._s(e.metrics.poblacion_municipios))])]),t("tr",[e._m(2),t("td",[e._v(e._s(e.metrics.poblacion_localidades))])]),t("tr",[e._m(3),t("td",[e._v(e._s(e.metrics.poblacion_beneficiada))])])])])},Do=[function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Total de localidades:")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Población total de Municipios:")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Población total de Localidades:")])])},function(){var e=this,t=e._self._c;return t("td",[t("h5",[e._v("Población Beneficiada:")])])}],No={name:"AgregadoFrentes",props:{metrics:Object}},Bo=No,Lo=Object(B["a"])(Bo,Ro,Do,!1,null,null,null),Fo=Lo.exports,qo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"row col-md-9"},[t("div",{staticClass:"col-md-6"},[e._v("Tipo de Camino")]),t("div",{staticClass:"col-md-6"},[e._v(e._s(e.datosCamino.tipo_camino))])]),t("div",{staticClass:"row col-md-9"},[t("div",{staticClass:"col-md-6"},[e._v("Estado")]),t("div",{staticClass:"col-md-6"},[e._v(e._s(e.datosCamino.nombre_estado))])]),t("div",{staticClass:"row col-md-9"},[t("div",{staticClass:"col-md-6"},[e._v("Municipio")]),t("div",{staticClass:"col-md-6"},[e._v(e._s(e.datosCamino.nombre_mun))])]),t("div",{staticClass:"row col-md-9"},[t("div",{staticClass:"col-md-6"},[e._v("Localidades")]),t("div",{staticClass:"col-md-6"},[e._v(e._s(e.localidades))])])])},Uo=[],Go={name:"InfoCamino",props:{datosCamino:{type:Object,default:{tipo_camino:"",nombre_estado:"",nombre_mun:"",nombres_localidades:""}}},computed:{localidades:function(){return this.datosCamino.nombres_localidades?this.datosCamino.nombres_localidades.join(","):""}}},zo=Go,Vo=Object(B["a"])(zo,qo,Uo,!1,null,null,null),Ko=Vo.exports,Ho={components:{TablaFrentesCamino:Ao,ModalSCT:Be,FormAgregarBeneficiario:So,AgregadoFrentes:Fo,InfoCamino:Ko},name:"EditarCamino",data:function(){return{camino:{},showModal:!1,metrics:{},convenios:[],clave:this.$route.params.obraId}},methods:{goToPage:function(){this.$router.push("/editobra/"+this.clave)},GetCamino:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,M(e);case 2:o=a.sent,console.log("DETALLE CAMINO"),console.log(o),t.camino=o,t.GetConvenios(o.id),t.GetMetrics(o.id);case 8:case"end":return a.stop()}}),a)})))()},closeModal:function(){console.log("Close Modal EC"),this.showModal=!1},GetConvenios:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Ot(e);case 2:o=a.sent,t.convenios=o;case 4:case"end":return a.stop()}}),a)})))()},GetMetrics:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,$t(e);case 2:o=a.sent,t.metrics=o;case 4:case"end":return a.stop()}}),a)})))()}},created:function(){this.GetCamino(this.clave)}},Jo=Ho,Wo=Object(B["a"])(Jo,Co,xo,!1,null,null,null),Xo=Wo.exports,Yo=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticStyle:{height:"500px","overflow-y":"scroll"}},[t("ejs-grid",{ref:"grid",attrs:{dataSource:e.tablaResidentes,gridLines:"Both",allowPaging:!1,allowSorting:!0,pageSettings:e.tableConfig.pageSettings,allowTextWrap:!0}},[t("e-columns",e._l(e.tableConfig.columns,(function(e,a){return t("e-column",{key:a,attrs:{field:e.field,headerText:e.headerText}})})),1)],1)],1)])])])},Zo=[],Qo={components:{PlaceholderComponent:Jt},name:"TablaResidentes",data:function(){return{residentes:[],tableConfig:{columns:[{field:"nombre",headerText:"Nombre Completo"},{field:"centro_sict",headerText:"Centro SICT"},{field:"correo",headerText:"Correo"},{field:"no_ext",headerText:"No. Extensión"}],pageSettings:{pageCount:5,pageSize:20}}}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qt();case 3:e.residentes=t.sent,console.log(e.residentes),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},computed:{tablaResidentes:function(){var e=this.residentes.map((function(e){return{nombre:"".concat(e.a_paterno," ").concat(e.a_materno," ").concat(e.nombre),centro_sict:e.centro_sict,correo:e.correo,no_ext:e.no_extension}}));return e}}},ei=Qo,ti=Object(B["a"])(ei,Yo,Zo,!1,null,null,null),ai=(ti.exports,function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 small-bottom-buffer"},[t("p",[e._v("La búsqueda puede efectuarse ingresando datos generales o por medio de Clave única de la Obra.")]),t("ul",{staticClass:"nav nav-tabs small-top-buffer"},[t("li",{staticClass:"active",attrs:{id:"b1"}},[t("a",{attrs:{"data-toggle":"tab",href:"#tab-01"},on:{click:function(t){e.clearData(),e.isBuquedaPorIcveObra=!1}}},[e._v("Buscar por datos generales")])]),t("li",{attrs:{id:"b2"}},[t("a",{attrs:{"data-toggle":"tab",href:"#tab-02"},on:{click:function(t){e.clearData(),e.isBuquedaPorIcveObra=!0}}},[e._v("Buscar por Clave única de Obra")])])]),t("div",{staticClass:"tab-content col-md-12"},[t("div",{staticClass:"tab-pane active",attrs:{id:"tab-01"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8 form-group"},[t("label",{staticClass:"control-label"},[e._v("Nombre de la Obra o palabra(s) clave:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.obra.nombre_camino,expression:"obra.nombre_camino"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingresa nombre o palabra clave"},domProps:{value:e.obra.nombre_camino},on:{input:function(t){t.target.composing||e.$set(e.obra,"nombre_camino",t.target.value)}}})]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Estado:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.cve_agee,expression:"obra.cve_agee"}],staticClass:"form-control",class:{"form-control-error":e.$v.obra.cve_agee.$error},attrs:{id:"estado"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"cve_agee",t.target.multiple?a:a[0])},function(t){return e.changeEdo()}]}},[t("option",{attrs:{value:""}},[e._v("Selecciona un estado...")]),e._l(e.estadosData,(function(a,o){return t("option",{key:o,domProps:{value:a.cve_agee}},[e._v(" "+e._s(a.nom_agee)+" ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Municipio:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.icve_municipio,expression:"obra.icve_municipio"}],staticClass:"form-control",attrs:{id:"municipio"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"icve_municipio",t.target.multiple?a:a[0])},function(t){return e.changeMunicipio()}]}},[t("option",{attrs:{value:""}},[e._v("Selecciona un municipio...")]),e._l(e.municipiosData,(function(a,o){return t("option",{key:o,domProps:{value:a.cve_agem}},[e._v(" "+e._s(a.nom_agem)+" ")])}))],2)]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Localidad:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.localidades,expression:"obra.localidades"}],staticClass:"form-control",attrs:{id:"localidad"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"localidades",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona una localidad...")]),e._l(e.localidadesData,(function(a,o){return t("option",{key:o,domProps:{value:a.cve_loc}},[e._v(" "+e._s(a.nom_loc)+" ")])}))],2)]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Tipo de Obra:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.tipo_camino,expression:"obra.tipo_camino"}],staticClass:"form-control",attrs:{id:"tipoObra"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"tipo_camino",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",selected:"selected"}},[e._v("Selecciona un tipo de obra...")]),t("option",{attrs:{value:"C"}},[e._v("Cabecera")]),t("option",{attrs:{value:"A"}},[e._v("Agencia")]),t("option",{attrs:{value:"O"}},[e._v("Otro")])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Estrategia de Gobierno Federal:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.estrategia,expression:"estrategia"}],staticClass:"form-control",attrs:{id:"estrategia"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.estrategia=t.target.multiple?a:a[0]},e.getEstrategia]}},[t("option",{attrs:{value:"",selected:"selected"}},[e._v("Selecciona una estrategia...")]),t("option",{attrs:{value:"ciit"}},[e._v("CIIT")]),t("option",{attrs:{value:"tren_maya"}},[e._v("Tren Maya")]),t("option",{attrs:{value:"caminos_originales"}},[e._v("Caminos originales")])])]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Grado de Marginación:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.marginacion,expression:"obra.marginacion"}],staticClass:"form-control",attrs:{id:"grado"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"marginacion",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",selected:"selected"}},[e._v("Selecciona un grado de marginación...")]),t("option",{attrs:{value:"1"}},[e._v("Alto")]),t("option",{attrs:{value:"2"}},[e._v("Bajo")]),t("option",{attrs:{value:"3"}},[e._v("Medio")]),t("option",{attrs:{value:"4"}},[e._v("Muy alto")]),t("option",{attrs:{value:"5"}},[e._v("Muy bajoo")])])]),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Tipo de población indígena:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.obra.poblacion_indigena,expression:"obra.poblacion_indigena"}],staticClass:"form-control",attrs:{id:"tipoPoblacion"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.obra,"poblacion_indigena",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona un tipo de población...")]),t("option",{attrs:{value:"Municipio con presencia indígena"}},[e._v("Municipio con presencia indígena")]),t("option",{attrs:{value:"Municipio indígena"}},[e._v("Municipio indígena")]),t("option",{attrs:{value:"Municipio sin población indígena"}},[e._v("Municipio sin población indígena")]),t("option",{attrs:{value:"Municipio con población indígena dispersa"}},[e._v("Municipio con población indígena dispersa")])])])])]),t("div",{staticClass:"tab-pane",attrs:{id:"tab-02"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Clave única de la Obra:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.obra.clave,expression:"obra.clave"}],staticClass:"form-control",class:{"form-control-error":e.$v.obra.clave.$error},attrs:{type:"text",placeholder:"Ingresa Clave única de la Obra",id:"icveObra"},domProps:{value:e.obra.clave},on:{input:function(t){t.target.composing||e.$set(e.obra,"clave",t.target.value)}}}),t("div",{staticClass:"row col-md-10"},[e.$v.obra.clave.$error?t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")]):e._e()])])])])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 text-right"},[t("hr"),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.clearData}},[e._v("Cancelar")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"buscarObras"},on:{click:e.submit}},[t("span",{staticClass:"icon icon-search",staticStyle:{"margin-right":"8px"}}),e._v("Buscar")])])])])}),oi=[],ii=function(e,t){return""!==e},ri={name:"BusquedaCaminos",data:function(){return{breadcrumb:["Búsqueda de Obras"],estadosData:null,municipiosData:null,localidadesData:null,isBuquedaPorIcveObra:!1,estrategia:"",obra:{cve_agee:"",icve_municipio:"",localidades:"",tipo_camino:"",clave:"",marginacion:"",poblacion_indigena:"",nombre_camino:"",icveObra:null,ciit:!1,tren_maya:!1,caminos_originales:!1}}},validations:{obra:{cve_agee:{validateEdo:ii},clave:{required:T["required"]}}},methods:Object(n["a"])(Object(n["a"])({},Object(s["d"])(["setBreadcrumb"])),{},{submit:function(){if(!this.isBuquedaPorIcveObra)return this.$v.obra.cve_agee.$touch(),this.$v.obra.cve_agee.$invalid||this.$router.push({name:"Obras",params:{values:this.obra}}),void(this.submitStatus="Error");this.$v.obra.clave.$touch(),this.$v.obra.clave.$invalid||this.$router.push({name:"Obras",params:{values:this.obra}})},initData:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uc();case 2:a=t.sent,o=a.results,e.estadosData=o;case 5:case"end":return t.stop()}}),t)})))()},changeEdo:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.municipiosData=null,e.localidadesData=null,e.obra.municipio="",e.obra.localidades="",t.next=7,pc(e.obra.cve_agee);case 7:a=t.sent,o=a.results,e.municipiosData=o,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("error al obtener municipios"),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},changeMunicipio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.localidadesData=null,e.obra.localidades="",t.prev=2,t.next=5,vc(e.obra.cve_agee,e.obra.icve_municipio);case 5:a=t.sent,e.localidadesData=a,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log("error al obtener localidades"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},clearData:function(){this.$v.$reset(),this.obra.cve_agee="",this.obra.nombre_camino="",this.obra.cve_agee="",this.obra.icve_municipio="",this.obra.localidades="",this.obra.tipo_camino="",this.estrategia="",this.obra.marginacion="",this.obra.poblacion_indigena="",this.obra.clave="",this.municipiosData=null,this.localidadesData=null,this.initData()},getEstrategia:function(){this.obra.ciit=!1,this.obra.tren_maya=!1,this.obra.caminos_originales=!1,this.obra[this.estrategia]=!0}}),beforeMount:function(){this.setBreadcrumb(this.breadcrumb)},created:function(){this.initData()},computed:{}},ni=ri,si=Object(B["a"])(ni,ai,oi,!1,null,null,null),ci=si.exports,li=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("table",{staticClass:"table table-bordered text-center"},[e._m(0),t("tbody",[t("tr",[t("td",[e._v(e._s(e.anio))]),t("td",[e._v(e._s(e.ancho))]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:e.getUpTotalIPLBase,callback:function(t){e.getUpTotalIPLBase=t},expression:"getUpTotalIPLBase"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:e.getUpTotalIPL,callback:function(t){e.getUpTotalIPL=t},expression:"getUpTotalIPL"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:e.getVariacion,callback:function(t){e.getVariacion=t},expression:"getVariacion"}})],1)])])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-7"}),t("div",{staticClass:"col-md-4 col-md-offset-1"},[t("label",{staticClass:"control-label"},[e._v("Filtrar por concepto:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtro,expression:"filtro"}],staticClass:"form-control",attrs:{id:"sconceptos"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filtro=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"0"}},[e._v("VER TODOS")]),t("option",{attrs:{value:"1"}},[e._v("TERRACERÍAS")]),t("option",{attrs:{value:"2"}},[e._v("OBRAS DE DRENAJE Y ESTRUCTURAS")]),t("option",{attrs:{value:"3"}},[e._v("SUPERFICIE DE RODAMIENTO")]),t("option",{attrs:{value:"4"}},[e._v("SEÑALAMIENTO")]),t("option",{attrs:{value:"5"}},[e._v("PRECIOS EXTRAORDINARIOS")])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[e._m(1),t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active",attrs:{id:"tab-base"}},[t("PestaniaPresupuesto",{attrs:{filtroConceptos:e.getFilterValue,upTotalIPL:e.upTotalIPLBase,isPBase:!0,ancho:e.anchoCamino},on:{"update:upTotalIPL":function(t){e.upTotalIPLBase=t},"update:up-total-i-p-l":function(t){e.upTotalIPLBase=t}}})],1),t("div",{staticClass:"tab-pane",attrs:{id:"tab-real"}},[t("PestaniaPresupuesto",{key:"cancel"+e.conutCancel,ref:"presupuestoReal",attrs:{filtroConceptos:e.getFilterValue,upTotalIPL:e.upTotalIPL,editMode:e.editMode,isPBase:!1,ancho:e.anchoCamino},on:{"update:upTotalIPL":function(t){e.upTotalIPL=t},"update:up-total-i-p-l":function(t){e.upTotalIPL=t},"update:editMode":function(t){e.editMode=t},"update:edit-mode":function(t){e.editMode=t},cancel:e.cancel}})],1)])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 text-right"},[t("hr"),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancelar")]),t("button",{staticClass:"btn btn-primary",attrs:{disabled:e.readOnly,type:"button"},on:{click:e.save}},[e._v("Guardar cambios")])])]),t("ModalError",{ref:"modals",on:{cancel:e.cancel}})],1)},di=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("AÑO FISCAL DEL PRESUPUESTO BASE")]),t("th",[e._v("ANCHO DE CAMINO")]),t("th",[e._v("PRESUPUESTO BASE")]),t("th",[e._v("PRESUPUESTO REAL")]),t("th",[e._v("VARIACIÓN")])])])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"nav nav-tabs small-top-buffer"},[t("li",{staticClass:"active"},[t("a",{attrs:{"data-toggle":"tab",href:"#tab-base"}},[e._v("PRESUPUESTO BASE")])]),t("li",[t("a",{attrs:{"data-toggle":"tab",href:"#tab-real"}},[e._v("PRESUPUESTO REAL")])])])}],ui=a("b85c"),mi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"modal fade",attrs:{id:"save",tabindex:"-1",role:"dialog","aria-labelledby":"addConcept","aria-hidden":"true","data-keyboard":"false","data-backdrop":"static"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[e._m(0),t("div",{staticClass:"modal-body"},[t("p",[e._v("Se guardaron correctamente los datos del presupuesto")]),t("div",{staticClass:"text-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.reload}},[e._v("Cerrar ")])])])])])]),t("div",{staticClass:"modal fade",attrs:{refs:"modal-error",tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true",id:"Error"}},[t("div",{staticClass:"modal-dialog alert-danger"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-body"},[t("div",{staticClass:"col-md-12 text-center"},[e._m(1),t("p",[e._v(" "+e._s(e.msg_error))])]),e._m(2)])])])])])},pi=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Aviso del Sistema")])])},function(){var e=this,t=e._self._c;return t("p",[t("strong",[e._v("ERROR")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 text-center small-top-buffer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cerrar")])])])}],fi={name:"ModalError",data:function(){return{msg_error:""}},methods:{openmodal:function(e){this.msg_error=e,$("#Error").modal("show")},reload:function(){console.log("reload"),this.$emit("cancel"),this.$router.push({name:"AltaCaminoEdit",params:{tabConv:!0,obraId:this.$route.params.obraId}}).catch((function(){}))}}},vi=fi,bi=(a("909a"),Object(B["a"])(vi,mi,pi,!1,null,"8b45ce2c",null)),hi=bi.exports,gi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 no-padding"},[t("table",{staticClass:"table table-responsive table-bordered data"},[t("thead",[t("tr",[t("th",[e._v("CONCEPTOS Y PARTIDAS")]),e.isPBase?t("th",[e._v("CANTIDAD POR KILOMETRO")]):e._e(),e.isPBase?e._e():t("th",[e._v("CANTIDAD TOTAL")]),t("th",[e._v("UNIDAD DE MEDIDA")]),e.isPBase?t("th",[e._v("IMPORTE POR KILOMETRO")]):e._e(),t("th",[e._v("PRECIO UNITARIO")]),t("th",[e._v("IMPORTE TOTAL POR LONGITUD")]),t("th",[e._v("PORCENTAJE PONDERADO ")])])]),e.isVisible.find((function(e){return 1===e.id})).mostrar&&e.isLoaded?t("TablePresupuesto",{key:"terra"+e.getPresupuestoByID(1).update,attrs:{conceptos:e.getPresupuestoByID(1),childTotalPU:e.getPresupuestoByID(1).subtotalPU,childTotalITPL:e.getPresupuestoByID(1).subTotalIPL,totalIPL:e.getTotalIPL,totalPP:e.getPresupuestoByID(1).subTotalPP,subTotalIPK:e.getPresupuestoByID(1).subTotalIPK,isPBase:e.isPBase,readOnly:e.getReadOnly},on:{"update:childTotalPU":function(t){e.$set(e.getPresupuestoByID(1),"subtotalPU",t)},"update:child-total-p-u":function(t){e.$set(e.getPresupuestoByID(1),"subtotalPU",t)},"update:childTotalITPL":function(t){e.$set(e.getPresupuestoByID(1),"subTotalIPL",t)},"update:child-total-i-t-p-l":function(t){e.$set(e.getPresupuestoByID(1),"subTotalIPL",t)},"update:totalIPL":function(t){e.getTotalIPL=t},"update:total-i-p-l":function(t){e.getTotalIPL=t},"update:totalPP":function(t){e.$set(e.getPresupuestoByID(1),"subTotalPP",t)},"update:total-p-p":function(t){e.$set(e.getPresupuestoByID(1),"subTotalPP",t)},"update:subTotalIPK":function(t){e.$set(e.getPresupuestoByID(1),"subTotalIPK",t)},"update:sub-total-i-p-k":function(t){e.$set(e.getPresupuestoByID(1),"subTotalIPK",t)}}}):e._e(),e.isVisible.find((function(e){return 2===e.id})).mostrar&&e.isLoaded?t("TablePresupuesto",{key:"obras"+e.getPresupuestoByID(2).update,attrs:{conceptos:e.getPresupuestoByID(2),childTotalPU:e.getPresupuestoByID(2).subtotalPU,childTotalITPL:e.getPresupuestoByID(2).subTotalIPL,totalIPL:e.getTotalIPL,totalPP:e.getPresupuestoByID(2).subTotalPP,subTotalIPK:e.getPresupuestoByID(2).subTotalIPK,isPBase:e.isPBase,readOnly:e.getReadOnly},on:{"update:childTotalPU":function(t){e.$set(e.getPresupuestoByID(2),"subtotalPU",t)},"update:child-total-p-u":function(t){e.$set(e.getPresupuestoByID(2),"subtotalPU",t)},"update:childTotalITPL":function(t){e.$set(e.getPresupuestoByID(2),"subTotalIPL",t)},"update:child-total-i-t-p-l":function(t){e.$set(e.getPresupuestoByID(2),"subTotalIPL",t)},"update:totalIPL":function(t){e.getTotalIPL=t},"update:total-i-p-l":function(t){e.getTotalIPL=t},"update:totalPP":function(t){e.$set(e.getPresupuestoByID(2),"subTotalPP",t)},"update:total-p-p":function(t){e.$set(e.getPresupuestoByID(2),"subTotalPP",t)},"update:subTotalIPK":function(t){e.$set(e.getPresupuestoByID(2),"subTotalIPK",t)},"update:sub-total-i-p-k":function(t){e.$set(e.getPresupuestoByID(2),"subTotalIPK",t)}}}):e._e(),e.isVisible.find((function(e){return 3===e.id})).mostrar&&e.isLoaded?t("TablePresupuesto",{key:"superficie"+e.getPresupuestoByID(3).update,attrs:{conceptos:e.getPresupuestoByID(3),childTotalPU:e.getPresupuestoByID(3).subtotalPU,childTotalITPL:e.getPresupuestoByID(3).subTotalIPL,totalIPL:e.getTotalIPL,totalPP:e.getPresupuestoByID(3).subTotalPP,subTotalIPK:e.getPresupuestoByID(3).subTotalIPK,isPBase:e.isPBase,readOnly:e.getReadOnly},on:{"update:childTotalPU":function(t){e.$set(e.getPresupuestoByID(3),"subtotalPU",t)},"update:child-total-p-u":function(t){e.$set(e.getPresupuestoByID(3),"subtotalPU",t)},"update:childTotalITPL":function(t){e.$set(e.getPresupuestoByID(3),"subTotalIPL",t)},"update:child-total-i-t-p-l":function(t){e.$set(e.getPresupuestoByID(3),"subTotalIPL",t)},"update:totalIPL":function(t){e.getTotalIPL=t},"update:total-i-p-l":function(t){e.getTotalIPL=t},"update:totalPP":function(t){e.$set(e.getPresupuestoByID(3),"subTotalPP",t)},"update:total-p-p":function(t){e.$set(e.getPresupuestoByID(3),"subTotalPP",t)},"update:subTotalIPK":function(t){e.$set(e.getPresupuestoByID(3),"subTotalIPK",t)},"update:sub-total-i-p-k":function(t){e.$set(e.getPresupuestoByID(3),"subTotalIPK",t)}}}):e._e(),e.isVisible.find((function(e){return 4===e.id})).mostrar&&e.isLoaded?t("TablePresupuesto",{key:"senalamiento"+e.getPresupuestoByID(4).update,attrs:{conceptos:e.getPresupuestoByID(4),childTotalPU:e.getPresupuestoByID(4).subtotalPU,childTotalITPL:e.getPresupuestoByID(4).subTotalIPL,totalIPL:e.getTotalIPL,totalPP:e.getPresupuestoByID(4).subTotalPP,subTotalIPK:e.getPresupuestoByID(4).subTotalIPK,isPBase:e.isPBase,readOnly:e.getReadOnly},on:{"update:childTotalPU":function(t){e.$set(e.getPresupuestoByID(4),"subtotalPU",t)},"update:child-total-p-u":function(t){e.$set(e.getPresupuestoByID(4),"subtotalPU",t)},"update:childTotalITPL":function(t){e.$set(e.getPresupuestoByID(4),"subTotalIPL",t)},"update:child-total-i-t-p-l":function(t){e.$set(e.getPresupuestoByID(4),"subTotalIPL",t)},"update:totalIPL":function(t){e.getTotalIPL=t},"update:total-i-p-l":function(t){e.getTotalIPL=t},"update:totalPP":function(t){e.$set(e.getPresupuestoByID(4),"subTotalPP",t)},"update:total-p-p":function(t){e.$set(e.getPresupuestoByID(4),"subTotalPP",t)},"update:subTotalIPK":function(t){e.$set(e.getPresupuestoByID(4),"subTotalIPK",t)},"update:sub-total-i-p-k":function(t){e.$set(e.getPresupuestoByID(4),"subTotalIPK",t)}}}):e._e(),e.isVisible.find((function(e){return 5===e.id})).mostrar&&!e.isPBase?t("tbody",[t("tr",{staticClass:"concepto"},[t("td",{attrs:{colspan:"4"}},[e._v("PRECIOS EXTRAORDINARIOS")]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.getSubtotalIPExt,callback:function(t){e.getSubtotalIPExt=t},expression:"getSubtotalIPExt"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:3,currency:"%","read-only":e.vnumeric,"currency-symbol-position":"suffix"},model:{value:e.getSubtotalPPExt,callback:function(t){e.getSubtotalPPExt=t},expression:"getSubtotalPPExt"}})],1)]),e._l(e.extraordinarios,(function(a,o){return t("tr",{key:o},[t("td",[t("div",{staticClass:"row"},[e.isPuEditable()?t("div",{staticClass:"col-md-1"},[t("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:e.getReadOnly,type:"button"},on:{click:function(t){return e.deleteRow(o,a)}}},[t("span",{staticClass:"glyphicon glyphicon-remove"})])]):e._e(),t("div",{staticClass:"col-md-11"},[e._v(" "+e._s(a.concepto)+" ")])])]),t("td",[t("vue-numeric",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min_value:1},expression:"{required: true, min_value:1}"}],staticClass:"form-control",attrs:{name:"name"+o,precision:2,separator:",","read-only":e.getReadOnly},nativeOn:{keypress:function(t){return e.checa(o)}},model:{value:a.cantidad_total,callback:function(t){e.$set(a,"cantidad_total",t)},expression:"extraordinario.cantidad_total"}}),e.errors.has("name"+o)&&e.showError?t("p",{staticClass:"text-danger"},[e._v("La cantidad debe ser mayor a cero")]):e._e()],1),t("td",[t("select",{directives:[{name:"model",rawName:"v-model",value:a.unidad,expression:"extraordinario.unidad"}],attrs:{disabled:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"unidad",t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:"1"}},[e._v("HA")]),t("option",{attrs:{value:"2"}},[e._v("M3")]),t("option",{attrs:{value:"3"}},[e._v("ML")]),t("option",{attrs:{value:"4"}},[e._v("PZA")]),t("option",{attrs:{value:"5"}},[e._v("KG")])])]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:a.precio_unitario,callback:function(t){e.$set(a,"precio_unitario",t)},expression:"extraordinario.precio_unitario"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.colImporteTotalExt[o],callback:function(t){e.$set(e.colImporteTotalExt,o,t)},expression:"colImporteTotalExt[k]"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,currency:"%","read-only":e.vnumeric,"currency-symbol-position":"suffix"},model:{value:e.colPPExt[o],callback:function(t){e.$set(e.colPPExt,o,t)},expression:"colPPExt[k]"}})],1)])})),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("tr",[t("td",[t("button",{staticClass:"btn btn-danger btn-sm",attrs:{id:"btn-add-partida",type:"button",disabled:e.getReadOnly},on:{click:function(t){e.showModal=!0}}},[t("span",{staticClass:"glyphicon glyphicon-plus"}),e._v(" Agregar partida extraordinaria ")])]),t("td",[e._v(" ")]),t("td",[e._v(" ")]),t("td",[e._v(" ")]),t("td",[e._v(" ")]),t("td",[e._v(" ")])]):e._e()],2):e._e(),t("tfoot",[t("tr",[t("td",{attrs:{colspan:"3"}},[e._v("TOTAL")]),e.isPBase&&e.isLoaded?t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.getTotalIPK,callback:function(t){e.getTotalIPK=t},expression:"getTotalIPK"}})],1):e._e(),!e.isPBase&&e.isLoaded?t("td"):e._e(),e._e(),e.isPBase&&e.isLoaded?t("td"):e._e(),e.isLoaded?t("td",[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.getTotalIPL,expression:"getTotalIPL"}],attrs:{disabled:""},domProps:{value:e.getTotalIPL},on:{input:function(t){t.target.composing||(e.getTotalIPL=t.target.value)}}}),t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.totalIPL,callback:function(t){e.totalIPL=t},expression:"totalIPL"}})],1):e._e(),e.isLoaded?t("td",[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.getTotalPP,expression:"getTotalPP"}],attrs:{disabled:""},domProps:{value:e.getTotalPP},on:{input:function(t){t.target.composing||(e.getTotalPP=t.target.value)}}}),t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",",currency:"%","currency-symbol-position":"suffix","read-only":e.vnumeric},model:{value:e.totalPP,callback:function(t){e.totalPP=t},expression:"totalPP"}})],1):e._e()])])],1)]),t("modalExtraordinarios",{attrs:{showModal:e.showModal,loadedExtraordinarios:e.extraordinarios},on:{"update:showModal":function(t){e.showModal=t},"update:show-modal":function(t){e.showModal=t},addExtraordinario:e.addExtraordinario}})],1)},_i=[],Ci=(a("a434"),function(){var e=this,t=e._self._c;return t("tbody",[t("tr",{staticClass:"concepto"},[t("td",{attrs:{colspan:(e.isPBase,3)}},[e._v(e._s(e.nombreConcepto))]),e.isPBase?t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.iTotalPorLongitud1,callback:function(t){e.iTotalPorLongitud1=t},expression:"iTotalPorLongitud1"}})],1):e._e(),t("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.precioUnitarioTotal,expression:"precioUnitarioTotal"}],domProps:{value:e.precioUnitarioTotal},on:{input:function(t){t.target.composing||(e.precioUnitarioTotal=t.target.value)}}})]),e.isPBase?t("td"):e._e(),e.isPBase?e._e():t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.pu,callback:function(t){e.pu=t},expression:"pu"}})],1),t("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.iTotalPorLongitud,expression:"iTotalPorLongitud"}],domProps:{value:e.iTotalPorLongitud},on:{input:function(t){t.target.composing||(e.iTotalPorLongitud=t.target.value)}}})]),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.importePorLongitud,callback:function(t){e.importePorLongitud=t},expression:"importePorLongitud"}})],1),t("td",[t("vue-numeric",{staticClass:"form-control",attrs:{precision:3,currency:"%","currency-symbol-position":"suffix","read-only":e.vnumeric},model:{value:e.subTotalPorcentajePonderado,callback:function(t){e.subTotalPorcentajePonderado=t},expression:"subTotalPorcentajePonderado"}})],1)]),e._l(e.presupuesto,(function(a,o){return t("tr",{key:a.partida.id,class:a.partida.subconcepto?"subconcepto":""},[t("td",[e._v(e._s(a.partida.descripcion)+" ")]),t("td",[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.inportek,expression:"inportek"}],domProps:{value:e.inportek},on:{input:function(t){t.target.composing||(e.inportek=t.target.value)}}}),a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control cantidad-total",attrs:{precision:2,separator:",","read-only":!!e.isPBase||e.readOnly},nativeOn:{keypress:function(t){return e.checa(o)}},model:{value:a.cantidad,callback:function(t){e.$set(a,"cantidad",t)},expression:"partida.cantidad"}})],1),t("td",[e._v(e._s(a.partida.unidad_medida)+" ")]),e.isPBase?t("td",[a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",",min:.001,"read-only":e.vnumeric},model:{value:a.importe_kilometro,callback:function(t){e.$set(a,"importe_kilometro",t)},expression:"partida.importe_kilometro"}})],1):e._e(),t("td",[a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control precio-unitario",attrs:{precision:2,separator:",","read-only":e.isPuEditable},nativeOn:{keypress:function(t){return e.checa(o)}},model:{value:a.precio_unitario,callback:function(t){e.$set(a,"precio_unitario",t)},expression:"partida.precio_unitario"}})],1),t("td",[a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control",attrs:{precision:2,separator:",","read-only":e.vnumeric},model:{value:e.importeTotal[o],callback:function(t){e.$set(e.importeTotal,o,t)},expression:"importeTotal[myIndex]"}})],1),t("td",[a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control",attrs:{precision:3,currency:"%","read-only":e.vnumeric,"currency-symbol-position":"suffix"},model:{value:e.porcentajePonderado[o],callback:function(t){e.$set(e.porcentajePonderado,o,t)},expression:"porcentajePonderado[myIndex]"}})],1)])}))],2)}),xi=[];o["default"].use(Ut.a);var yi={name:"TablePresupuesto",props:{conceptos:{type:Object},myIndex:{default:0,type:Number},childTotalPU:{default:0,type:Number,required:!1},childTotalITPL:{default:0,type:Number,required:!1},totalIPL:{default:0,type:Number},totalPP:{default:0,type:Number},isPBase:{type:Boolean,required:!0},subTotalIPK:{default:0,type:Number,required:!1},readOnly:{type:Boolean,default:!1}},data:function(){return{pu:0,codigo:"",vnumeric:!0,revisar:.12,presupuesto:[],nombreConcepto:"",importePorLongitud:0,totalprecioUnitario:0,importeTotalPorKilimetro:0}},methods:Object(n["a"])(Object(n["a"])({formatNum:function(e){return(new Intl.NumberFormat).format(e)}},Object(s["d"])("presupuesto",["setPresupuesto"])),{},{checa:function(e){this.setPresupuesto({presupuesto:this.presupuesto,codigo:this.codigo})},validaCero:function(e){return""==e||isNaN(e)||0==e?.001:e}}),computed:{inportek:function(){var e=this;return this.presupuesto.map((function(t){t.cantidad=e.validaCero(t.cantidad),t.importe_kilometro=e.validaCero(t.importe_kilometro),t.precio_unitario=e.validaCero(t.precio_unitario)}))},precioUnitarioTotal:function(){var e=this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+Number(t.precio_unitario)}),0);return this.isPBase?this.$emit("update:upTotalIPLBase",e):this.$emit("update:childTotalPU",e),this.pu=e,e},iTotalPorLongitud:function(){var e=this,t=0;return t=this.isPBase?this.presupuesto.reduce((function(t,a){return a.subconcepto?t:(t||0)+Number(a.cantidad*e.$route.params.meta*a.precio_unitario)}),0):this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+Number(t.precio_unitario*t.cantidad)}),0),this.$emit("update:childTotalITPL",t),this.importePorLongitud=t,t},iTotalPorLongitud1:{get:function(){var e=0;return e=this.isPBase?this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+Number(t.importe_kilometro)}),0):this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+Number(t.precio_unitario*t.cantidad)}),0),this.$emit("update:subTotalIPK",e),e},set:function(){}},importeTotal:function(){var e=this;return this.isPBase?this.presupuesto.map((function(t){return t.cantidad*e.$route.params.meta*t.precio_unitario})):this.presupuesto.map((function(e){return e.cantidad*e.precio_unitario}))},porcentajePonderado:function(){var e=this;return this.presupuesto.map((function(t){return(t.cantidad*t.precio_unitario||0)/(e.totalIPL||1)*100}))},subTotalPorcentajePonderado:{get:function(){var e=this.porcentajePonderado.reduce((function(e,t){return(e||0)+(t||0)}));return this.$emit("update:totalPP",e),e},set:function(e){}},importeTotalKilometro:{get:function(){var e=this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+t}),0);return this.$emit("update:subTotalIPK",e),e},set:function(e){}},isPuEditable:function(){var e="NORMATIVO"==this.$store.getters["user/StateRol"];return!!this.readOnly||!(!this.isPBase&&e)}},created:function(){var e=this;this.presupuesto=this.conceptos.presupuestoStart,this.nombreConcepto=this.conceptos.name,this.codigo=this.conceptos.codigo,this.presupuesto.map((function(e){null==e.precio_unitario&&(e.precio_unitario="0.0",e.importe_total="",e.cantidad="")})),this.presupuesto=this.presupuesto.sort((function(e,t){return e.partida.id>t.partida.id?1:e.partida.id<t.partida.id?-1:0})),this.isPBase||this.presupuesto.map((function(t){e.setPresupuesto({presupuesto:e.presupuesto,codigo:e.codigo})}))}},wi=yi,Pi=Object(B["a"])(wi,Ci,xi,!1,null,"6335e7a3",null),Oi=Pi.exports,$i=function(){var e=this,t=e._self._c;return t("Modal",{attrs:{title:"Partidas Extraordinarias","modal-class":"modal1 ".concat(e.modal_xl),"wrapper-class":"modal-wrapper","enable-close":e.enableClose},on:{"before-open":e.beforeOpen},model:{value:e.isShowModal,callback:function(t){e.isShowModal=t},expression:"isShowModal"}},[t("div",{staticClass:"modal-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("grid",{attrs:{"auto-width":!0,width:e.width,cols:e.cols,rows:e.rows,search:!0,language:e.language,"class-names":e.className,pagination:e.pagination,height:"250px",fixedHeader:e.fixedHeader}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6 text-left"},[t("hr"),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.showAdminCatalogo}},[e._v("Administrar Catalogo")])]),t("div",{staticClass:"col-md-6 text-right"},[t("hr"),t("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.closeModal}},[e._v("Cerrar")])])])]),t("adminExtraordinarios",{ref:"modalAdmPartidas",on:{reloadGrid:e.populate}})],1)},Ai=[],Mi=a("69da"),Ii=a("11c3"),ki=function(){var e=this,t=e._self._c;return t("div",[t("Modal",{attrs:{title:"Administración catalogo Partidas Extraordinarias","modal-class":"modal2 ".concat(e.modal_xl),"wrapper-class":"modal-wrapper","enable-close":!1},on:{"before-open":e.beforeOpen,"before-close":e.beforeClose},model:{value:e.showAdminModalPartidas,callback:function(t){e.showAdminModalPartidas=t},expression:"showAdminModalPartidas"}},[t("div",[t("div",[t("div",{staticClass:"col-md-12"},[t("grid",{attrs:{"auto-width":!0,width:e.width,cols:e.cols,rows:e.rows,search:!0,language:e.language,"class-names":e.className,fixedHeader:"",pagination:e.pagination,height:"250px"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6 text-left"},[t("hr"),t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.openModalNewElement}},[e._v("Nueva Partida")])]),t("div",{staticClass:"col-md-6 text-right"},[t("hr"),t("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.closeModal}},[e._v("Cerrar")])])])])]),t("Modal",{attrs:{title:"Edición Partida","enable-close":!1},model:{value:e.showAdminModalEdit,callback:function(t){e.showAdminModalEdit=t},expression:"showAdminModalEdit"}},[t("form",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"concepto"}},[e._v("Concepto:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formEditPartida.descripcion,expression:"formEditPartida.descripcion"}],staticClass:"form-control text-justify",staticStyle:{"font-size":"12px"},attrs:{id:"concepto",rows:"6",maxlength:"500",placeholder:"Capturar el Concepto"},domProps:{value:e.formEditPartida.descripcion},on:{input:function(t){t.target.composing||e.$set(e.formEditPartida,"descripcion",t.target.value)}}}),e._v(" "),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.descripcion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"unidad"}},[e._v("Unidad:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formEditPartida.unidad_medida,expression:"formEditPartida.unidad_medida"}],staticClass:"form-control",attrs:{id:"unidad"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formEditPartida,"unidad_medida",t.target.multiple?a:a[0])}}},e._l(e.unidad_medida,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.codigo)+" ")])})),0),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.unidad_medida.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"precio"}},[e._v("Precio Unitario:")]),t("br"),t("vue-numeric",{attrs:{currency:"$",name:"precio",id:"unitario",precision:2,separator:",","currency-symbol-position":"preffix"},model:{value:e.formEditPartida.importe,callback:function(t){e.$set(e.formEditPartida,"importe",t)},expression:"formEditPartida.importe"}}),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.importe.minValue?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])],1),t("div",{staticClass:"row modal-footer"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-left"},[t("button",{staticClass:"btn btn-default active",attrs:{type:"button"},on:{click:function(t){e.showAdminModalEdit=!1}}},[e._v("Cancelar")])])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-primary active",attrs:{type:"button"},on:{click:e.saveEdit}},[e._v("Guardar")])])])])])]),t("Modal",{attrs:{title:"Creación Partida"},on:{"before-open":e.beforeOpenNew},model:{value:e.showAdminModalNew,callback:function(t){e.showAdminModalNew=t},expression:"showAdminModalNew"}},[t("form",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"concepto"}},[e._v("Concepto:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formNewPartida.descripcion,expression:"formNewPartida.descripcion"}],staticClass:"form-control text-justify",staticStyle:{"font-size":"12px"},attrs:{id:"concepto",rows:"6",maxlength:"500",placeholder:"Capturar el Concepto"},domProps:{value:e.formNewPartida.descripcion},on:{input:function(t){t.target.composing||e.$set(e.formNewPartida,"descripcion",t.target.value)}}}),e._v(" "),t("div",{staticClass:"row col-md-12"},[e.$v.formNewPartida.descripcion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"unidad"}},[e._v("Unidad:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formNewPartida.unidad_medida,expression:"formNewPartida.unidad_medida"}],staticClass:"form-control",attrs:{id:"unidad"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formNewPartida,"unidad_medida",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Seleccionar... ")]),e._l(e.unidad_medida,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.codigo)+" ")])}))],2),t("div",{staticClass:"row col-md-12"},[e.$v.formNewPartida.unidad_medida.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"precio"}},[e._v("Precio Unitario:")]),t("br"),t("vue-numeric",{attrs:{currency:"$",name:"precio",id:"unitario",precision:2,separator:",","currency-symbol-position":"preffix"},model:{value:e.formNewPartida.importe,callback:function(t){e.$set(e.formNewPartida,"importe",t)},expression:"formNewPartida.importe"}}),t("div",{staticClass:"row col-md-12"},[e.$v.formNewPartida.importe.minValue?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])],1),t("div",{staticClass:"row modal-footer"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-left"},[t("button",{staticClass:"btn btn-default active",attrs:{type:"button"},on:{click:function(t){e.showAdminModalNew=!1}}},[e._v("Cancelar")])])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-primary active",attrs:{type:"button"},on:{click:e.saveNew}},[e._v("Guardar")])])])])])])],1)},Ei=[];function Ti(e){return lc({url:"/convenio/conceptos/extraordinarios/insert",method:"post",data:e})}function ji(e){return lc({url:"/convenio/conceptos/extraordinarios/?convenio=".concat(e),method:"get"})}function Si(e){return lc({url:"/convenio/conceptos/extraordinarios/delete/".concat(e,"/"),method:"delete"})}function Ri(e){var t=e.id,a=e.cantidad;return lc({url:"/convenio/conceptos/extraordinarios/update/".concat(t,"/"),method:"put",data:{cantidad:a}})}function Di(e){return lc({url:"/partidas/libres",method:"get"})}function Ni(e){return lc({url:"/partidas/extraordinarias/list",method:"get"})}function Bi(){return lc({url:"/unidad/",method:"GET"})}function Li(){return lc({url:"/conceptos",method:"GET"})}function Fi(e){return lc({url:"/partidas/extraordinarias/".concat(e.id,"/"),method:"PUT",data:e})}function qi(e){return lc({url:"/partidas/extraordinarias/",method:"post",data:e})}function Ui(e){return lc({url:"/partidas/extraordinarias/".concat(e,"/"),method:"delete"})}o["default"].use(xe.a);var Gi={name:"adminExtraordinarios",components:{Modal:st["a"],Grid:Mi["a"]},data:function(){var e=this;return{loadedExtraordinarios:[],showAdminModalPartidas:!1,showAdminModalEdit:!1,showAdminModalNew:!1,dialogVisible:!1,unidad_medida:null,fixedHeader:!0,formNewPartida:{descripcion:"",unidad_medida:null,importe:0,cantidad:0},formEditPartida:{id:null,descripcion:"",cantidad:0,unidad_medida:null,importe:0},width:"95%",modal_lg:"modal-lg",modal_xl:"modal-xl",language:{search:{placeholder:"Buscar..."},pagination:{previous:"⬅️",next:"➡️",showing:"Mostrando de",results:function(){return"Resultados"},of:"de",to:"a"},loading:"Cargando...",noRecordsFound:"No hay Partidas Extraordinarias libres",error:"Ocurrio un error al obtener los datos"},pagination:{limit:5},cols:[{id:"id",name:"id",hidden:!0},{width:"290px",id:"descripcion",name:"Concepto"},{data:function(e){return e.unidad_medida["id"]},name:"id_unidad",hidden:!0},{width:"112px",data:function(e){return e.unidad_medida["codigo"]},name:"Unidad"},{width:"112px",id:"importe",name:"Precio Unitario",formatter:function(e,t){return"$".concat(Number(t.cells[4].data).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))}},{name:"Editar",formatter:function(t,a){return Object(Ii["c"])("button",{className:"btn btn-primary btn-sm glyphicon glyphicon-edit",onClick:function(){return e.editar(a)}},"")}},{name:"Eliminar",formatter:function(t,a){return Object(Ii["c"])("button",{className:"btn btn-primary btn-sm glyphicon glyphicon-remove-circle",onClick:function(){return e.confirmDelete(a)}},"")}}],rows:[],className:{td:"admin-td-class text-justify",table:""}}},validations:{formNewPartida:{descripcion:{required:T["required"]},unidad_medida:{required:T["required"]},importe:{required:T["required"],minValue:Object(T["minValue"])(.01)}},formEditPartida:{descripcion:{required:T["required"]},unidad_medida:{required:T["required"],minValue:Object(T["minValue"])(1)},importe:{required:T["required"],minValue:Object(T["minValue"])(.01)}}},methods:{showAdminCatalogo:function(e){this.loadedExtraordinarios=e,this.populate(),this.showAdminModalPartidas=!0},closeModal:function(){Ft.a.unfreeze(),this.showAdminModalPartidas=!1},beforeOpenNew:function(){this.formNewPartida.unidad_medida=""},populate:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a&&a.close(),a=y["Loading"].service({fullscreen:!0,lock:!0}),e.rows=null,o=[],e.loadedExtraordinarios.map((function(e){return o.push(e.id)})),t.next=7,Di().finally((function(){a.close()}));case 7:i=t.sent,i=i.filter((function(e){return!o.includes(e.id)})),e.rows=i;case 10:case"end":return t.stop()}}),t)})))()},beforeOpen:function(){Ft.a.freeze()},beforeClose:function(){Ft.a.unfreeze(),this.$emit("reloadGrid")},confirmDelete:function(e){var t=this;this.$confirm("Se eliminará la partida, ¿Está seguro?","",{confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",cancelButtonClass:"cancel-gob"}).then(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){var o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=3,Ui(e.cells[0].data).finally((function(e){o.close()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(e){t.showAdminModalPartidas=!1}))},openModalNewElement:function(){this.formNewPartida.descripcion="",this.formNewPartida.unidad_medida=null,this.formNewPartida.importe=0,this.formNewPartida.cantidad=0,this.showAdminModalNew=!0},editar:function(e){this.formEditPartida.id=e.cells[0].data,this.formEditPartida.descripcion=e.cells[1].data,this.formEditPartida.unidad_medida=e.cells[2].data,this.formEditPartida.importe=e.cells[4].data,this.showAdminModalEdit=!0},saveEdit:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.formEditPartida.$invalid){t.next=4;break}return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=4,Fi(e.formEditPartida).then(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.populate();case 2:e.showAdminModalEdit=!1;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.beforeOpen(),e.showAdminModalEdit=!1})).finally((function(){a.close()}));case 4:case"end":return t.stop()}}),t)})))()},loadUM:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Bi();case 2:e.unidad_medida=t.sent,e.formEditPartida.unidad_medida=0;case 4:case"end":return t.stop()}}),t)})))()},saveNew:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.formNewPartida.$invalid){t.next=4;break}return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=4,qi(e.formNewPartida).then(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showAdminModalNew=!1,t.next=3,e.populate();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showAdminModalNew=!1,console.log("error al crear partida")})).finally((function(e){a.close()}));case 4:case"end":return t.stop()}}),t)})))()}},filters:{upperCased:function(e){var t=[];return e.split(" ").forEach((function(e){t.push(e.toUpperCase())})),t.join(" ")}},watch:{"formEditPartida.descripcion":function(e){this.formEditPartida.descripcion=this.$options.filters.upperCased(e)},"formNewPartida.descripcion":function(e){this.formNewPartida.descripcion=this.$options.filters.upperCased(e)},deep:!0},beforeMount:function(){this.loadUM(),this.populate()}},zi=Gi,Vi=(a("835f"),Object(B["a"])(zi,ki,Ei,!1,null,null,null)),Ki=Vi.exports,Hi={name:"modalExtraordinarios",components:{Modal:st["a"],adminExtraordinarios:Ki,Grid:Mi["a"]},props:{showModal:{type:Boolean,default:!1},loadedExtraordinarios:{type:Array,default:[]}},data:function(){var e=this;return{width:"100%",enableClose:!1,modal_xl:"modal-xl",pagination:{limit:5},fixedHeader:!0,showSecondModal:!1,language:{search:{placeholder:"Buscar..."},pagination:{previous:"⬅️",next:"➡️",showing:"Mostrando de",results:function(){return"Resultados"},of:"de",to:"a"},loading:"Cargando...",noRecordsFound:"No hay conceptos para agregar",error:"Ocurrio un error al obtener los datos"},cols:[{id:"id",name:"ID",hidden:!0},{id:"descripcion",name:"Concepto"},{data:function(e){return e.unidad_medida.id},name:"id_unidad",hidden:!0},{data:function(e){return e.unidad_medida.codigo},name:"Unidad"},{id:"importe",name:"Precio Unitario",formatter:function(e,t){return"$".concat(Number(t.cells[4].data).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}},{name:"Acciones",formatter:function(t,a){return Object(Ii["c"])("button",{className:"btn btn-primary btn-sm",onClick:function(){return e.addExtraordinario(a)}},"Agregar")}}],rows:[],className:{td:"my-td-class",table:""}}},methods:{beforeOpen:function(){Ft.a.freeze(),this.populate()},beforeClose:function(){Ft.a.unfreeze()},closeModal:function(){Ft.a.unfreeze(),this.$emit("update:showModal",!1)},addExtraordinario:function(e){var t={id:e.cells[0].data,concepto:e.cells[1].data,unidad:e.cells[2].data,cantidad_total:1e-6,precio_unitario:e.cells[4].data,importe_total:1e-4,pp:0};this.beforeClose(),this.$emit("addExtraordinario",t),this.$emit("update:showModal",!1)},populate:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i,r;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),o=[],e.loadedExtraordinarios.map((function(e){return o.push(e.id)})),t.next=5,Ni().finally((function(e){a.close()}));case 5:i=t.sent,r=i.results,r=r.filter((function(e){return!o.includes(e.id)})),e.rows=r;case 9:case"end":return t.stop()}}),t)})))()},showAdminCatalogo:function(){this.$refs.modalAdmPartidas.showAdminCatalogo(this.loadedExtraordinarios)}},computed:{isShowModal:function(){return this.showModal}},mounted:function(){Ft.a.init()}},Ji=Hi,Wi=(a("4cb0"),Object(B["a"])(Ji,$i,Ai,!1,null,null,null)),Xi=Wi.exports;function Yi(e){return lc({url:"/presupuesto/real/",method:"post",data:{detalle:e}})}function Zi(e){return lc({url:"/presupuesto/base/",method:"get",params:{ancho_camino:e}})}function Qi(e){return lc({url:"/presupuesto/clonar",method:"post",data:e})}function er(e){return lc({url:"/presupuesto/multiple/",method:"post",data:{presupuestos:[e]}})}function tr(){return lc({url:"/ancho/camino",method:"get"})}function ar(e){return lc({url:"presupuesto/real/".concat(e,"/"),method:"get"})}function or(e,t){return lc({url:"/presupuesto/real/".concat(e,"/"),method:"put",data:{detalle:t}})}function ir(e,t){return lc({url:"/conceptos/base/".concat(e),method:"put",data:t})}function rr(e){var t=e.roadWidth,a=e.category,o=e.paymentConcept,i=e.year,r=e.metaAgreement;return lc({url:"/presupuesto/base/",method:"GET",params:{ancho_camino:t,categoria:a,partida:o,anio:i,longitud_convenio:r}})}var nr={name:"PestaniaPresupuesto",components:{TablePresupuesto:Oi,modalExtraordinarios:Xi},props:{filtroConceptos:{type:Number},isPBase:{type:Boolean,require:!0},upTotalIPL:{type:Number},ancho:{default:1},editMode:{type:Boolean}},data:function(){return{showError:!1,showModal:!1,vnumeric:!0,isLoad:!1,datos:null,presupuestoReal:null,presupuestoBase:null,fetch_presupuestoReal:null,totalPU:0,totalIPL:0,totalPP:0,TotalIPK:0,readOnly:!1,extraordinarios:[],presupuestos:[{id:1,codigo:"A",mostrar:!0,name:"TERRACERIAS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:2,codigo:"B",mostrar:!0,name:"OBRAS DE DRENAJE Y ESTRUCTURAS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:3,codigo:"C",mostrar:!0,name:"SUPERFICIE DE RODAMIENTO",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:4,codigo:"D",mostrar:!0,name:"SEÑALAMIENTO",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:5,codigo:"F",mostrar:!0,name:"PRECIOS EXTRAORDINARIOS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null}]}},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["c"])("presupuesto",["getPresupuestoByName"])),Object(s["d"])("presupuesto",["setPresupuesto","setPresupuestoExtraOrdinario"])),{},{loadData:function(){var e=this;this.datos.map((function(e){var t=sr.find((function(t){return e.partida.id==t.id}));t=JSON.parse(JSON.stringify(t)),e.partida.unidad_medida=t.unidad})),this.presupuestos.map((function(t,a){var o=e.datos.filter((function(e){return e.partida.concepto.codigo===t.codigo})).map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{precio_unitario:(e.importe||0)/(e.cantidad||1),importe_total:(e.importe||0)/(e.cantidad||1)*(e.cantidad||1)})}));t.presupuestoBack=o,t.presupuestoStart=o})),this.presupuestoReal=JSON.parse(JSON.stringify(this.presupuestos)),this.presupuestoBase=JSON.parse(JSON.stringify(this.presupuestos)),this.presupuestoReal.map((function(t){t.presupuestoStart.map((function(t){t.cantidad=t.cantidad*e.$route.params.meta}))})),this.fetch_presupuestoReal&&this.fetch_presupuestoReal.map((function(t){e.presupuestoReal.map((function(e){e.presupuestoStart.map((function(e){t.partida==e.partida.id&&(e.precio_unitario=t.precio_unitario,e.cantidad=t.cantidad)}))}))})),this.loadDataExt(),this.isLoad=!0},validations:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isPBase){t.next=2;break}return t.abrupt("return",e.$validator.validateAll().then((function(t){return e.showError=!0,t})));case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})))()},getPresupuestoByID:function(e){return this.isPBase?this.presupuestoBase.find((function(t){return t.id===e})):this.presupuestoReal.find((function(t){return t.id===e}))},addExtraordinario:function(e){this.showModal=!0,this.showError=!1,this.extraordinarios.push(e)},deleteRow:function(e,t){var a=this;return Object(u["a"])(Object(d["a"])().mark((function e(){var o,i,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=y["Loading"].service({fullscreen:!0,lock:!0}),i=a.extraordinarios.indexOf(t),!(i>-1)){e.next=10;break}if(!a.extraordinarios[i].convenioextraordinario){e.next=7;break}return r=Number(a.extraordinarios[i].convenioextraordinario),e.next=7,Si(r).catch((function(e){o.close()}));case 7:a.extraordinarios.splice(i,1),a.checa(),o.close();case 10:case"end":return e.stop()}}),e)})))()},checa:function(e){this.setPresupuestoExtraOrdinario({presupuesto:this.extraordinarios,codigo:"F"})},fetchPresupuestoBase:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zi(e.$route.params.anchoId);case 2:a=t.sent,e.datos=a,e.loadData();case 5:case"end":return t.stop()}}),t)})))()},fetchPresupuestoReal:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ar(e.$route.params.convenioId);case 2:a=t.sent,a.length>0&&e.$emit("update:editMode",!0),e.fetch_presupuestoReal=a;case 5:case"end":return t.stop()}}),t)})))()},loadDataExt:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ji(e.$route.params.convenioId);case 2:a=t.sent,a.count,o=a.results,i=o.map((function(e){return{id:e.partida.id,concepto:e.partida.descripcion,unidad:e.partida.unidad_medida.id,cantidad_total:e.cantidad,precio_unitario:e.partida.importe,importe_total:1e-4,pp:0,convenioextraordinario:e.id}})),e.extraordinarios=i,e.checa();case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("cancel")},isPuEditable:function(){var e="NORMATIVO"==this.$store.getters["user/StateRol"];return!(this.isPBase||!e)},setDataConvenio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt(e.$route.params.convenioId);case 2:a=t.sent,console.log("dataconvenio"),console.log(a),"A"==a.estatus?e.readOnly=!1:e.readOnly=!0,console.log("convenio"),console.log(a.estatus,e.readOnly);case 8:case"end":return t.stop()}}),t)})))()}}),computed:{isVisible:function(){var e=this;return this.presupuestos.map((function(t){return t.id==e.filtroConceptos||0==e.filtroConceptos?t.mostrar=!0:t.mostrar=!1,t.update++,t})),this.presupuestos},getTotalPU:function(){return this.totalPU=this.getPresupuestoByID(1).subtotalPU+this.getPresupuestoByID(2).subtotalPU+this.getPresupuestoByID(3).subtotalPU+this.getPresupuestoByID(4).subtotalPU+this.extraordinarios.reduce((function(e,t){return(e||0)+(t.precio_unitario||0)}),0),this.totalPU},getTotalIPL:function(){return this.totalIPL=this.getPresupuestoByID(1).subTotalIPL+this.getPresupuestoByID(2).subTotalIPL+this.getPresupuestoByID(3).subTotalIPL+this.getPresupuestoByID(4).subTotalIPL+this.getSubtotalIPExt,this.$emit("update:upTotalIPL",this.totalIPL),this.totalIPL},getTotalPP:function(){return this.totalPP=this.getPresupuestoByID(1).subTotalPP+this.getPresupuestoByID(2).subTotalPP+this.getPresupuestoByID(3).subTotalPP+this.getPresupuestoByID(4).subTotalPP+this.getSubtotalPPExt,this.totalPP},colImporteTotalExt:function(){var e=this.extraordinarios.map((function(e){return e.importe_total=e.cantidad_total*e.precio_unitario,e.cantidad_total*e.precio_unitario}));return e},colPPExt:function(){var e=this;return this.extraordinarios.map((function(t){return isNaN(t.importe_total/e.getTotalIPL*100)?0:t.importe_total/e.getTotalIPL*100}))},getSubtotalIPExt:{get:function(){return this.extraordinarios.reduce((function(e,t){return(e||0)+Number(t.importe_total)}),1e-6)},set:function(e){}},getSubtotalPPExt:{get:function(){return this.colPPExt.reduce((function(e,t){return e+t}),1e-4)},set:function(e){}},getTotalIPK:{get:function(){return this.totalPP=this.getPresupuestoByID(1).subTotalIPK+this.getPresupuestoByID(2).subTotalIPK+this.getPresupuestoByID(3).subTotalIPK+this.getPresupuestoByID(4).subTotalIPK},set:function(){}},isLoaded:function(){return this.isLoad},isShowModal:{get:function(){return this.showModal},set:function(e){this.showModal=e}},getReadOnly:function(){return console.log("getread"),console.log(this.readOnly),this.readOnly}},beforeMount:function(){this.fetchPresupuestoReal(),this.fetchPresupuestoBase()},created:function(){console.log("created"),this.isPBase||this.setDataConvenio()}},sr=[{id:1,unidad:"HA"},{id:2,unidad:"M3"},{id:3,unidad:"M3"},{id:4,unidad:"M3"},{id:6,unidad:"M3"},{id:8,unidad:"M3"},{id:9,unidad:"M3"},{id:10,unidad:"M3"},{id:11,unidad:"ML"},{id:13,unidad:"ML"},{id:14,unidad:"M3"},{id:15,unidad:"M3"},{id:16,unidad:"M3"},{id:17,unidad:"M3"},{id:18,unidad:"M3"},{id:19,unidad:"PZA"},{id:20,unidad:"PZA"},{id:21,unidad:"ML"}],cr=nr,lr=Object(B["a"])(cr,gi,_i,!1,null,"0677c588",null),dr=lr.exports;o["default"].use(Ut.a);var ur={name:"Presupuestos",components:{ModalError:hi,PestaniaPresupuesto:dr,VueNumeric:Ut.a},data:function(){return{readOnly:!1,filtro:"0",breadcrumb:["Presupuesto del Camino "+this.$route.params.obraId],terraceriasShow:!0,contador:0,upTotalIPL:0,editMode:!1,upTotalIPLBase:0,anchoCamino:null,anio:null,ancho:null,ancho1:[{id:1,ancho:"4.0"},{id:2,ancho:"4.5"},{id:3,ancho:"5.0"},{id:4,ancho:"5.5"},{id:5,ancho:"6.0"}]}},methods:Object(n["a"])(Object(n["a"])({},Object(s["d"])(["setBreadcrumb"])),{},{cancel:function(){this.filtro=0,this.contador++,window.scrollTo(0,0),this.$router.push({name:"AltaCaminoEdit",params:{tabConv:!0}}).catch((function(){}))},save:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i,r,n;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=3,e.$refs.presupuestoReal.validations();case 3:if(o=t.sent,o){t.next=8;break}return a.close(),e.$refs.modals.openmodal("La cantidad de las partidas extraordinarias no puden estar en cero"),t.abrupt("return");case 8:if(i=[],r=[],n=JSON.parse(JSON.stringify(e.$store.state.presupuesto.conceptos)),n.map((function(e){console.table(e)})),n.map((function(e){(e.presupuesto||"F"!=e.codigo)&&e.presupuesto.map((function(e){r.push(e)}))})),r.map((function(t){i.push({ancho_camino:t.ancho_camino.id,partida:t.partida.id,precio_unitario:t.precio_unitario,cantidad:t.cantidad.toString(),importe:t.importe,id_datoconvenio:e.$route.params.convenioId})})),"",!e.getEditMode){t.next=21;break}return t.next=18,or(e.$route.params.convenioId,i).catch((function(e){a.close()}));case 18:t.sent,t.next=24;break;case 21:return t.next=23,Yi(i).catch((function(e){a.close()}));case 23:t.sent;case 24:return t.next=26,e.seveExtraordinarios().catch((function(e){a.close()}));case 26:a.close(),$("#save").modal("show");case 28:case"end":return t.stop()}}),t)})))()},seveExtraordinarios:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i,r,n;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=JSON.parse(JSON.stringify(e.$store.state.presupuesto.conceptosExtraordinarios)),o=Object(ui["a"])(a.presupuesto),t.prev=2,o.s();case 4:if((i=o.n()).done){t.next=16;break}if(r=i.value,n={cantidad:r.cantidad_total,partida:r.id,convenio:e.$route.params.convenioId,id:r.convenioextraordinario},r.convenioextraordinario){t.next=12;break}return t.next=10,Ti(n).catch((function(e){loadingInstance.close()}));case 10:t.next=14;break;case 12:return t.next=14,Ri(n).catch((function(e){loadingInstance.close()}));case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),o.e(t.t0);case 21:return t.prev=21,o.f(),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))()},setDataConvenio:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt(e.$route.params.convenioId);case 2:a=t.sent,"A"==a.estatus?e.readOnly=!1:e.readOnly=!0;case 4:case"end":return t.stop()}}),t)})))()}}),beforeMount:function(){this.setBreadcrumb(this.breadcrumb)},computed:{getFilterValue:function(){return Number(this.filtro)},conutCancel:function(){return this.$store.state.presupuesto.conceptos.map((function(e){return e.presupuesto=null})),this.contador},getUpTotalIPL:{get:function(){return this.upTotalIPL},set:function(e){}},getUpTotalIPLBase:{get:function(){return this.upTotalIPLBase},set:function(e){}},getVariacion:{get:function(){return this.getUpTotalIPL-this.upTotalIPLBase},set:function(e){}},getEditMode:{get:function(){return this.editMode},set:function(e){}}},created:function(){var e=this;this.anchoCamino=this.$route.params.anchoId,this.ancho=this.ancho1.find((function(t){return e.anchoCamino==t.id})).ancho,this.anio=this.$route.params.anio,this.setDataConvenio()}},mr=ur,pr=(a("076b"),Object(B["a"])(mr,li,di,!1,null,null,null)),fr=pr.exports,vr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[t("li",{class:"tabDG"===e.getActiveTab?"active":"",attrs:{role:"presentation",id:"tabPersonal"}},[t("a",{attrs:{href:"#datosGeograficos","aria-controls":"profile",role:"tab","data-toggle":"tab",id:"input-1","aria-expanded":"true"}},[e._v(" Avance ponderado acumulado por alas en superficie de rodamiento ")])])]),t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane",class:"tabDG"===e.getActiveTab?"active":"",attrs:{role:"tabpanel",id:"datosGeograficos"}},[t("DatosGeograficos",{attrs:{isCanceled:e.isCanceled,camino_id:e.camino_id},on:{"set-icveEdo":e.setCEdo,"show-error":e.showError,"update:camino_id":function(t){e.camino_id=t}}})],1),t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"datosCamino"}},[t("DatosCamino",{attrs:{isCanceled:e.isCanceled,edo:e.cEstado},on:{"show-error":e.showError}})],1),t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"datosBeneficiario"}},[t("DatosBeneficiario",{attrs:{isCanceled:e.isCanceled}})],1),0!=e.getCaminoId?t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"asignarresidente"}},[t("AsignarResidente",{attrs:{isCanceled:e.isCanceled}})],1):e._e(),0!=e.getCaminoId?t("div",{staticClass:"tab-pane",class:"tabConv"===e.getActiveTab?"active":"",attrs:{role:"tabpanel",id:"convenio"}},[t("convenio",{attrs:{camino_id:e.getCaminoId,isObraCanceled:e.isCanceled,longitud_pavimentar:e.longitud_pavimentar},on:{"show-error":e.showError}})],1):e._e()]),t("div",[e.msgError?t("div",{staticClass:"alert alert-danger"},[e._v(e._s(e.msgError))]):e._e()])])])},br=[],hr=function(){var e=this,t=e._self._c;return t("div",[t("table",{ref:"datosPersonales",staticClass:"tableContenido",attrs:{id:"datosPersonales",width:"100%",border:"0"}},[t("tbody",[t("tr",[t("td",[t("div",{staticClass:"col-md-12",attrs:{id:"logotipoX"}},[t("center",[t("img",{attrs:{src:this.simg,id:"imgancho",alt:"Ancho de Camino"}})])],1)])]),e._m(0),t("tr",[t("div",{staticClass:"form-group"},[t("table",{staticClass:"table table-bordered text-center"},[e._m(1),t("tr",[t("td",[t("div",{staticClass:"form-group"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"roderaizq"}},[e._v("Rodera 1 (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.rodera1_izquierda,expression:"FrmRodamiento.rodera1_izquierda"}],staticClass:"form-control",attrs:{id:"roderaizq",placeholder:" ",type:"number",disabled:e.editmode},domProps:{value:e.FrmRodamiento.rodera1_izquierda},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"rodera1_izquierda",t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"empedradoizq"}},[e._v("Empedrado (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.empedrado_izquierda,expression:"FrmRodamiento.empedrado_izquierda"}],staticClass:"form-control",attrs:{id:"empedradoizq",placeholder:" ",type:"number"},domProps:{value:e.FrmRodamiento.empedrado_izquierda},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"empedrado_izquierda",t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"roderader"}},[e._v("Rodera 2 (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.rodera2_izquierda,expression:"FrmRodamiento.rodera2_izquierda"}],staticClass:"form-control",attrs:{id:"roderaeder",placeholder:" ",type:"number"},domProps:{value:e.FrmRodamiento.rodera2_izquierda},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"rodera2_izquierda",t.target.value)}}})])])])]),t("td",[t("div",{staticClass:"form-group"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("label",{staticClass:"control-label",attrs:{for:"Empedradocen"}},[e._v("Empedrado central")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.empedrado_central,expression:"FrmRodamiento.empedrado_central"}],staticClass:"form-control",attrs:{id:"Empedradocen",placeholder:" ",type:"number",disabled:e.editmodecen},domProps:{value:e.FrmRodamiento.empedrado_central},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"empedrado_central",t.target.value)}}})])])])]),t("td",[t("div",{staticClass:"form-group"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"rodera1der"}},[e._v("Rodera 1 (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.rodera1_derecha,expression:"FrmRodamiento.rodera1_derecha"}],staticClass:"form-control",attrs:{id:"rodera1der",placeholder:" ",type:"number"},domProps:{value:e.FrmRodamiento.rodera1_derecha},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"rodera1_derecha",t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"empedradoder"}},[e._v("Empedrado (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.empedrado_derecha,expression:"FrmRodamiento.empedrado_derecha"}],staticClass:"form-control",attrs:{id:"empedradoder",placeholder:" ",type:"number"},domProps:{value:e.FrmRodamiento.empedrado_derecha},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"empedrado_derecha",t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"rodera2der"}},[e._v("Rodera 2 (m)​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.FrmRodamiento.rodera2_derecha,expression:"FrmRodamiento.rodera2_derecha"}],staticClass:"form-control",attrs:{id:"rodera2der",placeholder:" ",type:"number",disabled:e.editmode},domProps:{value:e.FrmRodamiento.rodera2_derecha},on:{input:function(t){t.target.composing||e.$set(e.FrmRodamiento,"rodera2_derecha",t.target.value)}}})])])])])])])])]),e._m(2),t("tr",[t("div",{staticClass:"form-group"},[t("table",{staticClass:"table table-bordered text-center"},[e._m(3),t("tr",[t("td",{attrs:{align:"center"}},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"kmpsp"}},[e._v("Km​​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.kmpsp,expression:"kmpsp"}],staticClass:"form-control",attrs:{id:"kmpsp",placeholder:" ",type:"number",disabled:""},domProps:{value:e.kmpsp},on:{input:function(t){t.target.composing||(e.kmpsp=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"porcenpsp"}},[e._v("%")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.porcenpsp,expression:"porcenpsp"}],staticClass:"form-control",attrs:{id:"porcenpsp",placeholder:" ",type:"number",disabled:""},domProps:{value:e.porcenpsp},on:{input:function(t){t.target.composing||(e.porcenpsp=t.target.value)}}})])]),t("td",{attrs:{align:"center"}},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"kmps"}},[e._v("Km​​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.kmps,expression:"kmps"}],staticClass:"form-control",attrs:{id:"kmps",placeholder:" ",type:"number",disabled:""},domProps:{value:e.kmps},on:{input:function(t){t.target.composing||(e.kmps=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"porcenps"}},[e._v("%")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.porcenps,expression:"porcenps"}],staticClass:"form-control",attrs:{id:"porcenps",placeholder:" ",type:"number",disabled:""},domProps:{value:e.porcenps},on:{input:function(t){t.target.composing||(e.porcenps=t.target.value)}}})])]),t("td",{attrs:{align:"center"}},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"kmpa"}},[e._v("Km​​")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.kmpspa,expression:"kmpspa"}],staticClass:"form-control",attrs:{id:"kmps",placeholder:" ",type:"number",disabled:""},domProps:{value:e.kmpspa},on:{input:function(t){t.target.composing||(e.kmpspa=t.target.value)}}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"porcenpa"}},[e._v("%")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.porcenpa,expression:"porcenpa"}],staticClass:"form-control",attrs:{id:"porcenpa",placeholder:" ",type:"number",disabled:""},domProps:{value:e.porcenpa},on:{input:function(t){t.target.composing||(e.porcenpa=t.target.value)}}})])])])])])]),t("div",{staticClass:"col-md-12 text-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.guardaInfoRodamiento}},[e._v("Guardar ")]),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancelarRodamiento}},[e._v("Cancelar")])])])])])},gr=[function(){var e=this,t=e._self._c;return t("tr",[t("td",[t("h2",[e._v("Superficie de rodamiento​​")]),t("hr",{staticClass:"red"})])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Izquierda")]),t("th",[e._v("Empedrado Central​")]),t("th",[e._v("Derecha")])])])},function(){var e=this,t=e._self._c;return t("tr",[t("td",[t("h2",[e._v("Avance Físico​​")]),t("hr",{staticClass:"red"})])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Avance ponderado​ semana pasada​")]),t("th",[e._v("Avance ponderado de la semana​")]),t("th",[e._v("Avance ponderado acumulado​")])])])}];o["default"].use(C["a"]),o["default"].use(J["a"]),o["default"].use(W["a"]);Object({VUE_APP_BASE_URL:"https://web-production-cbe8.up.railway.app/api/v1",VUE_APP_PREFIX_DOMAIN_URL:"/sispacam-front/",NODE_ENV:"production",BASE_URL:"/sispacam-front/"}).VUE_APP_SCT_SVC_BACK_BASE_URL;var _r={name:"DatosGeograficos",props:{camino_id:{type:Number},isCanceled:{required:!0,default:!1}},data:function(){return{simg:"",valueEstado:0,ip_poblacion_total_localidades:0,ipoblacion_municipio:0,ilocalidades_municipio:0,ubicacion:"",region:"",icve_estado_inegi:null,estadosHabilitado:!1,estadosData:[],estadosFields:{text:"nom_agee",value:"cve_agee"},icve_municipio:null,municipiosHabilitado:!1,municipiosData:[],municipiosFields:{text:"nom_agem",value:"cve_agem",custom:"cve_agee"},localidades:[],localidadesHabilitado:!1,localidadesData:[],localidadesFields:{text:"nom_loc",value:"cve_loc"},localidadesTabla:[],iTotalPoblacionIndigena:null,poblacion:0,marginacion:null,poblacion_indigena:null,isoEdo:"",editmode:!1,editmodecen:!1,editimg:!1,cons:!1,clave:"",kmps:null,porcenps:null,kmpspa:null,porcenpa:null,FrmRodamiento:{clave:null,rodera1_izquierda:null,empedrado_izquierda:null,rodera2_izquierda:null,empedrado_central:null,rodera1_derecha:null,empedrado_derecha:null,rodera2_derecha:null}}},validations:{icve_estado_inegi:{required:T["required"]},icve_municipio:{required:T["required"]}},methods:{enviardatos_r:function(){this.$emit("set-icveEdo",{datos:this.DatosGeograficos})},cancelarRodamiento:function(){top.location="/avancefinanciero"},guardaInfoRodamiento:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this.FrmRodamiento"),console.log(e.FrmRodamiento),console.log(e.idcamino),e.FrmRodamiento.clave=e.idcamino,t.prev=4,console.log("antes de peticion"),t.next=8,dc(e.FrmRodamiento);case 8:a=t.sent,console.log("rs"),console.log(a),Object(y["Message"])({message:"Se guardo correctamente la información",type:"success",duration:3e3}),e.kmps=a.data.avance_semanal_kilometro,e.porcenps=a.data.avance_semanal_porcentaje,e.kmpspa=a.data.avance_acumulado_kilometro,e.porcenpa=a.data.avance_acumulado_porcentaje,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](4),Object(y["Message"])({message:rs.Message,type:"error",duration:3e3});case 21:case"end":return t.stop()}}),t,null,[[4,18]])})))()},CargaDatos:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,mc(e);case 2:o=a.sent,t.ciit=o.ciit,t.tren_maya=o.tren_maya,t.caminosOriginales=o.caminos_originales,t.tipo_camino=o.tipo_camino,t.idcamino=o.clave,t.nombre_camino=o.nombre_camino,t.fLongitdTotal=o.longitud,t.fLongitdTotalAPavimentar=o.longitud_pavimentar,t.anchoCaminoFields=o.ancho_camino,t.ubicacionCamino=o.ubicacion,t.caracteristicasCamino=o.caracteristicas,t.beneficiosCamino=o.beneficios,t.pini=o.pini,t.pfin=o.pfin,t.lat=o.lat,t.latf=o.latf,t.long=o.long,t.longf=o.longf,t.ancho_camino=o.ancho_camino.id,t.$store.commit("setAnchoCamino",t.ancho_camino),1==o.ancho_camino&&(t.ancho_camino=1),2==o.ancho_camino&&(t.ancho_camino=2),3==o.ancho_camino&&(t.ancho_camino=3),4==o.ancho_camino&&(t.ancho_camino=4),5==o.ancho_camino&&(t.ancho_camino=5),1==t.ancho_camino&&(t.Presup="$ 2,700,104.59"),2==t.ancho_camino&&(t.Presup="$ 3,100,198.29"),3==t.ancho_camino&&(t.Presup="$ 3,507,565.95"),4==t.ancho_camino&&(t.Presup="$ 3,929,902.41"),5==t.ancho_camino&&(t.Presup="$ 4,300,019.57"),1==t.ancho_camino&&(t.editmode=!0),2==t.ancho_camino&&(t.editmode=!0),3==t.ancho_camino&&(t.editmodecen=!0),1==t.ancho_camino&&(t.simg="/img/ancho4.jpg"),2==t.ancho_camino&&(t.simg="/img/ancho4-5.jpg"),3==t.ancho_camino&&(t.simg="/img/ancho5.jpg"),4==t.ancho_camino&&(t.simg="/img/ancho5-5.jpg"),5==t.ancho_camino&&(t.simg="/img/ancho6.jpg"),document.getElementById("imgancho").src=t.simg,console.log("this.ancho_camino"),console.log(t.ancho_camino),console.log("-------"),console.log(t.simg);case 46:case"end":return a.stop()}}),a)})))()},enviardatos_u:function(){this.$emit("set-icveEdo",{datos:this.DatosGeograficos})},fregion:function(){this.DatosGeograficos.region=this.region,this.enviardatos_r()},fubicacion:function(){this.DatosGeograficos.ubicacion=this.ubicacion,this.enviardatos_u()},siguiente:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("show-error",!1),e.$v.$touch(),e.$v.$invalid&&(e.submitStatus="Error");case 3:case"end":return t.stop()}}),t)})))()},initData:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uc();case 3:a=t.sent,a.results,e.estadosData=a.results,e.estadosHabilitado=!0,e.icve_estado_inegi=null,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("error al obtener estados"),console.log(t.t0),e.$emit("show-error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},obtenerMunicipios:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("show-error",!1),e.icve_municipio=null,e.municipiosHabilitado=!0,e.clearLocalidades(),t.prev=4,t.next=7,pc(e.icve_estado_inegi);case 7:a=t.sent,o=a.results,e.municipiosData=o,e.municipiosHabilitado=!0,t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](4),console.log("error al obtener municipios"),console.log(t.t0),e.$emit("show-error",t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,13]])})))()},obtenerLocalidades:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$emit("show-error",!1),e.clearLocalidades(),t.next=5,vc(e.icve_estado_inegi,e.icve_municipio);case 5:a=t.sent,e.ilocalidades_municipio=a.length,e.ip_poblacion_total_localidades=a.reduce((function(e,t){return e+t.pob}),0),e.localidadesHabilitado=!0,e.localidadesData=a,e.setEdoIso(),e.DatosGeograficos.localidades=e.localidades,e.DatosGeograficos.icveestados=e.icveestados,e.DatosGeograficos.region=e.region,e.DatosGeograficos.ubicacion=e.ubicacion,e.DatosGeograficos.poblacion_indigena=e.poblacion_indigena,e.DatosGeograficos.totpoblacion=e.ipoblacion_municipio,e.DatosGeograficos.icve_estado_inegi=e.icve_estado_inegi,e.DatosGeograficos.icve_municipio=e.icve_municipio,e.DatosGeograficos.ip_poblacion_total_localidades=e.ip_poblacion_total_localidades,e.DatosGeograficos.ipoblacion_municipio=e.ipoblacion_municipio,e.DatosGeograficos.ilocalidades_municipio=e.ilocalidades_municipio,e.DatosGeograficos.marginacion=e.marginacion,e.$emit("set-icveEdo",{datos:e.DatosGeograficos}),t.next=31;break;case 26:t.prev=26,t.t0=t["catch"](0),console.log("error al obtener localidades"),console.log(t.t0),e.$emit("show-error",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,26]])})))()},recalcularPoblacionTotal:function(){var e=this;if(this.localidades.length>0){var t=this.localidadesData;this.localidadesTabla=t.filter((function(t){return e.localidades.includes(t.cve_loc)})),this.ipoblacion_municipio=t.filter((function(t){return e.localidades.includes(t.cve_loc)})).map((function(e){return e.pob})).reduce((function(e,t){return e+t}),0),isNaN(this.localidades)||Array.prototype.isPrototypeOf(this.localidades)||(this.localidades=[this.localidades]),this.DatosGeograficos.localidades=this.localidades,this.DatosGeograficos.icveestados=this.icveestados,this.DatosGeograficos.region=this.region,this.DatosGeograficos.ubicacion=this.ubicacion,this.DatosGeograficos.poblacion_indigena=this.poblacion_indigena,this.DatosGeograficos.totpoblacion=this.ipoblacion_municipio,this.DatosGeograficos.icve_estado_inegi=this.icve_estado_inegi,this.DatosGeograficos.icve_municipio=this.icve_municipio,this.DatosGeograficos.ip_poblacion_total_localidades=this.ip_poblacion_total_localidades,this.DatosGeograficos.ipoblacion_municipio=this.ipoblacion_municipio,this.DatosGeograficos.ilocalidades_municipio=this.ilocalidades_municipio,this.DatosGeograficos.marginacion=this.marginacion,this.$emit("set-icveEdo",{datos:this.DatosGeograficos})}else this.localidadesTabla=[],this.ipoblacion_municipio=0},updateLocalidades:function(e){this.localidades=this.$refs.localidades.ej2Instances.value,this.recalcularPoblacionTotal()},clearLocalidades:function(){this.localidadesData=null,this.localidadesHabilitado=!1,this.localidades=[],this.localidadesTabla=[]},formatNum:function(e){return(new Intl.NumberFormat).format(e)},setEdoIso:function(){var e=this,t=this.estadosData.filter((function(t){return t.cve_agee==e.icve_estado_inegi}));this.DatosGeograficos.iso=t[0].iso,this.DatosGeograficos.cve_agee=this.icve_estado_inegi;var a=this.municipiosData.filter((function(t){return t.cve_agem==e.icve_municipio}));this.marginacion=a[0].grado_marginacion.descripcion,this.poblacion_indigena=a[0].poblacion_indigena.descripcion,this.iTotalPoblacionIndigena=a[0].total_poblacion_indigena,this.iTotalPoblacionIndigena=this.formatNum(this.iTotalPoblacionIndigena);JSON.stringify(a,null,2)},actualizadatos:function(){this.DatosGeograficos.localidades=this.localidades,this.DatosGeograficos.icveestados=this.icveestados,this.DatosGeograficos.region=this.region,this.DatosGeograficos.ubicacion=this.ubicacion,this.DatosGeograficos.poblacion_indigena=this.poblacion_indigena,this.DatosGeograficos.totpoblacion=this.ipoblacion_municipio,this.DatosGeograficos.icve_estado_inegi=this.icve_estado_inegi,this.DatosGeograficos.icve_municipio=this.icve_municipio,this.DatosGeograficos.ip_poblacion_total_localidades=this.ip_poblacion_total_localidades,this.DatosGeograficos.ipoblacion_municipio=this.ipoblacion_municipio,this.DatosGeograficos.ilocalidades_municipio=this.ilocalidades_municipio,this.DatosGeograficos.marginacion=this.marginacion,this.$emit("set-icveEdo",{datos:this.DatosGeograficos})}},mounted:function(){this.$nextTick((function(){}))},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initData();case 2:e.$route.params.obraId&&(e.estadosHabilitado=!1,e.CargaDatos(e.$route.params.obraId));case 3:case"end":return t.stop()}}),t)})))()},beforeMount:function(){this.cons=this.isCanceled},computed:{getEditmode:function(){return this.estadosHabilitado}}},Cr=_r,xr=(a("1428"),Object(B["a"])(Cr,hr,gr,!1,null,null,null)),yr=xr.exports,wr={name:"AltaCamino",components:{DatosGeograficos:yr,DatosCamino:z,DatosBeneficiario:ao,AsignarResidente:ja,convenio:$a,DatosFinancieros:Ga},props:{tabDG:{type:Boolean,default:!1},tabConv:{type:Boolean,default:!1}},data:function(){return{isCanceled:!1,camino_id:0,cEstado:"",msgError:null,breadcrumb:["Camino "+this.$route.params.obraId],longitud_pavimentar:""}},methods:Object(n["a"])(Object(n["a"])({setCEdo:function(e){var t=JSON.parse(JSON.stringify(e));this.cEstado=t.datos},showError:function(e){console.log("show-error"),this.msgError=e}},Object(s["d"])(["setBreadcrumb"])),{},{getStatus:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,mc(e);case 2:o=a.sent,t.isCanceled="C"==o.estatus,t.longitud_pavimentar=o.longitud_pavimentar;case 5:case"end":return a.stop()}}),a)})))()}}),computed:{getCaminoId:function(){return this.camino_id},getActiveTab:function(){return console.log("this.tabConv"),console.log(this.tabConv),console.log(this.$route.params),this.$route.params.tabConv?"tabConv":"tabDG"}},beforeMount:function(){this.$route.params.obraId&&(this.setBreadcrumb(this.breadcrumb),this.getStatus(this.$route.params.obraId))}},Pr=wr,Or=Object(B["a"])(Pr,vr,br,!1,null,null,null),$r=Or.exports,Ar=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12 mx-auto"},[t("div",{staticClass:"row"},[t("h3",[e._v("Análisis de Obra")]),t("hr",{staticClass:"red"}),t("form",{attrs:{role:"form"}},[t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"estado"}},[e._v("Estado")]),t("ejs-combobox",{attrs:{dataSource:e.estadosData,fields:e.estadosFields,placeholder:"Selecciona un estado",change:e.obtenerMunicipios,enabled:e.estadosHabilitado},model:{value:e.icveEstadoInegi,callback:function(t){e.icveEstadoInegi=t},expression:"icveEstadoInegi"}})],1),t("div",{staticClass:"col-md-6"},[t("label",{staticClass:"control-label",attrs:{for:"municipio"}},[e._v("Municipio")]),t("ejs-combobox",{attrs:{dataSource:e.municipiosData,fields:e.municipiosFields,placeholder:"Selecciona un municipio",change:e.obtenerLocalidades,enabled:e.municipiosHabilitado},model:{value:e.icveMunicipio,callback:function(t){e.icveMunicipio=t},expression:"icveMunicipio"}})],1),e._m(0)]),t("h4",[e._v("2020")]),t("hr",{staticClass:"red"}),e._m(1),e._m(2),e._m(3),t("hr",{staticClass:"red"}),t("h4",[e._v("Conceptos")]),e._m(4),e._m(5),t("h4",[e._v("Conceptos Extraordinarios")]),e._m(6),e._m(7)])]),e._m(8),e._m(9)])},Mr=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-sm-6"},[t("label",{staticClass:"control-label",attrs:{for:"Obra"}},[e._v("Obra")]),t("select",{staticClass:"form-control",attrs:{id:"Obra"}},[t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Monto")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"Obra"}},[e._v("Meta")]),t("select",{staticClass:"form-control",attrs:{id:"Obra"}},[t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")]),t("option",[e._v("xxxxxxxxx")])])]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Ancho")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Del KM")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Al KM")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Número de empleos")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"number"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Fecha inicio")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})]),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"control-label",attrs:{for:"region"}},[e._v("Fecha Fin")]),t("input",{staticClass:"form-control",attrs:{id:"region",placeholder:"$",type:"text"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",[e._v("First")]),t("th",[e._v("Last")]),t("th",[e._v("Handle")]),t("th",[e._v("Handle")]),t("th",[e._v("Cant. Total")]),t("th",[e._v("P. Unitario")]),t("th",[e._v("Importe Total")]),t("th",[e._v("Importe Total")]),t("th",[e._v("Ponderados")])])]),t("tbody",[t("tr",[t("td",[e._v("Mark")]),t("td",[e._v("Otto")]),t("td",[e._v("@mdo")]),t("td",[e._v("@mdo")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])]),t("tr",[t("td",[e._v("Jacob")]),t("td",[e._v("Thornton")]),t("td",[e._v("@fat")]),t("td",[e._v("@fat")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])]),t("tr",[t("td",[e._v("Larry")]),t("td",[e._v("the Bird")]),t("td",[e._v("@twitter")]),t("td",[e._v("@twitter")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("button",{staticClass:"btn btn-default pull-right vertical-buffer",attrs:{type:"button","data-toggle":"modal","data-target":"#addConcept"}},[e._v(" Agregar Concepto ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",[e._v("First")]),t("th",[e._v("Last")]),t("th",[e._v("Handle")]),t("th",[e._v("Handle")]),t("th",[e._v("Cant. Total")]),t("th",[e._v("P. Unitario")]),t("th",[e._v("Importe Total")]),t("th",[e._v("Importe Total")]),t("th",[e._v("Ponderados")])])]),t("tbody",[t("tr",[t("td",[e._v("Mark")]),t("td",[e._v("Otto")]),t("td",[e._v("@mdo")]),t("td",[e._v("@mdo")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])]),t("tr",[t("td",[e._v("Jacob")]),t("td",[e._v("Thornton")]),t("td",[e._v("@fat")]),t("td",[e._v("@fat")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])]),t("tr",[t("td",[e._v("Larry")]),t("td",[e._v("the Bird")]),t("td",[e._v("@twitter")]),t("td",[e._v("@twitter")]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})]),t("td",[t("input",{attrs:{type:"text"}})])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row vertical-buffer"},[t("button",{staticClass:"btn btn-default pull-right",attrs:{type:"button","data-toggle":"modal","data-target":"#error"}},[e._v(" Agregar Concepto ")]),t("button",{staticClass:"btn btn-danger pull-right",attrs:{type:"button"}},[e._v("Cancelar")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"addConcept",tabindex:"-1",role:"dialog","aria-labelledby":"addConcept","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Ejemplo de ventana modal")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("Ejemplo de texto interno.")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cerrar")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v("Guardar")])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"error",tabindex:"-1",role:"dialog","aria-labelledby":"error","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Alerta")])]),t("div",{staticClass:"modal-body"},[t("p",[e._v("Las cantidades no coinciden.")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cerrar")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v("Guardar")])])])])])}],Ir=a("4f3e"),kr=a("2d85");o["default"].use(J["a"]),o["default"].use(W["a"]);var Er={name:"AnalysisWork",data:function(){return{isTableData:!1,iPoblacionTotalLocalidades:0,iPoblacionMunicipio:0,iLocalidadesMunicipio:0,ubicacion:"",region:"",icveEstadoInegi:null,estadosHabilitado:!1,estadosData:new Ir["a"]([]),estadosFields:{text:"nom_agee",value:"cve_agee"},icveMunicipio:null,municipiosHabilitado:!1,municipiosData:new Ir["a"]([]),municipiosFields:{text:"nom_agem",value:"cve_agem",custom:"pob"},localidades:[],localidadesHabilitado:!1,localidadesData:new Ir["a"]([]),localidadesFields:{text:"nom_loc",value:"cve_loc"},localidadesTabla:[],poblacion:0,marginacion:null,marginacionData:new Ir["a"]([{id:"1",name:"MUY ALTO"},{id:"2",name:"ALTO"},{id:"3",name:"MEDIO"},{id:"4",name:"BAJO"}]),marginacionFields:{text:"name",value:"id"},poblacionIndigena:null,poblacionIndigenaData:new Ir["a"]([{id:"1",name:"Municipio con población indígena dispersa"},{id:"2",name:"Municipio indígena"},{id:"3",name:"Municipio sin población indígena"},{id:"4",name:"Población con presencia indígena"},{id:"5",name:"Población indígena"},{id:"6",name:"Población indígena dispersa"}]),poblacionIndigenaFields:{text:"name",value:"id"}}},methods:{initData:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uc();case 3:a=t.sent,o=a.results,e.estadosData=new Ir["a"](o),e.estadosHabilitado=!0,e.icveEstadoInegi=null,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("error al obtener estados"),console.log(t.t0),e.$emit("show-error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},obtenerMunicipios:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("set-icveEdo",e.icveEstadoInegi),e.$emit("show-error",!1),e.icveMunicipio=null,e.municipiosData=new Ir["a"]([]),e.municipiosHabilitado=!0,e.clearLocalidades(),t.prev=6,t.next=9,pc(e.icveEstadoInegi);case 9:a=t.sent,e.municipiosData=new Ir["a"](a),e.municipiosHabilitado=!0,t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](6),console.log("error al obtener municipios"),console.log(t.t0),e.$emit("show-error",t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,14]])})))()},obtenerLocalidades:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$emit("show-error",!1),e.clearLocalidades(),t.next=5,vc(e.icveEstadoInegi,e.icveMunicipio);case 5:a=t.sent,e.iLocalidadesMunicipio=a.length,e.iPoblacionTotalLocalidades=a.reduce((function(e,t){return e+t.pob}),0),e.localidadesHabilitado=!0,e.localidadesData=new Ir["a"](a),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("error al obtener localidades"),console.log(t.t0),e.$emit("show-error",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()},recalcularPoblacionTotal:function(){var e=this;if(this.localidades.length>0){var t=this.localidadesData.executeLocal(new kr["b"]);this.localidadesTabla=t.filter((function(t){return e.localidades.includes(t.cve_loc)})),this.iPoblacionMunicipio=t.filter((function(t){return e.localidades.includes(t.cve_loc)})).map((function(e){return e.pob})).reduce((function(e,t){return e+t}),0),this.isTableData=!0}else this.isTableData=!1,this.localidadesTabla=[],this.iPoblacionMunicipio=0},updateLocalidades:function(e){this.localidades=this.$refs.localidades.ej2Instances.value,this.recalcularPoblacionTotal()},clearLocalidades:function(){this.localidadesData=null,this.localidadesHabilitado=!1,this.localidades=[],this.localidadesTabla=[]}},mounted:function(){this.$nextTick((function(){}))},created:function(){this.initData()}},Tr=Er,jr=(a("5d46"),Object(B["a"])(Tr,Ar,Mr,!1,null,null,null)),Sr=jr.exports,Rr=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("p",{staticClass:"small"},[e._v("Se encontraron "),t("strong",[e._v(e._s(e.count))]),e._v(" resultados en la búsqueda.")]),t("ejs-grid",{ref:"grid",attrs:{dataSource:e.data,gridLines:e.lines,allowPaging:!0,allowSorting:!0,pageSettings:e.pageSettings,allowTextWrap:!0}},[t("e-columns",[t("e-column",{attrs:{field:"clave",headerText:"ID de la Obra"}}),t("e-column",{attrs:{field:"nombre_camino",headerText:"Nombre de la obra"}}),t("e-column",{attrs:{field:"tipo_camino",headerText:"Tipo de Obra"}}),t("e-column",{attrs:{field:"estrategia",headerText:"Estrategia de Gobierno Federal"}}),t("e-column",{attrs:{field:"marginacion",headerText:"Grado de Marginación"}}),t("e-column",{attrs:{field:"poblacion_indigena",headerText:"Tipo Poblacion"}}),t("e-column",{attrs:{field:"clave",template:e.editTemplate,headerText:"Avance Físico",textAlign:"Center"}})],1)],1)],1)]),"NORMATIVO"==this.$store.getters["user/StateRol"]?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 text-right"},[t("hr"),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.$router.push("/caminos")}}},[e._v("Regresar")])])]):e._e()])},Dr=[],Nr=function(){var e=this,t=e._self._c;return t("div",[e.data.isCanceled?e._e():t("button",{staticClass:"btn btn-primary btn-sm editObra",attrs:{type:"button","aria-label":"Editar datos",disabled:e.data.isCanceled,title:1==e.data.isCanceled?"El registro esta cancelado":""},on:{click:e.toAF}},[t("span",{staticClass:"glyphicon glyphicon-edit",attrs:{"aria-hidden":"true"}})])])},Br=[],Lr={name:"ButtonGridAF",data:function(){return{data:{data:{}}}},methods:{toAF:function(){this.$store.commit("setStatusCamino",this.data.isCanceled),this.$router.push("/editAF/"+this.data.clave)}},computed:{cData:function(){return this.data}},created:function(){}},Fr=Lr,qr=Object(B["a"])(Fr,Nr,Br,!1,null,"4739fc8f",null),Ur=qr.exports,Gr=function(){var e=this,t=e._self._c;return t("div",[e.data.isCanceled?e._e():t("button",{staticClass:"btn btn-primary btn-sm cancelObra",attrs:{type:"button","aria-label":"Editar datos","data-toggle":"modal","data-target":"#mdlCancelarObra",disabled:e.data.isCanceled,title:1==!e.data.isCanceled?"":"Cancelar la Obra"},on:{click:function(t){return e.setId(e.data.clave)}}},[t("span",{staticClass:"glyphicon glyphicon-remove-circle",attrs:{"aria-hidden":"true"}})]),e.data.isCanceled?t("button",{staticClass:"btn btn-primary btn-sm cancelObra",attrs:{type:"button","aria-label":"Editar datos","data-toggle":"modal","data-target":"#mdlReactivarObra",disabled:!e.data.isCanceled,title:1==e.data.isCanceled?"Reactivar la Obra":""},on:{click:function(t){return e.setIdReactivacion(e.data.id)}}},[t("span",{staticClass:"glyphicon glyphicon-plus-sign",attrs:{"aria-hidden":"true"}})]):e._e(),t("div",{ref:"mdlCancelarObra",staticClass:"modal fade",attrs:{id:"mdlCancelarObra",tabindex:"-1",role:"dialog","aria-labelledby":"mdlCancelarObra","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[e._m(0),t("div",{staticClass:"modal-body"},[t("p",[e._v("Escriba el motivo de cancelación")]),t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.motivoCancelacion,expression:"motivoCancelacion"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoCancelacion",value:"",placeholder:"Ingrese el motivo de la cancelación"},domProps:{value:e.motivoCancelacion},on:{input:function(t){t.target.composing||(e.motivoCancelacion=t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label",attrs:{for:"file-01"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"file-motivo",type:"file",accept:".pdf"},on:{change:e.onFileSelected}})])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"cerrarCnclObra","data-dismiss":"modal"}},[e._v("Cerrar")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.CancelarObra(e.data.clave)}}},[e._v("Guardar")])])])])]),t("div",{ref:"mdlReactivarObra",staticClass:"modal fade",attrs:{id:"mdlReactivarObra",tabindex:"-1",role:"dialog","aria-labelledby":"mdlReactivarObra","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[e._m(1),t("div",{staticClass:"modal-body text-left"},[t("p",[e._v("Escriba la justificación de reactivación:")]),t("div",{staticClass:"form-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formReactivar.motivoReactivacion,expression:"formReactivar.motivoReactivacion"}],staticClass:"form-control",attrs:{rows:"3",maxlength:"350",id:"motivoReactivacion",value:"",placeholder:"Justificación de reactivación"},domProps:{value:e.formReactivar.motivoReactivacion},on:{input:function(t){t.target.composing||e.$set(e.formReactivar,"motivoReactivacion",t.target.value)}}}),e.$v.formReactivar.motivoReactivacion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])]),t("div",{staticClass:"form-group text-left"},[t("label",{staticClass:"control-label",attrs:{for:"reactivacion"}},[e._v("Cargar archivo:")]),t("input",{attrs:{id:"reactivacion",type:"file",accept:".pdf"},on:{change:e.onFileReactivacion}})])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"cerrarCnclObra","data-dismiss":"modal"}},[e._v("Cerrar")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"btn-sbmt-reactivar"},on:{click:function(t){return e.reactivar(e.data)}}},[e._v("Guardar")])])])])])])},zr=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Cancelación de Obra")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title"},[e._v("Reactivar Obra")])])}];o["default"].use(xe.a);var Vr={name:"CancelaObra",data:function(){return{idReactivacion:null,motivoCancelacion:"",id:null,data:{data:{}},formReactivar:{motivoReactivacion:null,file:null}}},validations:{formReactivar:{motivoReactivacion:{required:T["required"]}}},methods:{CancelarObra:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){var a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return $(t.$refs["mdlCancelarObra"]).modal("hide"),a=new FormData,a.append("motivoCancelacion",t.motivoCancelacion),t.file&&a.append("archivo",t.file),e.next=6,Oe(t.$store.state.cancel.id,a).then((function(e){t.$parent.$parent.populate(),t.$alert("La Obra se ha Cancelado","",{confirmButtonText:"Cerrar",callback:function(e){}})}));case 6:case"end":return e.stop()}}),e)})))()},reactivar:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){var a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$v.formReactivar.$invalid){e.next=9;break}return a=y["Loading"].service({fullscreen:!0,lock:!0}),o=new FormData,o.append("justificacion",t.formReactivar.motivoReactivacion),o.append("direccion","reactivar"),o.append("obra",t.$store.state.reactivar.id),t.formReactivar.file&&o.append("archivo",t.formReactivar.file),e.next=9,ke(o).then((function(e){$(t.$refs["mdlReactivarObra"]).modal("hide"),t.$parent.$parent.populate(),t.$alert("La Obra se ha Reactivado","",{confirmButtonText:"Cerrar",callback:function(e){}})})).finally((function(e){a.close()}));case 9:case"end":return e.stop()}}),e)})))()},setId:function(e){this.$store.commit("setIdCancelacion",e)},setIdReactivacion:function(e){this.formReactivar.motivoReactivacion=null,this.formReactivar.file=null,this.$store.commit("setIdReactivacion",e)},onFileSelected:function(e){this.file=e.target.files[0]},onFileReactivacion:function(e){this.formReactivar.file=e.target.files[0]}}},Kr=Vr,Hr=Object(B["a"])(Kr,Gr,zr,!1,null,"1987e21c",null),Jr=Hr.exports;o["default"].use(le["a"]);var Wr={name:"GridResultObra",data:function(){return{lines:"Both",data:[],breadcrumb:["Resultados de Búsqueda de Obras"],pageSettings:{pageCount:5,pageSize:20},count:0,flag:"NORMATIVO"==this.$store.getters["user/StateRol"],isCanceled:!1,flagEdicion:!0}},provide:{grid:[de["a"],ue["a"]]},methods:Object(n["a"])(Object(n["a"])({editTemplate:function(){return{template:Ur}},cancelTemplate:function(){return{template:Jr}},populate:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=[],null,!e.flag){t.next=9;break}return t.next=6,Me(47971);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,Me(47971);case 11:a=t.sent;case 12:a&&(a.map((function(e){switch(e.tipo_camino){case"A":e.tipo_camino="Agencia";break;case"C":e.tipo_camino="Cabecera";break;case"O":e.tipo_camino="Otro";break}return e.estrategia=!0===e.ciit?"CIIT":"",e.estrategia+=!0===e.tren_maya?" Tren Maya":"",e.estrategia+=!0===e.caminos_originales?" Caminos Originales":"",e.isCanceled="A"!=e.estatus,e})),e.count=a.length,e.data=a),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log("error--\x3e"),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},Object(s["d"])(["setBreadcrumb"])),{},{dataBound:function(){},isActive:function(e){return"A"===e.estatus}}),mounted:function(){this.populate(),this.$refs.grid.ej2Instances.defaultLocale.EmptyRecord="No hay registros",this.$refs.grid.ej2Instances.gridPager.ej2_instances[0].defaultConstants.currentPageInfo="{0} de {1} Paginas"},created:function(){this.setBreadcrumb(this.breadcrumb),this.populate()}},Xr=Wr,Yr=(a("f549"),Object(B["a"])(Xr,Rr,Dr,!1,null,"359da406",null)),Zr=Yr.exports,Qr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8 bottom-buffer"},[t("form",{staticClass:"form-horizontal",attrs:{role:"form"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[e.loginError?t("span",{staticClass:"form-text form-text-error"},[e._v(" Los datos son inconrrectos favor de verificarlos ")]):e._e()])])]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-md-4 control-label no-margin"},[e._v("Usuario: "),e.$v.form.username.$error?t("span",{staticClass:"form-text form-text-error"},[e._v("*")]):e._e()]),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.username.$model,expression:"$v.form.username.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"form-control-error":e.$v.form.username.$error},attrs:{id:"user",placeholder:"Ingresa usuario",type:"text"},domProps:{value:e.$v.form.username.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.username,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.form.username.$error?t("span",{staticClass:"form-text form-text-error",attrs:{id:"error_user"}},[e._v(" Este campo es obligatorio ")]):e._e()])]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-md-4 control-label no-margin",attrs:{for:"password"}},[e._v("Contraseña: "),e.$v.form.password.$error?t("span",{staticClass:"form-text form-text-error"},[e._v("*")]):e._e()]),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"form-control-error":e.$v.form.password.$error},attrs:{id:"contrasenia",placeholder:"Contraseña",type:"password",maxlength:"16"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.form.password.$error?t("span",{staticClass:"form-text form-text-error",attrs:{id:"error_password"}},[e._v(" Este campo es obligatorio ")]):e._e()])]),e._m(0)])])])},en=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-10"},[t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"sbtlogin"}},[e._v("Acceder")])])])}],tn={name:"Login",data:function(){return{loginError:!1,breadcrumb:["Inicio de sesión"],form:{username:"",password:""},showError:!1}},validations:{form:{username:{required:T["required"]},password:{required:T["required"]}}},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["b"])("user",["login"])),{},{submit:function(){var e=this;if(this.loginError=!1,this.$v.$touch(),!this.$v.$invalid)try{this.login(JSON.parse(JSON.stringify(this.form))).catch((function(t){e.loginError=!0}))}catch(t){console.log("error"),console.log(t)}}},Object(s["d"])(["setBreadcrumb"])),Object(s["d"])("user",["setAuthenticated"])),beforeMount:function(){this.setBreadcrumb(this.breadcrumb)},mounted:function(){this.setAuthenticated(!1);Object({VUE_APP_BASE_URL:"https://web-production-cbe8.up.railway.app/api/v1",VUE_APP_PREFIX_DOMAIN_URL:"/sispacam-front/",NODE_ENV:"production",BASE_URL:"/sispacam-front/"}).VUE_APP_SCT_SVC_BACK_BASE_URL}},an=tn,on=Object(B["a"])(an,Qr,en,!1,null,"f02077fa",null),rn=on.exports,nn=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 small-bottom-buffer"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Año fiscal del presupuesto base:")]),t("ejs-dropdownlist",{ref:"refAncho",attrs:{id:"ancho_camino",dataSource:e.anios,fields:e.anchoCaminoFields,placeholder:"Selecciona el año fiscal del presupuesto base"},model:{value:e.anio,callback:function(t){e.anio=t},expression:"anio"}}),e.$v.anio.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])],1),t("div",{staticClass:"col-md-4 form-group"},[t("label",{staticClass:"control-label"},[e._v("Ancho del camino​:")]),t("ejs-dropdownlist",{ref:"refAncho",attrs:{id:"ancho_camino",dataSource:e.anchoCaminoData,fields:e.anchoCaminoFields,placeholder:"Selecciona el ancho del camino"},model:{value:e.ancho_camino,callback:function(t){e.ancho_camino=t},expression:"ancho_camino"}}),e.$v.ancho_camino.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])],1),t("div",{staticClass:"col-md-4 form-group"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.fetchPresupuestoBase}},[t("span",{staticClass:"icon icon-search",staticStyle:{"margin-right":"8px"}}),e._v("Buscar")])])])])]),t("div",{staticClass:"row"},[e.isLoad?t("div",{staticClass:"col-md-4 no-padding"},[t("label",{staticClass:"control-label"},[e._v("Filtrar por concepto:")]),t("ejs-dropdownlist",{ref:"refAncho",attrs:{id:"elementos",dataSource:e.presupuestos,fields:{text:"name",value:"id"},placeholder:"Selecciona el concepto",change:e.filtrar},model:{value:e.filtroConceptos,callback:function(t){e.filtroConceptos=t},expression:"filtroConceptos"}})],1):e._e()]),t("div",{staticClass:"row"},[e.isLoad?t("div",{staticClass:"col-md-12 no-padding"},[t("table",{staticClass:"table table-responsive table-bordered data"},[e._m(0),0!=e.filtroConceptos&&1!=e.filtroConceptos||!e.isLoad?e._e():t("TablePresupuesto",{key:"terra"+e.getPresupuestoByID(1).update,attrs:{conceptos:e.terracerias,showAdminCatalogo:e.showAdminCatalogo,unidad_medida_catalogo:e.unidad_medida_catalogo,nameModal:"ModalPRE1",agregaprecio:e.agregaprecio,agregaCantidad:e.agrega}}),0!=e.filtroConceptos&&2!=e.filtroConceptos||!e.isLoad?e._e():t("TablePresupuesto",{key:"obras"+e.getPresupuestoByID(2).update,attrs:{conceptos:e.getPresupuestoByID(2),showAdminCatalogo:e.showAdminCatalogo,unidad_medida_catalogo:e.unidad_medida_catalogo,nameModal:"ModalPRE2",agregaprecio:e.agregaprecio,agregaCantidad:e.agrega}}),0!=e.filtroConceptos&&3!=e.filtroConceptos||!e.isLoad?e._e():t("TablePresupuesto",{key:"superficie"+e.getPresupuestoByID(3).update,attrs:{conceptos:e.getPresupuestoByID(3),showAdminCatalogo:e.showAdminCatalogo,unidad_medida_catalogo:e.unidad_medida_catalogo,nameModal:"ModalPRE3",agregaprecio:e.agregaprecio,agregaCantidad:e.agrega}}),0!=e.filtroConceptos&&4!=e.filtroConceptos||!e.isLoad?e._e():t("TablePresupuesto",{key:"senalamiento"+e.getPresupuestoByID(4).update,attrs:{conceptos:e.getPresupuestoByID(4),showAdminCatalogo:e.showAdminCatalogo,unidad_medida_catalogo:e.unidad_medida_catalogo,nameModal:"ModalPRE4",agregaprecio:e.agregaprecio,agregaCantidad:e.agrega}})],1),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12 text-right"},[t("br"),t("a",{staticClass:"btn btn-default",attrs:{href:"/presupuesto/base/kilometro"}},[e._v("Cancelar")]),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.enviarPresupuestoBase()}}},[e._v("Guardar")])])])]):e._e()]),t("EditPartidas",{ref:"modalAdmPartidas",attrs:{catConceptos:e.presupuestos,fetchPresupuestoBase:e.fetchPresupuestoBase}})],1)},sn=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("CONCEPTOS Y PARTIDAS")]),t("th",[e._v("CANTIDAD POR KILOMETRO")]),t("th",[e._v("UNIDAD")]),t("th",[e._v("PRECIO UNITARIO")]),t("th",[e._v("EDITAR")]),t("th",[e._v("ELIMINAR")])])])}],cn=function(){var e=this,t=e._self._c;return t("tbody",[t("div",{staticClass:"modal fade",attrs:{id:e.nameModal,tabindex:"-1",role:"dialog","aria-labelledby":"ModalPRE","aria-hidden":"true"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clearData()}}},[t("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[1==e.typeModal?t("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Nueva Partida")]):e._e(),2==e.typeModal?t("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Modificar Partida")]):e._e(),3==e.typeModal?t("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("¿Seguro que quieres eliminar la partida ..?")]):e._e()]),t("div",{staticClass:"modal-body"},[1==e.typeModal?t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("p",[t("strong",[e._v(e._s(e.concepto_descripcion))])])])]):e._e(),t("table",{staticClass:"table table-responsive table-bordered"},[e._m(0),t("tbody",[t("tr",[t("td",[3==e.typeModal?t("p",[e._v(e._s(e.partida_descripcion))]):t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partida_descripcion,expression:"partida_descripcion"}],staticClass:"form-control",domProps:{value:e.partida_descripcion},on:{input:function(t){t.target.composing||(e.partida_descripcion=t.target.value)}}})]),t("td",[3==e.typeModal?t("p",[e._v(e._s(e.partida_unidad_medida_descripcion))]):t("select",{directives:[{name:"model",rawName:"v-model",value:e.partida_unidad_medida_id,expression:"partida_unidad_medida_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.partida_unidad_medida_id=t.target.multiple?a:a[0]}}},e._l(e.unidad_medida_catalogo,(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[e._v(e._s(a.codigo))])})),0)])])])])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.closeModal()}}},[e._v("Cancelar")]),3!=e.typeModal?t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.actionModal}},[e._v("Guardar")]):e._e(),3==e.typeModal?t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.deletePartida}},[e._v("Eliminar")]):e._e()])])])]),t("tr",{staticClass:"concepto"},[t("td",[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.openModal("new",null,e.codigo,e.nombreConcepto)}}},[e._v(e._s(e.nombreConcepto)),t("span",{staticClass:"glyphicon glyphicon-plus",attrs:{"aria-hidden":"true"}})])]),t("td",{attrs:{colspan:"5"}})]),e._l(e.presupuesto,(function(a,o){return t("tr",{key:a.partida.id,class:a.partida.subconcepto?"subconcepto":""},[t("td",[e._v(e._s(a.partida.descripcion)+" ")]),t("td",[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.inportek,expression:"inportek"}],domProps:{value:e.inportek},on:{input:function(t){t.target.composing||(e.inportek=t.target.value)}}}),a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control cantidad-total",attrs:{precision:2,separator:","},nativeOn:{keypress:function(t){return e.checa(o)},change:function(t){return e.agregaCantidadH(a)}},model:{value:a.cantidad,callback:function(t){e.$set(a,"cantidad",t)},expression:"partida.cantidad"}})],1),t("td",[e._v(e._s(a.partida.unidad_medida)+" ")]),t("td",[a.partida.subconcepto?e._e():t("vue-numeric",{staticClass:"form-control precio-unitario",attrs:{precision:2,separator:","},nativeOn:{keypress:function(t){return e.checa(o)},change:function(t){return e.agregaprecioH(a)}},model:{value:a.importe,callback:function(t){e.$set(a,"importe",t)},expression:"partida.importe"}})],1),t("td",[e.isEdit(a.anio)?t("button",{staticClass:"btn btn-primary btn-xs",attrs:{type:"button"},on:{click:function(t){return e.someFunction(a)}}},[t("span",{staticClass:"glyphicon glyphicon-pencil"})]):t("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:""}},[t("span",{staticClass:"glyphicon glyphicon-pencil"})])]),t("td",[e.isEdit(a.anio)?t("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.openModal("delete",a.partida)}}},[t("span",{staticClass:"glyphicon glyphicon-trash",attrs:{"aria-hidden":"true"}})]):t("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:""}},[t("span",{staticClass:"glyphicon glyphicon-trash",attrs:{"aria-hidden":"true"}})])])])}))],2)},ln=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("PARTIDA")]),t("th",{attrs:{scope:"col"}},[e._v("UNIDAD DE MEDIDA")])])])}];o["default"].use(Ut.a);var dn={name:"TablePresupuestoBase",components:{editExtraordinarios:Ki},props:{nameModal:{default:null,type:String},conceptos:{type:Object},myIndex:{default:0,type:Number},showAdminCatalogo:null,unidad_medida_catalogo:[],agregaprecio:null,agregaCantidad:null},data:function(){return{vnumeric:!0,presupuesto:[],nombreConcepto:"",revisar:.12,pu:0,totalprecioUnitario:0,importePorLongitud:0,importeTotalPorKilimetro:0,codigo:"",typeModal:0,partida_id:null,partida_descripcion:null,partida_unidad_medida_descripcion:null,partida_unidad_medida_id:null,unidad_medida_seleccionada:null,concepto_codigo:null,concepto_descripcion:null,datos_modificados:[]}},methods:Object(n["a"])(Object(n["a"])({someFunction:function(e){this.showAdminCatalogo(e)},agregaCantidadH:function(e){this.agregaCantidad(e)},agregaprecioH:function(e){this.agregaprecio(e)},formatNum:function(e){return(new Intl.NumberFormat).format(e)}},Object(s["d"])("presupuesto",["setPresupuesto"])),{},{checa:function(e){JSON.parse(JSON.stringify(this.$store.state.presupuesto.conceptos));this.setPresupuesto({presupuesto:this.presupuesto,codigo:this.codigo});var t=JSON.parse(JSON.stringify(this.$store.state.presupuesto.conceptos));t.map((function(e){}))},openModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;console.log("Abrir modal"),console.log(e),console.log(t),console.log(a),console.log(o),console.log("Fin modal"),"new"==e&&(this.typeModal=1,this.concepto_codigo=a,this.concepto_descripcion=o),"edit"==e?this.typeModal=2:"delete"==e&&(this.typeModal=3),null!=t&&(this.partida_id=t.id,this.partida_descripcion=t.descripcion,this.partida_unidad_medida_descripcion=t.unidad_medida),console.log("Abrir modal"),console.log("accion:"+this.typeModal),console.log(this.concepto_codigo),console.log(this.concepto_descripcion),console.log("Fin modal"),$("#"+this.nameModal).modal("show")},closeModal:function(e,t){$("#"+this.nameModal).modal("hide"),this.clearData()},actionModal:function(){1==this.typeModal?console.log("Es nuevo"):console.log("Es editar")},isEdit:function(e){var t=new Date;return e==t.getFullYear()||e==t.getFullYear()+1},deletePartida:function(e){console.log("Eliminar partida")},savePresupuestos:function(){},clearData:function(){this.typeModal=0,this.partida_id=null,this.partida_descripcion=null,this.partida_unidad_medida_descripcion=null,this.partida_unidad_medida_id=null,this.concepto_codigo=null,this.concepto_descripcion=null}}),computed:{inportek:function(){return this.presupuesto.map((function(e){""==e.cantidad&&(e.cantidad=.001,e.precio_unitario=.001)}))},precioUnitarioTotal:function(){var e=this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+Number(t.precio_unitario)}),0);return this.$emit("update:upTotalIPLBase",e),this.pu=e,e},iTotalPorLongitud:function(){var e=this,t=0;return t=this.presupuesto.reduce((function(t,a){return a.subconcepto?t:(console.log(Number(a.importe_kilometro*e.$route.params.meta)),(t||0)+Number(a.importe_kilometro*e.$route.params.meta))}),0),this.$emit("update:childTotalITPL",t),this.importePorLongitud=t,t},importeTotal:function(){var e=this;return this.presupuesto.map((function(t){return t.importe_kilometro*e.$route.params.meta}))},porcentajePonderado:function(){var e=this;return this.presupuesto.map((function(t){return(t.cantidad*t.precio_unitario||0)/(e.totalIPL||1)*100}))},subTotalPorcentajePonderado:{get:function(){var e=this.porcentajePonderado.reduce((function(e,t){return(e||0)+(t||0)}));return this.$emit("update:totalPP",e),e}},importeTotalKilometro:{get:function(){var e=this.presupuesto.reduce((function(e,t){return t.subconcepto?e:(e||0)+29834.11}),0);return this.$emit("update:subTotalIPK",e),e},set:function(e){}}},created:function(){this.presupuesto=this.conceptos.presupuestoStart,this.nombreConcepto=this.conceptos.name,this.codigo=this.conceptos.codigo,this.presupuesto.map((function(e){console.log("data--\x3e"),null==e.precio_unitario&&(console.log("datasisisis--\x3e"),console.log(e),e.precio_unitario="0.0",e.importe_total="",e.cantidad="",console.log(e))})),this.presupuesto=this.presupuesto.sort((function(e,t){return e.partida.id>t.partida.id?1:e.partida.id<t.partida.id?-1:0}))}},un=dn,mn=Object(B["a"])(un,cn,ln,!1,null,"4b221158",null),pn=mn.exports,fn=function(){var e=this,t=e._self._c;return t("div",[t("Modal",{attrs:{title:"Edición Partida","enable-close":!1},model:{value:e.showAdminModalEdit,callback:function(t){e.showAdminModalEdit=t},expression:"showAdminModalEdit"}},[t("form",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"unidad"}},[e._v("Concepto:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formEditPartida.concepto,expression:"formEditPartida.concepto"}],staticClass:"form-control",attrs:{id:"unidad"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formEditPartida,"concepto",t.target.multiple?a:a[0])}}},e._l(e.conceptos,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.descripcion)+" ")])})),0),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.concepto.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"concepto"}},[e._v("Partida:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formEditPartida.descripcion,expression:"formEditPartida.descripcion"}],staticClass:"form-control text-justify",staticStyle:{"font-size":"12px"},attrs:{id:"concepto",rows:"6",maxlength:"500",placeholder:"Capturar el Concepto"},domProps:{value:e.formEditPartida.descripcion},on:{input:function(t){t.target.composing||e.$set(e.formEditPartida,"descripcion",t.target.value)}}}),e._v(" "),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.descripcion.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"unidad"}},[e._v("Unidad:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.formEditPartida.unidad_medida,expression:"formEditPartida.unidad_medida"}],staticClass:"form-control",attrs:{id:"unidad"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formEditPartida,"unidad_medida",t.target.multiple?a:a[0])}}},e._l(e.unidad_medida,(function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(" "+e._s(a.codigo)+" ")])})),0),t("div",{staticClass:"row col-md-12"},[e.$v.formEditPartida.unidad_medida.required?e._e():t("small",{staticClass:"form-text form-text-error"},[e._v(" Este campo es obligatorio ")])])]),t("div",{staticClass:"row modal-footer"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-left"},[t("button",{staticClass:"btn btn-default active",attrs:{type:"button"},on:{click:function(t){e.showAdminModalEdit=!1}}},[e._v("Cancelar")])])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-primary active",attrs:{type:"button"},on:{click:e.saveEdit}},[e._v("Guardar")])])])])])])],1)},vn=[];o["default"].use(xe.a);var bn={name:"adminExtraordinarios",components:{Modal:st["a"],Grid:Mi["a"]},props:{catConceptos:null,fetchPresupuestoBase:null},data:function(){return{loadedExtraordinarios:[],showAdminModalPartidas:!1,showAdminModalEdit:!1,showAdminModalNew:!1,dialogVisible:!1,unidad_medida:null,fixedHeader:!0,conceptos:[],formEditPartida:{id:null,descripcion:"",cantidad:0,unidad_medida:null,concepto:0},width:"95%",modal_lg:"modal-lg",modal_xl:"modal-xl",className:{td:"admin-td-class text-justify",table:""}}},validations:{formEditPartida:{descripcion:{required:T["required"]},concepto:{required:T["required"]},unidad_medida:{required:T["required"],minValue:Object(T["minValue"])(1)}}},methods:{closeModal:function(){Ft.a.unfreeze(),this.showAdminModalEdit=!1},beforeOpenNew:function(){this.formNewPartida.unidad_medida=""},confirmDelete:function(e){var t=this;this.$confirm("Se eliminará la partida, ¿Está seguro?","",{confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",cancelButtonClass:"cancel-gob"}).then(function(){var t=Object(u["a"])(Object(d["a"])().mark((function t(a){var o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=3,deletePartida(e.cells[0].data).finally((function(e){o.close()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(e){t.showAdminModalEdit=!1,t.fetchPresupuestoBase()}))},editar:function(e){console.log(e),this.formEditPartida.id=e.partida.id,this.formEditPartida.descripcion=e.partida.descripcion,this.formEditPartida.unidad_medida=e.partida.unidadmedida.id,this.formEditPartida.concepto=e.partida.concepto.id,this.showAdminModalEdit=!0},saveEdit:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.$v.formEditPartida),e.$v.formEditPartida.$invalid){t.next=5;break}return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=5,ir(e.formEditPartida.id,e.formEditPartida).then(function(){var e=Object(u["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error")})).finally((function(){e.closeModal(),e.fetchPresupuestoBase(),a.close()}));case 5:case"end":return t.stop()}}),t)})))()},loadUM:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Bi();case 2:return e.unidad_medida=t.sent,t.next=5,Li();case 5:e.conceptos=t.sent;case 6:case"end":return t.stop()}}),t)})))()}},filters:{upperCased:function(e){var t=[];return e.split(" ").forEach((function(e){t.push(e.toUpperCase())})),t.join(" ")}},watch:{"formEditPartida.descripcion":function(e){this.formEditPartida.descripcion=this.$options.filters.upperCased(e)},"formNewPartida.descripcion":function(e){this.formNewPartida.descripcion=this.$options.filters.upperCased(e)},deep:!0},beforeMount:function(){this.loadUM()}},hn=bn,gn=(a("0836"),Object(B["a"])(hn,fn,vn,!1,null,null,null)),_n=gn.exports,Cn={name:"TablePresupuestoBase",components:{TablePresupuesto:pn,EditPartidas:_n},data:function(){return{breadcrumb:["Presupuesto Base por Kilómetro"],anios:[],filtroConceptos:0,unidad_medida_catalogo:null,datos_modificados:[],anchos:null,anio:null,ancho_camino:null,datos:[],presupuestoBase:[],isLoad:!1,presupuestos:[{id:1,codigo:"A",mostrar:!0,name:"TERRACERIAS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:2,codigo:"B",mostrar:!0,name:"OBRAS DE DRENAJE Y ESTRUCTURAS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:3,codigo:"C",mostrar:!0,name:"SUPERFICIE DE RODAMIENTO",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:4,codigo:"D",mostrar:!0,name:"SEÑALAMIENTO",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null},{id:5,codigo:"F",mostrar:!0,name:"PRECIOS EXTRAORDINARIOS",subtotalPU:0,subTotalIPL:0,subTotalPP:0,subTotalIPK:0,subTotalImportePorLong:0,update:0,presupuestoStart:null,presupuestoBack:null}],anchoCaminoFields:{text:"descripcion",value:"id"},anchoCaminoData:[]}},validations:{ancho_camino:{required:T["required"]},anio:{required:T["required"]}},methods:Object(n["a"])(Object(n["a"])({},Object(s["d"])(["setBreadcrumb"])),{},{enviarPresupuestoBase:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.next=3,er(e.datos_modificados).finally((function(e){a.close()}));case 3:case"end":return t.stop()}}),t)})))()},agrega:function(e){var t=!1;this.datos_modificados.map((function(a){return a.id==e.id&&(a.cantidad=e.cantidad,t=!0,!0)})),t||this.datos_modificados.push({id:e.id,cantidad:e.cantidad}),console.log(this.datos_modificados)},agregaprecio:function(e){var t=!1;console.log(e),this.datos_modificados.map((function(a){return a.id==e.id&&(a.precio_unitario=e.importe,t=!0,!0)})),t||this.datos_modificados.push({id:e.id,precio_unitario:e.importe})},showAdminCatalogo:function(e){this.$refs.modalAdmPartidas.editar(e)},filtrar:function(){var e=this;return this.datos.map((function(t){return t.id==e.filtroConceptos||0==e.filtroConceptos?t.mostrar=!0:t.mostrar=!1,t.update++,t})),this.presupuestos},getPresupuestoByID:function(e){return this.presupuestoBase.find((function(t){return t.id===e}))},fetchPresupuestoBase:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$v.$invalid){t.next=4;break}console.log("error"),t.next=12;break;case 4:return a=y["Loading"].service({fullscreen:!0,lock:!0}),e.isLoad=!1,o={ancho:e.ancho_camino,anio:e.anio},t.next=9,Qi(o).finally((function(e){a.close()}));case 9:i=t.sent,e.datos=i,e.loadData();case 12:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;this.datos.map((function(e){e.partida.unidadmedida=e.partida.unidad_medida,e.partida.unidad_medida=e.partida.unidad_medida.descripcion})),this.presupuestos.map((function(t,a){var o=e.datos.filter((function(e){return e.partida.concepto.codigo===t.codigo})).map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{precio_unitario:(e.importe||0)/(e.cantidad||1),importe_total:(e.importe||0)/(e.cantidad||1)*(e.cantidad||1)})}));t.presupuestoBack=o,t.presupuestoStart=o})),this.presupuestoBase=JSON.parse(JSON.stringify(this.presupuestos)),this.terracerias=this.getPresupuestoByID(1),console.log(this.terracerias),this.isLoad=!0},initData:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o,i;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=new Date,o=a.getFullYear()+1,console.log(e.anios),e.anios.push({descripcion:o,id:o}),i=1;i<11;i++)e.anios.push({descripcion:o-i,id:o-i});return t.next=7,tr();case 7:e.anchoCaminoData=t.sent,console.log(e.anchoCaminoData),e.loadUM();case 10:case"end":return t.stop()}}),t)})))()},clearData:function(){this.$v.$reset(),this.initData()},loadUM:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Bi();case 2:e.unidad_medida_catalogo=t.sent,console.log("Unidad Medida"),console.log(e.unidad_medida_catalogo);case 5:case"end":return t.stop()}}),t)})))()}}),beforeMount:function(){this.setBreadcrumb(this.breadcrumb)},created:function(){this.initData(),this.datos_modificados=[]},computed:{isVisible:function(){var e=this;return this.datos.map((function(t){return t.id==e.filtroConceptos||0==e.filtroConceptos?t.mostrar=!0:t.mostrar=!1,t.update++,t})),this.presupuestos}}},xn=Cn,yn=Object(B["a"])(xn,nn,sn,!1,null,null,null),wn=yn.exports,Pn=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"col-md-3",staticStyle:{"margin-bottom":"15px"}},[t("el-input",{attrs:{placeholder:"Buscar por clave camino"},on:{input:e.getAssignments},model:{value:e.params.clave_camino,callback:function(t){e.$set(e.params,"clave_camino",t)},expression:"params.clave_camino"}})],1),t("div",{staticClass:"col-md-3"},[t("el-select",{attrs:{placeholder:"Buscar pot estatus"},on:{change:e.getAssignments},model:{value:e.params.estatus,callback:function(t){e.$set(e.params,"estatus",t)},expression:"params.estatus"}},e._l([{value:"false",label:"Inactivo"},{value:"true",label:"Activo"}],(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})})),1)],1),t("table-base",{attrs:{options:e.featureOptions,headers:e.headers,data:e.assignments,"has-colored-borders":""}})],1)},On=[],$n={name:"Assignments",components:{TableBase:Ca},data:function(){var e=this;return{assignments:[],headers:[{label:"Clave camino",field:"roadKey"},{label:"Beneficiario",field:"beneficiary"},{label:"Nombre camino",field:"roadName"},{label:"Tramo",field:"agreementSection"},{label:"Monto (mdp)",field:"amount"},{label:"Meta (km)",field:"meta"},{label:"Avance (%)",field:"progressPercentage"},{label:"Estatus",field:"status"},{label:"Fecha último avance",field:"lastDateRoad"}],featureOptions:[{label:"Ver avances fisicos",action:function(t){return e.$router.push({name:"PhysicalAdvances",params:{roadKey:t.roadKey}})}},{label:"Nuevo avance fisico",action:function(t){return e.$router.push({name:"NewPhysicalAdvances",params:{assignmentId:t.id}})}}],params:{icveusuario:this.$store.state.user.userId,clave_camino:null,estatus:null}}},methods:Object(n["a"])({getAssignments:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ia(e.params);case 2:a=t.sent,e.assignments=We(a);case 4:case"end":return t.stop()}}),t)})))()}},Object(s["d"])(["setBreadcrumb"])),created:function(){this.setBreadcrumb(["Asignaciones"]),this.getAssignments()}},An=$n,Mn=Object(B["a"])(An,Pn,On,!1,null,null,null),In=Mn.exports,kn=function(){var e=this,t=e._self._c;return t("div",[t("table-base",{attrs:{options:e.featureOptions,headers:e.headers,data:e.physicalAdvances,"has-colored-borders":""}})],1)},En=[],Tn={name:"PhysicalAdvances",components:{TableBase:Ca},data:function(){var e=this;return{physicalAdvances:[],headers:[{label:"Nombre camino",field:"roadName"},{label:"Convenio tramo",field:"agreementSection"},{label:"Fecha inicio",field:"initDate"},{label:"Fecha fin",field:"endDate"},{label:"Fecha avance",field:"advanceDate"},{label:"Quincena",field:"fortnight"},{label:"Porcentaje avance",field:"percentageProgress"},{label:"Porcentaje acumulado",field:"fullPercentage"},{label:"Estatus",field:"status"}],featureOptions:[{label:"Editar",action:function(t){return e.$router.push({name:"UpdatePhysicalAdvances",params:{physicalAdvanceId:t.id,assignmentId:t.assignmentId}})}},{label:"Rechazar",action:function(e){return console.log(e)}},{label:"Aprobar",action:function(e){return console.log(e)}}]}},methods:Object(n["a"])({getPhysicalAdvances:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E(e.$route.params.roadKey);case 2:a=t.sent,e.physicalAdvances=Je(a);case 4:case"end":return t.stop()}}),t)})))()}},Object(s["d"])(["setBreadcrumb"])),created:function(){this.setBreadcrumb(["Avances físicos"]),this.getPhysicalAdvances()}},jn=Tn,Sn=Object(B["a"])(jn,kn,En,!1,null,null,null),Rn=Sn.exports,Dn=function(){var e=this,t=e._self._c;return t("div",[t("button",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"15px"},attrs:{type:"button"},on:{click:e.goToNewRepresentative}},[e._v(" Nuevo Representante ")]),t("table-base",{attrs:{options:e.featureOptions,headers:e.headers,data:e.representatives}})],1)},Nn=[],Bn={name:"Representatives",components:{TableBase:Ca},data:function(){return{modalNewRepresentative:!1,representatives:[],headers:[{label:"Nombre completo",field:"fullName"},{label:"RFC",field:"rfc"},{label:"Fecha inicio",field:"initDate"},{label:"Fecha fin",field:"endDate"}],featureOptions:[{label:"Editar",action:function(e){return console.log(e)}}]}},methods:Object(n["a"])({getRepresentatives:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.prev=1,t.next=4,Mt(e.$route.params.agreementId);case 4:o=t.sent,e.representatives=Xe(o),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:a.close();case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},goToNewRepresentative:function(){return this.$router.push({name:"NewRepresentative",params:{agreementId:this.$route.params.agreementId}})}},Object(s["d"])(["setBreadcrumb"])),created:function(){this.setBreadcrumb(["Representantes"]),this.getRepresentatives()}},Ln=Bn,Fn=Object(B["a"])(Ln,Dn,Nn,!1,null,null,null),qn=Fn.exports,Un=function(){var e=this,t=e._self._c;return t("div",[t("form-representatives",{on:{submit:e.saveRepresentative}})],1)},Gn=[],zn=function(){var e=this,t=e._self._c;return t("validation-observer",{staticStyle:{display:"flex","flex-direction":"column",gap:"15px"},scopedSlots:e._u([{key:"default",fn:function(a){var o=a.handleSubmit;return[t("span",{staticClass:"divider-span"},[e._v(" Datos personales del representante ")]),t("input-base",{attrs:{id:"name",placeholder:"Ingresa el nombre(s)",label:"Nombre(s)",rules:"required"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),t("input-base",{attrs:{id:"firstSurname",placeholder:"Ingresa el segundo apellido",label:"Primer Apellido",rules:"required"},model:{value:e.form.firstSurname,callback:function(t){e.$set(e.form,"firstSurname",t)},expression:"form.firstSurname"}}),t("input-base",{attrs:{id:"secondSurname",placeholder:"Ingresa el segundo apellido",label:"Segundo Apellido",rules:"required"},model:{value:e.form.secondSurname,callback:function(t){e.$set(e.form,"secondSurname",t)},expression:"form.secondSurname"}}),t("input-base",{attrs:{id:"rfc",placeholder:"Ingresa el RFC",label:"RFC",rules:"required|rfc","upper-case":""},model:{value:e.form.rfc,callback:function(t){e.$set(e.form,"rfc",t)},expression:"form.rfc"}}),t("input-base",{attrs:{id:"curp",placeholder:"Ingresa el CURP",label:"CURP",rules:"required|curp","upper-case":""},model:{value:e.form.curp,callback:function(t){e.$set(e.form,"curp",t)},expression:"form.curp"}}),t("input-base",{attrs:{id:"birthday",label:"Fecha de nacimiento",type:"date",rules:"required",placeholder:"Selecciona la fecha de nacimiento"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}}),t("input-base",{attrs:{id:"gender",options:[{value:"H",label:"Masculino"},{value:"M",label:"Femenino"}],type:"radio",label:"Género",rules:"required"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}}),t("span",{staticClass:"divider-span"},[e._v(" Direccion del representante ")]),t("input-base",{attrs:{id:"cp",placeholder:"Ingresa el codigo postal",label:"C.P.",rules:"required|numeric|digits:5"},model:{value:e.form.cp,callback:function(t){e.$set(e.form,"cp",t)},expression:"form.cp"}}),t("input-base",{attrs:{id:"colony",placeholder:"Ingresa la colonia",label:"Colonia",rules:"required"},model:{value:e.form.colony,callback:function(t){e.$set(e.form,"colony",t)},expression:"form.colony"}}),t("input-base",{attrs:{id:"street",placeholder:"Ingresa la calle",label:"Calle",rules:"required"},model:{value:e.form.street,callback:function(t){e.$set(e.form,"street",t)},expression:"form.street"}}),t("input-base",{attrs:{id:"externalNumber",placeholder:"Ingresa el número exterior",label:"Núm. Exterior",rules:"required"},model:{value:e.form.externalNumber,callback:function(t){e.$set(e.form,"externalNumber",t)},expression:"form.externalNumber"}}),t("span",{staticClass:"divider-span"},[e._v(" Datos bancarios ")]),t("input-base",{attrs:{id:"clabe",placeholder:"Ingresa la clabe interbancaria",label:"Clabe Interbancaria",rules:"required|numeric|digits:18"},model:{value:e.form.clabe,callback:function(t){e.$set(e.form,"clabe",t)},expression:"form.clabe"}}),t("span",{staticClass:"divider-span"},[e._v(" Fechas de asignacion ")]),t("input-base",{attrs:{id:"initDate",label:"Fecha inicio",placeholder:"Seleciona la fecha inicio",type:"date",rules:"required"},model:{value:e.form.initDate,callback:function(t){e.$set(e.form,"initDate",t)},expression:"form.initDate"}}),t("input-base",{attrs:{id:"endDate",placeholder:"Seleciona la fecha fin",label:"Fecha fin",type:"date",rules:"required"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}}),t("button",{staticClass:"btn btn-primary",staticStyle:{"max-width":"max-content",margin:"auto","margin-top":"30px"},attrs:{type:"button"},on:{click:function(t){return o(e.sendForm)}}},[e._v(" Crear representante ")])]}}])})},Vn=[],Kn=function(){var e=this,t=e._self._c;return t("validation-provider",{staticClass:"wrapper-input-base",attrs:{rules:e.disabled?"":e.rules},scopedSlots:e._u([{key:"default",fn:function(a){var o=a.errors;return[t("label",{staticStyle:{"grid-column":"span 1 / span 1",margin:"0px","margin-top":"auto","margin-bottom":"auto"},attrs:{for:e.id}},[e._v(" "+e._s(e.rules.includes("required")?"".concat(e.label," *"):e.label)+" ")]),t("div",{staticStyle:{"grid-column":"span 2 / span 2"}},[["date"].includes(e.type)?t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:e.id,placeholder:e.placeholder,value:e.value,disabled:e.disabled,"value-format":"yyyy-MM-dd"},on:{input:function(t){return e.$emit("update",t)}}}):"radio"===e.type?e._l(e.options,(function(a,o){return t("el-radio",{key:o,attrs:{value:e.value,label:a.value},on:{input:function(t){return e.$emit("update",t)}}},[e._v(" "+e._s(a.label)+" ")])})):t("el-input",{attrs:{id:e.id,placeholder:e.placeholder,value:e.value,disabled:e.disabled,type:e.type},on:{input:function(t){return e.$emit("update",e.upperCase?t.toUpperCase():t)}}})],2),t("span",{staticStyle:{color:"red","font-size":"12px","grid-column-start":"2"}},[e._v(" "+e._s(o[0])+" ")])]}}])})},Hn=[],Jn=a("7bb1"),Wn={name:"InputBase",props:{id:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},rules:{type:String,default:""},upperCase:{type:Boolean,default:!1},options:{type:Array,default:function(){return[{label:"Option 1",Value:"1"}]}}},components:{ValidationProvider:Jn["b"]},model:{prop:"value",event:"update"}},Xn=Wn,Yn=(a("391c"),Object(B["a"])(Xn,Kn,Hn,!1,null,"1f720d8d",null)),Zn=Yn.exports,Qn={name:"FormRepresentatives",components:{InputBase:Zn,ValidationObserver:Jn["a"]},data:function(){return{form:{clabe:"",rfc:"",name:"",firstSurname:"",secondSurname:"",curp:"",birthday:"",gender:"",street:"",externalNumber:"",colony:"",cp:"",initDate:"",endDate:""}}},methods:{sendForm:function(){this.$emit("submit",this.form)}}},es=Qn,ts=(a("a898"),Object(B["a"])(es,zn,Vn,!1,null,"7153abf2",null)),as=ts.exports,os=function(e){return{id_convenio:e.agreementId,nombre_representante:e.name,primer_a_representante:e.firstSurname,segundo_a_representante:e.secondSurname,fecha_nacimiento:e.birthday,fecha_inicio:e.initDate,fecha_fin:e.endDate,curp:e.curp,rfc:e.rfc,clabe:e.clabe,genero:e.gender,calle:e.street,num_ext:e.externalNumber,colonia:e.colony,cp:e.cp}},is=function(e){return{rodera1_izq:e.firstRutToLeft,rodera2_izq:e.secondRutToLeft,empedrado_izq:e.cobbledToLeft,rodera1_der:e.firstRutToRight,rodera2_der:e.secondRutToRight,empedrado_der:e.cobbledToRight,empedrado_central:e.cobbledToCenter}},ns=function(e){return{firstRutToRight:"".concat(e.rodera1_der),secondRutToRight:"".concat(e.rodera2_der),firstRutToLeft:"".concat(e.rodera1_izq),secondRutToLeft:"".concat(e.rodera2_izq),cobbledToRight:"".concat(e.empedrado_der),cobbledToCenter:"".concat(e.empedrado_central),cobbledToLeft:"".concat(e.empedrado_izq)}},ss={name:"Representatives",components:{FormRepresentatives:as},data:function(){return{}},methods:{saveRepresentative:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.prev=1,a.next=4,kt(os(Object(n["a"])(Object(n["a"])({},e),{},{agreementId:t.$route.params.agreementId})));case 4:t.$swal("Representante registrado","Representante registrado satisfactoriamente.","success").then((function(){return t.$router.push({name:"Representatives",params:{agreementId:t.$route.params.agreementId}})})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.error(a.t0),t.$swal("Validacion de campos",a.t0.detail?a.t0.detail:JSON.stringify(a.t0),"error");case 11:o.close();case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()}},created:function(){}},cs=ss,ls=Object(B["a"])(cs,Un,Gn,!1,null,null,null),ds=ls.exports,us=function(){var e=this,t=e._self._c;return t("div",[""!==e.roadWidth?t("form-physical-advances",{attrs:{"road-width":e.roadWidth},on:{submit:e.saveRepresentative}}):e._e()],1)},ms=[],ps=function(){var e=this,t=e._self._c;return t("validation-observer",{staticStyle:{display:"flex","flex-direction":"column",gap:"15px"},scopedSlots:e._u([{key:"default",fn:function(o){var i=o.handleSubmit;return[t("img",{staticStyle:{height:"300px",width:"auto","object-fit":"contain"},attrs:{src:a("4211")("./".concat(e.roadWidth,".jpg")),alt:"Ancho del camino"}}),t("span",{staticClass:"divider-span"},[e._v(" Roderas y Empedrados Izquierda ")]),t("input-base",{attrs:{id:"firstRutToLeft",placeholder:"Ingresa los metros de la rodera 1",label:"Rodera 1 (m)",rules:"required|decimal:1"},model:{value:e.form.firstRutToLeft,callback:function(t){e.$set(e.form,"firstRutToLeft",t)},expression:"form.firstRutToLeft"}}),t("input-base",{attrs:{id:"secondRutToLeft",placeholder:"Ingresa los metros de la rodera 2",label:"Rodera 2 (m)",rules:"required|decimal:1",disabled:["4.0","4.5"].includes(e.roadWidth)},model:{value:e.form.secondRutToLeft,callback:function(t){e.$set(e.form,"secondRutToLeft",t)},expression:"form.secondRutToLeft"}}),t("input-base",{attrs:{id:"cobbledToLeft",placeholder:"Ingresa los metros del empedrado",label:"Empedrado (m)",rules:"required|decimal:1"},model:{value:e.form.cobbledToLeft,callback:function(t){e.$set(e.form,"cobbledToLeft",t)},expression:"form.cobbledToLeft"}}),t("span",{staticClass:"divider-span"},[e._v(" Empedrado Central​ ")]),t("input-base",{attrs:{id:"cobbledToCenter",placeholder:"Ingresa los metros del empedrado",label:"Empedrado (m)",rules:"required|decimal:1",disabled:["5.0"].includes(e.roadWidth)},model:{value:e.form.cobbledToCenter,callback:function(t){e.$set(e.form,"cobbledToCenter",t)},expression:"form.cobbledToCenter"}}),t("span",{staticClass:"divider-span"},[e._v(" Roderas y Empedrados Derecha ")]),t("input-base",{attrs:{id:"firstRutToRight",placeholder:"Ingresa los metros de la rodera 1",label:"Rodera 1 (m)",rules:"required|decimal:1"},model:{value:e.form.firstRutToRight,callback:function(t){e.$set(e.form,"firstRutToRight",t)},expression:"form.firstRutToRight"}}),t("input-base",{attrs:{id:"secondRutToRight",placeholder:"Ingresa los metros de la rodera 2",label:"Rodera 2 (m)",rules:"required|decimal:1",disabled:["4.0","4.5"].includes(e.roadWidth)},model:{value:e.form.secondRutToRight,callback:function(t){e.$set(e.form,"secondRutToRight",t)},expression:"form.secondRutToRight"}}),t("input-base",{attrs:{id:"cobbledToRight",placeholder:"Ingresa los metros del empedrado",label:"Empedrado (m)",rules:"required|decimal:1"},model:{value:e.form.cobbledToRight,callback:function(t){e.$set(e.form,"cobbledToRight",t)},expression:"form.cobbledToRight"}}),t("button",{staticClass:"btn btn-primary",staticStyle:{"max-width":"max-content",margin:"auto","margin-top":"30px"},attrs:{type:"button"},on:{click:function(t){return i(e.sendForm)}}},[e._v(" Registrar avance fisico ")])]}}])})},fs=[],vs={name:"FormRepresentatives",props:{roadWidth:{type:String,required:!0,validator:function(e){return["4.0","4.5","5.0","5.5","6.0"].includes(e)}},physicalAdvance:{type:Object,default:function(){return{}}}},components:{InputBase:Zn,ValidationObserver:Jn["a"]},data:function(){return{form:{firstRutToRight:this.physicalAdvance.firstRutToRight||"",secondRutToRight:this.physicalAdvance.secondRutToRight||"",firstRutToLeft:this.physicalAdvance.firstRutToLeft||"",secondRutToLeft:this.physicalAdvance.secondRutToLeft||"",cobbledToRight:this.physicalAdvance.cobbledToRight||"",cobbledToCenter:this.physicalAdvance.cobbledToCenter||"",cobbledToLeft:this.physicalAdvance.cobbledToLeft||""}}},methods:{sendForm:function(){this.$emit("submit",this.form)}}},bs=vs,hs=(a("93e1"),Object(B["a"])(bs,ps,fs,!1,null,"48e3a4a8",null)),gs=hs.exports;function _s(e){var t=e.assignmentId,a=e.physicalAdvance;return lc({url:"/asignaciones/".concat(t,"/avance-fisico/"),method:"POST",data:is(a)})}function Cs(e){return lc({url:"/avance-fisico/".concat(e,"/"),method:"GET"})}function xs(e){var t=e.physicalAdvance,a=e.physicalAdvanceId;return lc({url:"/avance-fisico/".concat(a,"/"),method:"PATCH",data:is(t)})}function ys(e){return lc({url:"/residentes/asignaciones/".concat(e,"/"),method:"GET"})}var ws={name:"NewPhysicalAdvances",components:{FormPhysicalAdvances:gs},data:function(){return{roadKey:"",roadWidth:""}},methods:{saveRepresentative:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.prev=1,a.next=4,_s({assignmentId:t.$route.params.assignmentId,physicalAdvance:e});case 4:t.$swal("Avance fisico registrado","Avance fisico registrado satisfactoriamente.","success").then((function(){return t.$router.push({name:"PhysicalAdvances",params:{roadKey:t.roadKey}})})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.error(a.t0),t.$swal("Error en el servidor!",a.t0.detail?a.t0.detail:JSON.stringify(a.t0),"error");case 11:o.close();case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()},getAssignment:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.prev=1,t.next=4,ys(e.$route.params.assignmentId);case 4:o=t.sent,e.roadWidth=o.camino.ancho_camino,e.roadKey=o.camino.clave_camino,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),console.error(t.t0),e.$swal("Error en el servidor!",t.t0.detail?t.t0.detail:JSON.stringify(t.t0),"error");case 13:a.close();case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},created:function(){this.getAssignment(),this.$store.state.breadcrumb=["Nuevo avance fisico"]}},Ps=ws,Os=Object(B["a"])(Ps,us,ms,!1,null,null,null),$s=Os.exports,As=function(){var e=this,t=e._self._c;return t("div",[e.initDataLoaded?t("form-physical-advances",{attrs:{"road-width":e.roadWidth,"physical-advance":e.physicalAdvance},on:{submit:e.saveRepresentative}}):e._e()],1)},Ms=[],Is={name:"NewPhysicalAdvances",components:{FormPhysicalAdvances:gs},data:function(){return{roadKey:"",roadWidth:"",physicalAdvance:{},initDataLoaded:!1}},methods:{saveRepresentative:function(e){var t=this;return Object(u["a"])(Object(d["a"])().mark((function a(){var o;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=y["Loading"].service({fullscreen:!0,lock:!0}),a.prev=1,a.next=4,xs({physicalAdvance:e,physicalAdvanceId:t.$route.params.physicalAdvanceId});case 4:t.$swal("Avance fisico actualizado","Avance fisico actualizado satisfactoriamente.","success").then((function(){return t.$router.push({name:"PhysicalAdvances",params:{roadKey:t.roadKey}})})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.error(a.t0),t.$swal("Error en el servidor!",a.t0.detail?a.t0.detail:JSON.stringify(a.t0),"error");case 11:o.close();case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()},getAssignment:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ys(e.$route.params.assignmentId);case 2:a=t.sent,o=a.camino,e.roadWidth=o.ancho_camino,e.roadKey=o.clave_camino;case 6:case"end":return t.stop()}}),t)})))()},getPhysicalAdvance:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Cs(e.$route.params.physicalAdvanceId);case 2:a=t.sent,e.physicalAdvance=ns(a);case 4:case"end":return t.stop()}}),t)})))()},init:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["Loading"].service({fullscreen:!0,lock:!0}),t.prev=1,t.next=4,Promise.all([e.getAssignment(),e.getPhysicalAdvance()]);case 4:e.initDataLoaded=!0,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0),e.$swal("Error en el servidor!",t.t0.detail?t.t0.detail:JSON.stringify(t.t0),"error");case 11:a.close();case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},created:function(){this.init(),this.$store.state.breadcrumb=["Editar avance fisico"]}},ks=Is,Es=Object(B["a"])(ks,As,Ms,!1,null,null,null),Ts=Es.exports,js=function(){var e=this,t=e._self._c;return t("div",[t("item-description",{staticStyle:{"margin-bottom":"56px"},attrs:{items:e.items}}),t("table-base",{attrs:{options:e.featureOptions,headers:e.headers,footers:e.footers,data:e.paymentConcepts}})],1)},Ss=[],Rs=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[t("div",{staticStyle:{height:"28px",width:"0px",border:"1px solid #1C75BB"}}),e._l(e.items,(function(a,o){return t("div",{key:o,staticStyle:{display:"flex","align-items":"center",gap:"16px","text-align":"center"}},[t("p",{staticStyle:{margin:"0px"}},[e._v(" "+e._s(a.label)+": "),t("strong",[e._v(" "+e._s(a.value)+" ")])]),t("div",{staticStyle:{height:"28px",width:"0px",border:"1px solid #1C75BB"}})])}))],2)},Ds=[],Ns={props:{items:{type:Array,default:function(){return[]}}}},Bs=Ns,Ls=Object(B["a"])(Bs,Rs,Ds,!1,null,null,null),Fs=Ls.exports,qs={name:"Budget",components:{TableBase:Ca,ItemDescription:Fs},data:function(){return{headers:[{label:"Conceptos y partidas",field:"paymentConcept"},{label:"Cantidad por kilometro",field:"quantityPerKm"},{label:"Unidad de medida",field:"unitMeasurement"},{label:"Importe por kilometro",field:"amountPerKm"},{label:"Precio unitario",field:"unitPrice"},{label:"Importe total por longitud",field:"totalAmountAgreementFormatter"},{label:"Porcentaje ponderado total",field:"totalWeightedPercentageFormatter"}],featureOptions:[],paymentConcepts:[],yearAgreement:null,roadWidth:null,roadWidthId:null,baseBudget:null,currentBudget:null,baseAndCurrentVariance:null,metaAgreement:null}},computed:{footers:function(){return[{label:"Total:",colSpan:3},{label:ze(Ge(this.paymentConcepts.map((function(e){return e.amountPerKm})))),colSpan:1},{label:"",colSpan:1},{label:ze(Ge(this.paymentConcepts.map((function(e){return e.totalAmountAgreement})))),colSpan:1},{label:"".concat(Ge(this.paymentConcepts.map((function(e){return e.totalWeightedPercentage}))).toFixed(0),"%"),colSpan:1}]},items:function(){return[{label:"Año fiscal",value:this.yearAgreement},{label:"Ancho de camino",value:this.roadWidth},{label:"Presupuesto base",value:ze(this.baseBudget)},{label:"Presupuesto real",value:ze(this.currentBudget)},{label:"Variación",value:ze(this.baseAndCurrentVariance)}]}},methods:{getAgreement:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,yt(e.$route.params.agreementId);case 2:a=t.sent,e.yearAgreement=a.anio,e.roadWidth=a.camino.ancho_camino.descripcion,e.roadWidthId=a.camino.ancho_camino.id,e.baseBudget=a.presupuesto.presupuesto_base,e.currentBudget=a.presupuesto.presupuesto_real,e.baseAndCurrentVariance=a.presupuesto.variacion,e.metaAgreement=a.meta;case 10:case"end":return t.stop()}}),t)})))()},getBaseBudget:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rr({roadWidth:e.roadWidthId,year:e.yearAgreement,metaAgreement:e.metaAgreement});case 2:a=t.sent,e.paymentConcepts=Ze(a);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(u["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAgreement();case 2:return t.next=4,e.getBaseBudget();case 4:e.$store.state.breadcrumb=["Presupuesto de Camino"];case 5:case"end":return t.stop()}}),t)})))()}},Us=qs,Gs=Object(B["a"])(Us,js,Ss,!1,null,null,null),zs=Gs.exports;o["default"].use(v["a"]);var Vs=[{path:"/asignaciones/:assignmentId/avances-fisicos/:physicalAdvanceId/actualizar",name:"UpdatePhysicalAdvances",component:Ts,meta:{requiresAuth:!0}},{path:"/convenios/:agreementId/presupuesto",name:"Budget",component:zs,meta:{requiresAuth:!0}},{path:"/asignaciones/:assignmentId/avances-fisicos/nuevo",name:"NewPhysicalAdvances",component:$s,meta:{requiresAuth:!0}},{path:"/convenios/:agreementId/representantes",name:"Representatives",component:qn,meta:{requiresAuth:!0}},{path:"/convenios/:agreementId/representantes/nuevo",name:"NewRepresentative",component:ds,meta:{requiresAuth:!0}},{path:"/asignaciones",name:"Assignments",component:In,meta:{requiresAuth:!0}},{path:"/caminos/:roadKey/avances-fisicos",name:"PhysicalAdvances",component:Rn,meta:{requiresAuth:!0}},{path:"/",name:"Login",component:rn,meta:{guest:!0}},{path:"/sandbox",name:"Sandbox Test Component",component:ca},{path:"/caminos",name:"Caminos",component:at,meta:{requiresAuth:!0}},{path:"/busqueda",name:"BusquedaCaminos",component:ci},{path:"/financiero",name:"DatosFinancieros",component:Ga,meta:{requiresAuth:!1}},{path:"/avancefinanciero",name:"DatosAvanceFinancieros",component:Zr,meta:{requiresAuth:!1}},{path:"/altacamino",name:"AltaCamino",component:ne},{path:"/editcamino/:obraId",name:"EditarCamino",component:Xo,meta:{requiresAuth:!1}},{path:"/editobra/:obraId",name:"AltaCaminosWork",component:_o,meta:{requiresAuth:!1}},{path:"/editAF/:obraId",name:"AltaAF",component:$r,meta:{requiresAuth:!0}},{path:"/analisis-de-obra",name:"analisisdeobra",component:Sr,meta:{requiresAuth:!0}},{path:"/convenio",name:"Programacion",component:$a,meta:{requiresAuth:!0}},{path:"/obras",name:"Obras",component:at},{path:"/presupuesto/:obraId/:anio/:anchoId/:convenioId/:meta/",name:"Presupuesto",component:fr,meta:{requiresAuth:!1}},{path:"/presupuesto/base/kilometro",name:"PresupuestoBaseKilometro",component:wn}],Ks=new v["a"]({mode:"history",base:"/sispacam-front/",routes:Vs});Ks.beforeEach((function(e,t,a){var o=e.matched.some((function(e){return e.meta.requiresAuth})),i=tc.state.user.isAuthenticated;o&&!i?a("/"):a()}));var Hs,Js=Ks,Ws=a("1232"),Xs={namespaced:!0,state:{user:null,userRol:null,userId:null,token:null,refreshToken:"",isAuthenticated:!1,loginError:!1},mutations:(Hs={setUser:function(e,t){e.user=t},LogOut:function(e){e.user=null},setAccessToken:function(e,t){e.token=t},setRefreshToken:function(e,t){e.refreshToken=t},setAuthenticated:function(e,t){e.isAuthenticated=t},setLoginError:function(e,t){e.loginError=t}},Object(m["a"])(Hs,"setUser",(function(e,t){e.user=t})),Object(m["a"])(Hs,"setUserRol",(function(e,t){e.userRol=t})),Object(m["a"])(Hs,"setuserId",(function(e,t){e.userId=t})),Hs),actions:{login:function(e,t){return Object(u["a"])(Object(d["a"])().mark((function a(){var o,i,r;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.commit,a.prev=1,a.next=4,p(t);case 4:if(i=a.sent,!i){a.next=17;break}if(o("setAccessToken",i.access),o("setRefreshToken",i.access),r=Object(Ws["a"])(i.access),o("setuserId",r.icveusuario),o("setUser",i.name),o("setUserRol",i.perfil),o("setAuthenticated",!0),o("setLoginError",!1),"RESIDENTE"!==i.perfil){a.next=16;break}return a.abrupt("return",Js.push({name:"Assignments"}));case 16:return a.abrupt("return",Js.push({name:"Caminos"}));case 17:a.next=28;break;case 19:return a.prev=19,a.t0=a["catch"](1),console.log("catch erroro login"),console.log(a.t0),o("setAccessToken",!1),o("setRefreshToken",!1),o("setAuthenticated",!1),o("setLoginError",!0),a.abrupt("return",Promise.reject(a.t0));case 28:case"end":return a.stop()}}),a,null,[[1,19]])})))()},refreshToken:function(){var e=Object(u["a"])(Object(d["a"])().mark((function e(t){var a,o,i,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,o=t.commit,e.next=3,f({token:a.refreshToken});case 3:i=e.sent,r=i.token,r&&o("setAccessToken",response.data.accessToken);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),setAccessToken:function(e,t){var a=e.commit;console.log("setAccesToken accion"),a("setAccessToken",t)}},getters:{isAuthenticated:function(e){return!!e.isAuthenticated},StateUser:function(e){return e.user},StateRol:function(e){return e.userRol}}},Ys={namespaced:!0,state:{cancel:!1,conceptos:[{codigo:"A",name:"TERRACERIAS",presupuesto:null},{codigo:"B",name:"OBRAS DE DRENAJE Y ESTRUCTURAS",presupuesto:null},{codigo:"C",name:"SUPERFICIE DE RODAMIENTO",presupuesto:null},{codigo:"D",name:"SEÑALAMIENTO",presupuesto:null}],conceptosExtraordinarios:{codigo:"F",name:"PRECIOS EXTRAORDINARIOS",presupuesto:[]}},mutations:{setVisibleTerracerias:function(e,t){e.conceptos.terracerias.visible=t},setPresupuesto:function(e,t){var a=t.presupuesto,o=t.codigo;e.conceptos.map((function(e){e.codigo==o&&(e.presupuesto=a)}))},setPresupuestoExtraOrdinario:function(e,t){var a=t.presupuesto;e.conceptosExtraordinarios.presupuesto=a},cancel:function(e,t){e.cancel=t}},getters:{getPresupuestoByName:function(e){return!0}}},Zs=a("d7c3"),Qs=a.n(Zs),ec=a("0e44");o["default"].use(s["a"]);var tc=new s["a"].Store({state:{altacamino:{},camino:{id:null,ancho:null,isCanceled:null,id_convenio:null,presupuesto:{edit_mode:!1}},foo:"root-foo",breadcrumb:[],cancel:{id:null},reactivar:{id:null},cancelConvenio:{id:null}},mutations:{setBreadcrumb:function(e,t){e.breadcrumb=t},setIdCancelacion:function(e,t){e.cancel.id=t},setIdReactivacion:function(e,t){e.reactivar.id=t},setIdCancelacionConvenio:function(e,t){e.cancelConvenio.id=t},setStatusCamino:function(e,t){e.camino.isCanceled=t},setAnchoCamino:function(e,t){e.camino.ancho=t},setIdConcevenio:function(e,t){e.camino.id_convenio=t},setEditMode:function(e,t){e.camino.presupuesto.edit_mode=t}},getters:{},actions:{test:function(e,t){return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.next=3,bc(t);case 3:a.sent;case 4:case"end":return a.stop()}}),a)})))()}},modules:{user:Xs,presupuesto:Ys,camino:Qs.a},plugins:[Object(ec["a"])({key:"camino",paths:["user","camino"]})]}),ac=a("ec02"),oc=a.n(ac),ic=l.a.create({baseURL:"https://web-production-cbe8.up.railway.app/api/v1",timeout:15e4}),rc=function(e){return ic.post("/token",{token:sc()}).then((function(t){return tc.dispatch("user/setAccessToken",t.accessToken),e.response.config.headers["Authorization"]="Bearer "+t.accessToken,Promise.resolve()}))},nc={statusCodes:[401,403]};function sc(){var e=JSON.parse(localStorage.getItem("camino"));return e?e.user.refreshToken:""}function cc(){var e=JSON.parse(localStorage.getItem("camino"));return e?e.user.token:""}oc()(ic,rc,nc),ic.interceptors.request.use((function(e){return e.headers["Authorization"]="Bearer "+cc(),e})),ic.interceptors.response.use((function(e){return 200===e.status||201===e.status||202===e.status||204===e.status?e.data:Promise.reject()}),(function(e){console.log(e);var t=e.response,a=e.message;if(e.response&&e.response.data){var o=t.status,i=t.data;return console.log(a+" - "+o+" "+i),Object(y["Message"])({message:"Ocurrio un error al realizar la petición",type:"error",duration:5e3}),Promise.reject(i)}if("Network Error"===a&&(a="Network Error"),a.includes("timeout")&&(a="timeout"),a.includes("Request failed with status code")){var r=a.substr(a.length-3);a="Backend interface"+r+"Exception"}return console.log(a),Object(y["Message"])({message:"Ocurrio un error al realizar la petición",type:"error",duration:5e3}),Promise.reject(a)}));var lc=ic;a("b383");function dc(e){return lc({url:"/rodamientos/",method:"post",data:e})}function uc(){return lc({url:"/estado/",method:"get"})}function mc(e){return lc({url:"/camino/"+e+"/",method:"get"})}function pc(e){return lc({url:"/municipio/",method:"get",params:{estado:e}})}function fc(e){return lc({url:"/camino/",method:"post",data:e})}function vc(e){return lc({url:"/localidades/",method:"get",params:{municipio:e}})}function bc(e){return lc({url:"/posts",method:"get",params:e})}var hc={data:function(){return{breadcrumbs:[]}},computed:{isAuthenticated:function(){return this.$store.getters["user/isAuthenticated"]},cData:function(){return this.data},getUser:function(){return this.$store.getters["user/StateUser"]},getRol:function(){return this.$store.getters["user/StateRol"]},getBreadcrumb:function(){return this.$store.state.breadcrumb}},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["b"])(["test"])),Object(s["d"])("user",["setAuthenticated"])),{},{saludar:function(){this.test({username:""})},logout:function(){this.setAuthenticated(!1),this.$router.push("/")}}),created:function(){console.log("SISPACAM::v3.1.8")}},gc=hc,_c=(a("f55b"),Object(B["a"])(gc,i,r,!1,null,null,null)),Cc=_c.exports,xc=a("dcb8"),yc=a.n(xc),wc=(a("5aac"),a("3ed6")),Pc=a.n(wc),Oc=(a("0fae"),a("1d67")),$c=a("9a0f"),Ac=a("f9d5"),Mc=a.n(Ac),Ic=(a("4413"),a("4c93"));Object(Jn["c"])("decimal",Object(n["a"])(Object(n["a"])({},Ic["a"]),{},{message:"Este campo deberia ser numerico y tener hasta {decimals} decimales."})),Object(Jn["c"])("required",Object(n["a"])(Object(n["a"])({},Ic["c"]),{},{message:"Este campo es requerido."})),Object(Jn["c"])("numeric",Object(n["a"])(Object(n["a"])({},Ic["b"]),{},{message:"Este campo deberia ser numerico."})),Object(Jn["c"])("digits",{validate:function(e,t){return e.length==t.length||"Este campo deberia tener {length} digitos"},params:["length"]}),Object(Jn["c"])("rfc",(function(e){var t=/^([A-ZÑ\x26]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]))([A-Z\d]{3})?$/;return!!t.exec(e)||"Formato RFC no valido"})),Object(Jn["c"])("curp",(function(e){var t=/^[A-Z]{1}[AEIOU]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$/;return!!t.exec(e)||"Formato CURP no valido"})),o["default"].use(Mc.a),o["default"].use(w.a,{locale:Pc.a}),o["default"].use(Oc["a"]),o["default"].use($c["a"]),Object(ko["G"])(!0),l.a.defaults.baseURL="https://web-production-cbe8.up.railway.app/api/v1",o["default"].use(xe.a),o["default"].prototype.$residenteGroup=411,o["default"].prototype.$systemId=201,o["default"].config.productionTip=!1,o["default"].use(yc.a,{eventEmitter:new o["default"],idleTime:12e5}),o["default"].use(a("2ead")),o["default"].use(J["a"]),o["default"].use(W["a"]),new o["default"]({router:Js,store:tc,render:function(e){return e(Cc)}}).$mount("#app")},"5aac":function(e,t,a){},"5d46":function(e,t,a){"use strict";a("2016")},"66f3":function(e,t,a){"use strict";a("735a")},"6ded":function(e,t,a){e.exports=a.p+"img/5.0.0f3fe225.jpg"},"6eb6":function(e,t,a){"use strict";a("0629")},"735a":function(e,t,a){},7604:function(e,t,a){e.exports=a.p+"img/5.5.8fe6532c.jpg"},"78c2":function(e,t,a){},"835f":function(e,t,a){"use strict";a("a0a2")},"909a":function(e,t,a){"use strict";a("78c2")},"93e1":function(e,t,a){"use strict";a("cb99")},"9c33":function(e,t,a){},"9ca5":function(e,t,a){"use strict";a("5276")},a0a2:function(e,t,a){},a53f:function(e,t,a){e.exports=a.p+"img/6.0.8748e53d.jpg"},a898:function(e,t,a){"use strict";a("f382")},aca7:function(e,t,a){e.exports=a.p+"img/logo.45d2b641.jpg"},b363:function(e,t,a){},b435:function(e,t,a){"use strict";a("e81f")},b4df:function(e,t,a){},c59c:function(e,t,a){"use strict";a("4085")},cb99:function(e,t,a){},d04f:function(e,t,a){e.exports=a.p+"img/4.5.7b9f8e85.jpg"},d56b:function(e,t,a){"use strict";a("1a1a")},d7c3:function(e,t){},db35:function(e,t,a){},e343:function(e,t,a){},e81f:function(e,t,a){},f382:function(e,t,a){},f3d1:function(e,t,a){"use strict";a("47f4")},f549:function(e,t,a){"use strict";a("e343")},f55b:function(e,t,a){"use strict";a("112b")},ff18:function(e,t,a){e.exports=a.p+"img/4.0.4eb94c60.jpg"}});
//# sourceMappingURL=app.fa5c5b24.js.map